const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/kojokk7exwju9br2.js","assets/b8ijctzpgh0s7wpx.js","assets/citrwydz0bgriwlc.js","assets/root-gxczc0vy.css","assets/krbmwir12ubt4od1.js","assets/conversation-small-dfayqh3x.css","assets/etmxhiuvgu79utu0.js","assets/hbpbckirom363mgh.js","assets/c5l07rcbg83bqush.js","assets/gaxh4csbc95s5l26.js","assets/cwi4lsxreiklxbjv.js","assets/k5qjx4jdow04k7d2.js","assets/BusinessesMap-alw4dhxd.css"])))=>i.map(i=>d[i]);
import{r as p,j as s,M as N,i as S,b as ms,a5 as Te,x as fs,u as ps,c as le,R as gs,e as Ee,d as bt,l as pe,a6 as ze}from"./b8ijctzpgh0s7wpx.js";import{z9 as xs,za as vs,zb as ge,b2 as H,gv as yt,gw as wt,gy as jt,gz as _t,zc as bs,aJ as ys,gN as ws,fv as js,bP as Oe,ub as _s,aX as de,gM as $s,gC as Cs,aG as ks,dq as ue,bh as xe,bg as Ns,ba as Ts,b9 as Ss,ie as Ms,dr as Ps,gn as $t,b8 as Ds,nN as Ct,ly as Es,mr as As,eR as Ls,zd as Is,jT as Ae,ze as kt,nU as Nt,be as Q,zf as Fs,zg as Rs,de as Hs,df as Tt,zh as zs,wf as Os,e7 as Ws,dd as Us,E as U,jd as St,aW as Mt,a$ as ve,zi as Ys,rI as We,gu as Bs,dI as Vs,gs as qs,bX as P,wd as Zs,zj as Gs,ft as Xs,dY as Ks,bn as Js,zk as Qs,bQ as en,nO as tn,su as sn,jv as nn,id as an,ix as rn,eQ as on,j0 as cn,lY as Ue,O as ln,zl as dn,zm as un,zn as hn,oP as mn,oO as fn,eU as pn,lL as gn}from"./krbmwir12ubt4od1.js";import{c as $,aD as xn,aI as Pt,aF as Dt,ad as vn,B as R,O as bn,ac as B,dl as yn,dG as wn,dw as jn,dx as _n,E as $n,bS as Cn,a8 as Et,ak as Le,dr as At,b as kn,d as Nn,m as he,ew as Lt,i7 as It,n as K,eA as Ft,j as me,b1 as Rt,e as se,eH as Tn,ec as Sn,bc as Mn,d1 as Pn,a7 as Dn,gF as Ht,ah as fe,F as zt,Q as En,_ as An,ex as Ot,u as Ln,a_ as In,eX as Fn,l as Rn}from"./citrwydz0bgriwlc.js";import{u as Wt,R as Ut,a as Yt,b as Hn,I as zn,c as On,C as Wn,d as Un,e as Yn,f as Bn,M as Vn,r as qn}from"./be0n9593bbjhdouz.js";import{b as Zn,c as Gn}from"./nvghija6qp2cunds.js";import{P as Xn}from"./ku4zsoy6w4wkp690.js";import{W as Kn}from"./ju91cj9mp2lx2yuz.js";import{e as Bt,f as Jn,W as Qn}from"./omp8ie1vzl40ti1z.js";import{A as ea}from"./jr954f5murhu609u.js";import{C as ta,a as sa}from"./gbxx25eoj7wtyna0.js";import{u as na,b as aa}from"./gaxh4csbc95s5l26.js";import{R as ra}from"./e74336rl4x47z2ei.js";import{P as oa}from"./exvo283q5zxd2q6r.js";import{g as ia,u as ca,a as Se,I as la}from"./bzsolvz1ulyrc61b.js";import{u as da}from"./k5qjx4jdow04k7d2.js";import{S as ua}from"./o6iizogkfybkxcpa.js";import{a as ha,b as ma}from"./ct6yhczwft8t5t9k.js";import{a as fa,b as pa}from"./by1c2a5hsj4exnt8.js";import{u as ga,a as xa}from"./l4etgojhnqjuqlgi.js";import{a as G}from"./hbpbckirom363mgh.js";import{v as Ye,C as va,A as ba,a as ya,L as wa,B as ja,p as _a,b as $a,c as Ca,P as ka,d as Na,i as Ta,e as Sa}from"./belvvj76e8q0tm6q.js";import{b as Ma,a as Pa,c as Da}from"./etmxhiuvgu79utu0.js";import{c as Vt}from"./eobw6ahe02v4g6se.js";const Ea=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M5.08496 15.0003V12.5003C5.08496 12.1781 4.91677 11.8776 4.63672 11.6898L4.50977 11.6155C4.0393 11.3828 3.33513 10.8582 3.33496 10.0003C3.33496 9.14215 4.03924 8.61683 4.50977 8.38409L4.63672 8.31085C4.91685 8.12306 5.08485 7.82254 5.08496 7.50031V5.00031C5.08496 3.68283 6.19768 2.66827 7.5 2.66827C7.86727 2.66827 8.16503 2.96605 8.16504 3.33331C8.16504 3.70058 7.86727 3.99835 7.5 3.99835C6.87032 3.99835 6.41504 4.47778 6.41504 5.00031V7.50031C6.41492 8.36161 5.93339 9.09884 5.24121 9.50031L5.09961 9.57648C4.94956 9.65069 4.82638 9.7415 4.74902 9.83038C4.67487 9.9156 4.66504 9.97101 4.66504 10.0003C4.66511 10.0297 4.6753 10.0845 4.74902 10.1693C4.82639 10.2581 4.94952 10.3499 5.09961 10.4241L5.24121 10.4993C5.93356 10.9008 6.41504 11.6388 6.41504 12.5003V15.0003C6.41521 15.49 6.81517 15.9418 7.38379 15.9964L7.5 16.0013L7.63379 16.015C7.93684 16.0768 8.16488 16.345 8.16504 16.6663C8.16504 16.9877 7.93688 17.2557 7.63379 17.3177L7.5 17.3314L7.25781 17.3196C6.06281 17.2032 5.08513 16.2351 5.08496 15.0003ZM13.585 15.0003V12.5003C13.585 11.5813 14.1332 10.8036 14.9004 10.4241L15.0078 10.3655C15.1093 10.3044 15.193 10.2359 15.251 10.1693C15.3247 10.0845 15.3349 10.0297 15.335 10.0003C15.335 9.97101 15.3251 9.9156 15.251 9.83038C15.193 9.76378 15.1092 9.69615 15.0078 9.63507L14.9004 9.57648C14.1332 9.19707 13.5851 8.4192 13.585 7.50031V5.00031C13.585 4.51052 13.1849 4.05889 12.6162 4.00421L12.5 3.99835L12.3662 3.98468C12.0631 3.92275 11.835 3.65474 11.835 3.33331C11.835 2.96604 12.1327 2.66827 12.5 2.66827L12.7422 2.67999C13.9373 2.79644 14.915 3.76533 14.915 5.00031V7.50031C14.9152 7.86853 15.1349 8.20836 15.4902 8.38409L15.6758 8.48468C16.1258 8.75277 16.665 9.24929 16.665 10.0003C16.6649 10.7511 16.1257 11.2469 15.6758 11.515L15.4902 11.6155C15.1348 11.7913 14.915 12.132 14.915 12.5003V15.0003C14.9149 16.3176 13.8022 17.3314 12.5 17.3314C12.1327 17.3314 11.835 17.0336 11.835 16.6663C11.8351 16.2992 12.1328 16.0013 12.5 16.0013C13.1295 16.0013 13.5848 15.5227 13.585 15.0003Z"})),Aa=Vt("ChevronDownFilled","1em",["M15.8 7.73c.28.3.27.78-.03 1.06l-5.25 5a.75.75 0 0 1-1.04 0l-5.25-5a.75.75 0 0 1 1.04-1.08L10 12.2l4.73-4.5a.75.75 0 0 1 1.06.02Z"]),La=Vt("ChevronLeftFilled","1em",["M12.27 15.8a.75.75 0 0 1-1.06-.03l-5-5.25a.75.75 0 0 1 0-1.04l5-5.25a.75.75 0 1 1 1.08 1.04L7.8 10l4.5 4.73c.29.3.28.78-.02 1.06Z"]),Be=({children:e,"data-start":t=null,"data-end":n=null,"data-is-last-node":a,"data-is-only-node":r,tag:o})=>{const{animationTiming:c,shouldAnimate:l,shouldHide:i,isDisabled:m,onComplete:u,onReady:f}=xs({isMarker:!0,tag:o,children:e,start:t,end:n,isLastNode:a,isOnlyNode:r});return m||i?s.jsx(o,{"data-start":t,"data-end":n,className:$(i&&"hidden"),children:e}):s.jsx(o,{"data-start":t,"data-end":n,className:$(ge.marker,l?ge.animate:ge.hidden),onAnimationStart:()=>f(0),onAnimationEnd:()=>u(0),style:vs(c),children:e})},Ia={p:e=>s.jsx(H,{tag:"p",...e}),h1:e=>s.jsx(H,{tag:"h1",...e}),h2:e=>s.jsx(H,{tag:"h2",...e}),h3:e=>s.jsx(H,{tag:"h3",...e}),h4:e=>s.jsx(H,{tag:"h4",...e}),h5:e=>s.jsx(H,{tag:"h5",...e}),h6:e=>s.jsx(H,{tag:"h6",...e}),li:e=>s.jsx(Be,{tag:"li",isListItem:!0,...e}),hr:e=>s.jsx(Be,{tag:"hr",...e})};function Fa(e){const t=e.split(`
`),n=Ra(t.pop()).trimEnd();return n&&t.push(n),t.join(`
`)}function Ra(e){if(!e||/^\s*-\s*([*_]+)?\s*$/.test(e))return"";const t=[];let n="",a=0;for(;a<e.length;){if(e[a]==="*"&&e[a+1]==="*"){n+="**",t.length&&t[t.length-1]==="**"?t.pop():t.push("**"),a+=2;continue}if(e[a]==="*"||e[a]==="_"){n+=e[a];const o=e[a];t.length&&t[t.length-1]===o?t.pop():t.push(o),a++;continue}if(e[a]==="["){const o=e[a];n+=o,t.push(o),a++;continue}if(e[a]==="]"){const o=e[a];n+=o,t.length&&t[t.length-1]==="["&&t.pop(),a++;continue}if(e[a]==="("&&e[a-1]==="]"){const o=e[a];n+=o,t.push(o),a++;continue}if(e[a]===")"){const o=e[a];n+=o,t.length&&t[t.length-1]==="("&&t.pop(),a++;continue}n+=e[a],a++}if(t.length===0)return e;let r=n.trimEnd();for(;t.length;){const o=t.pop();if(o==null)break;o==="("?r+=")":r.endsWith(o)?r=r.slice(0,-o.length).trimEnd():o==="["?r+="]()":r+=o}return r}const Ie=p.createContext(void 0);function Ha({path:e,lineRangeStart:t,lineRangeEnd:n,gitUrl:a}){const[r,o]=p.useState(!1),c=p.useContext(Ie),l=p.useRef(null),i=p.useRef(null),m=p.useRef(null),u=()=>{m.current&&(clearTimeout(m.current),m.current=null),o(!0)},f=()=>{m.current=window.setTimeout(()=>{o(!1)},200)};if(!e)return null;const v=c?.fileSnapshots.find(b=>b.path===e);if(!v)return null;const x=Oa(t,n,v);return x.length?s.jsxs(yt,{open:r,onOpenChange:o,children:[s.jsx(wt,{asChild:!0,onMouseEnter:u,onMouseLeave:f,children:s.jsx("span",{ref:l,className:"bg-token-bg-secondary text-token-text-secondary mx-0.5 inline-flex aspect-square size-min cursor-default items-center justify-center rounded-full p-1",children:s.jsx(Ea,{className:"size-[10px]"})})}),s.jsx(jt,{children:s.jsx(_t,{ref:i,className:"z-50 focus:outline-none",side:"right",onMouseEnter:u,onMouseLeave:f,onOpenAutoFocus:b=>b.preventDefault(),children:s.jsx(za,{snapshot:v,snippetLines:x,lineRangeStart:t,lineRangeEnd:n,gitUrl:a})})})]}):null}function za({snapshot:e,snippetLines:t,lineRangeStart:n,lineRangeEnd:a,gitUrl:r}){const o=e.path.split(".").pop()??"sh",c=t.reduce((i,m)=>{if(m.trim()==="")return i;const u=m.match(/^\s*/),f=u?u[0].length:0;return i===-1?f:Math.min(i,f)},-1),l=t.map(i=>c>0?i.slice(c):i).join(`
`);return s.jsxs("div",{className:"bg-token-bg-primary border-token-border-default mx-4 flex max-h-[600px] flex-col rounded-2xl border px-2 pt-2 pb-4 shadow-[0px_4px_16px_0px_rgba(0,0,0,0.05)] focus:outline-none dark:shadow-none",children:[l&&s.jsx(bs,{wrapperClassName:"rounded-lg !bg-token-bg-tertiary !border-none mb-3 max-h-[400px] overflow-auto text-xs w-[600px] max-w-full",codeContainerClassName:"!p-2",language:o,content:l,showActionBar:!1}),s.jsxs("div",{className:"grid w-full grid-cols-[minmax(0,1fr)_auto] items-center justify-between gap-1 px-2 text-sm",children:[e.path,s.jsxs("div",{className:"text-token-text-tertiary flex items-center gap-1 whitespace-nowrap",children:[s.jsx(N,{id:"wham.citation.file.lineRange",defaultMessage:"Lines {lineRangeStart}-{lineRangeEnd}",values:{lineRangeStart:n,lineRangeEnd:a}}),r&&s.jsx("a",{className:"group flex w-full items-center gap-1 p-1",href:r,target:"_blank",rel:"noopener noreferrer",children:s.jsx(ys,{className:"icon-xs hover:text-token-text-primary"})})]})]})]})}function Oa(e,t,n){if(n.contents){const c=n.contents.split(`
`),l=Math.max(0,e-1),i=t?Math.min(c.length,t):l+1;return c.slice(l,i)}const a=n.line_range_contents?.find(c=>Wa(c,e,t));if(!a)return[];const r=Math.max(e-a.line_range_start,0),o=r+(t-e+1);return a.content.slice(r,o)}function Wa(e,t,n){return t<e.line_range_start?!1:!(n>e.line_range_end)}function Ua(){const e=Pt.getItem(Dt.ProposedTasks);return e&&typeof e=="object"?e:{}}const Ve=xn(e=>({tasks:Ua(),store(t){e(n=>{const a={...n.tasks,[t.contentId]:t};return Pt.setItem(Dt.ProposedTasks,a),{tasks:a}})}}));function Ya({title:e,prompt:t,environmentId:n,branch:a,contentId:r,hasHitRateLimit:o}){const[c,l]=p.useState(!1),i=ws(),{setEnvironmentId:m,setBranch:u}=Bt(),{refetch:f}=Jn(),v=S(),x=vn(),b=Ve(g=>g.tasks[r]),h=Ve(g=>g.store),{mutate:_,isPending:k}=ms({mutationFn:()=>Qn.createNewTask(n,a,t,!1).catch(g=>{throw x.danger(v.formatMessage({id:"wham.whamComposer.failedToCreateTask",defaultMessage:"Failed to create task"}),{id:`suggestion-${r}`,duration:5,hasCloseButton:!0}),g}),onSuccess:async g=>{await f(),j(g)}}),j=g=>{try{const w=g.task.id,d=g.turn.id,C=`/codex/tasks/${w}`;h({contentId:r,prompt:t,scheduledTaskId:w,turnId:d,url:C}),l(!1)}catch{}},y=!n||!a||k||o;return s.jsxs("div",{className:$("mt-1 mb-3 flex w-full items-center rounded-xl px-3 py-3",b?"bg-token-bg-secondary border border-transparent":"bg-token-bg-primary border-token-border-default border shadow-[0px_1px_1px_0px_rgba(0,0,0,0.05)]"),children:[s.jsxs("div",{className:$("group flex flex-1 items-center gap-1",!b&&"-my-3 py-3",!b&&!y&&"cursor-pointer"),onClick:()=>{y||b||(m(n),u(a),l(!0),Oe.recordProposedTaskClicked("edit"))},children:[s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsx("span",{className:"text-token-text-tertiary text-xs",children:s.jsx(N,{id:"wham.whamProposedTask.title",defaultMessage:"Suggested task"})}),s.jsx("span",{className:$("text-sm font-medium",b&&"text-token-text-tertiary"),children:e})]}),!y&&!b&&s.jsx(js,{className:"icon-sm text-token-text-secondary mb-0.5 cursor-pointer self-end opacity-0 transition-opacity group-hover:opacity-100"})]}),s.jsx("div",{className:"flex items-center justify-end gap-2 text-xs",children:b?s.jsx(R,{size:"small",color:"secondary",as:"a",to:b?.url,openNewTab:!0,children:s.jsx("span",{className:"text-token-text-primary font-medium",children:s.jsx(N,{id:"lwqFNG",defaultMessage:"View task"})})}):s.jsx(Ba,{prompt:o?v.formatMessage({id:"wham.proposedTask.hitRateLimit",defaultMessage:"You have reached your rate limit"}):t,tooltipEnabled:!b&&!c,children:s.jsx(R,{size:"small",color:"secondary",disabled:y,onClick:()=>{Oe.recordProposedTaskClicked("create"),_()},children:s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx(N,{id:"b2N2Y8",defaultMessage:"Start task"}),k?s.jsx(bn,{className:"icon-xs me-[2px]"}):s.jsx(_s,{className:"icon-sm"})]})})})}),s.jsx(B.Root,{testId:"modal-task-stub-composer",isOpen:c,onClose:()=>l(!1),children:s.jsx(B.Overlay,{children:s.jsx("div",{className:"flex h-full w-full items-center justify-center",onClick:g=>{g.stopPropagation(),g.preventDefault()},children:s.jsxs(yn,{className:"w-3xl focus:outline-hidden",onEscapeKeyDown:g=>{g.stopPropagation(),l(!1)},children:[s.jsxs(wn,{children:[s.jsx(jn,{children:s.jsx(N,{id:"wham.proposedTaskModel.title",defaultMessage:"Kick off a new Codex task"})}),s.jsx(_n,{children:s.jsx(N,{id:"wham.proposedTaskModel.description",defaultMessage:"Codex can propose new follow up tasks"})})]}),s.jsx(Te.div,{initial:{opacity:0,translateY:20},animate:{opacity:1,translateY:0},transition:{duration:i?0:.25},children:s.jsxs("div",{className:"flex flex-col items-center gap-8",children:[s.jsx("h1",{className:"text-token-text-primary dark text-token-text-primary text-[28px] font-semibold",children:s.jsx(N,{id:"wham.proposedTaskModal.title",defaultMessage:"Edit suggested task"})}),s.jsx(Va,{prompt:t,onSuccess:j})]})})]})})})})]})}function Ba({prompt:e,tooltipEnabled:t,children:n}){return t?s.jsx(de,{side:"right",label:s.jsx("span",{className:"block p-2 text-start whitespace-pre-wrap",children:e}),wide:!0,children:n}):n}function Va({prompt:e,onSuccess:t}){const n=$n(),a=p.useMemo(()=>n?new Xn(Zn()):new $s,[n]);return p.useEffect(()=>{a.setText(e.trimEnd())},[a,e]),s.jsx(Gn.Provider,{value:a,children:s.jsx(Kn,{isBigBoxMode:!0,isExpandedByDefault:!0,disableDuringSubmit:!0,onSuccess:t})})}function qa({title:e,prompt:t}){const n=p.useContext(Ie),a=Bt(o=>o.getRateLimit()?.remaining===0),r=p.useMemo(()=>Za(`${n?.taskId}:${e}:${t}`),[n?.taskId,e,t]);return!n||!n.environmentId||!n.branch?null:s.jsx(Ya,{title:e,prompt:t,environmentId:n.environmentId,branch:n.branch,contentId:r,hasHitRateLimit:a})}function Za(e){let t=5381;for(let n=0;n<e.length;n++)t=(t<<5)+t^e.charCodeAt(n);return(t>>>0).toString(16).padStart(8,"0")}function Ga({chunkId:e,lineRangeStart:t,lineRangeEnd:n}){const[a,r]=p.useState(!1),c=p.useContext(Ie)?.terminalMessageContents.find(b=>b.includes(e)),l=p.useRef(null),i=p.useRef(null),m=p.useRef(null);if(!c)return null;const u=Ka(c);if(!u)return null;const f=u.output.slice(t-1,n);if(!f.some(b=>!!b.length))return null;const v=()=>{m.current&&(clearTimeout(m.current),m.current=null),r(!0)},x=()=>{m.current=window.setTimeout(()=>{r(!1)},200)};return s.jsxs(yt,{open:a,onOpenChange:r,children:[s.jsx(wt,{asChild:!0,onMouseEnter:v,onMouseLeave:x,children:s.jsx("span",{ref:l,className:"bg-token-bg-secondary text-token-text-secondary mx-0.5 inline-flex aspect-square size-min cursor-default items-center justify-center rounded-full p-1",children:s.jsx(Cs,{className:"size-[10px]"})})}),s.jsx(jt,{children:s.jsx(_t,{ref:i,className:"z-50 focus:outline-none",side:"right",onMouseEnter:v,onMouseLeave:x,onOpenAutoFocus:b=>b.preventDefault(),children:s.jsx("div",{className:"max-h-[500px] max-w-screen px-4",children:s.jsx(Xa,{lines:f,lineRangeStart:t,lineRangeEnd:n})})})})]})}function Xa({lines:e,lineRangeStart:t,lineRangeEnd:n}){return s.jsxs("div",{className:"bg-token-bg-primary border-token-border-default mx-4 flex flex-col overflow-auto rounded-2xl border px-2 pt-2 pb-3 shadow-[0px_4px_16px_0px_rgba(0,0,0,0.05)] focus:outline-none dark:shadow-none",children:[s.jsx(ea,{className:"bg-token-sidebar-surface-primary dark mb-2.5 max-h-[200px] w-full overflow-auto rounded-lg p-3 font-mono text-xs whitespace-pre text-white dark:border dark:border-white/10",children:e.join(`
`)}),s.jsx("div",{className:"flex w-full justify-end gap-1 px-2 text-sm",children:s.jsx("span",{className:"text-token-text-tertiary",children:s.jsx(N,{id:"wham.citation.terminal.lineRange",defaultMessage:"Lines {lineRangeStart}-{lineRangeEnd}",values:{lineRangeStart:t,lineRangeEnd:n}})})})]})}function Ka(e){try{const t=JSON.parse(e);return!("chunk_id"in t)||typeof t.chunk_id!="string"||!("session_name"in t)||typeof t.session_name!="string"||!("start_line_no"in t)||typeof t.start_line_no!="number"?null:"output"in t?t:null}catch{return null}}function Ja(e){return e&&/^turn[0-9]+ifs[0-9]+$/.test(e)}const Qa=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M14.3008 8.09863C14.6036 8.16081 14.8311 8.42879 14.8311 8.75C14.8311 9.07121 14.6036 9.33919 14.3008 9.40137L14.166 9.41504H13.333C12.9659 9.41491 12.668 9.11719 12.668 8.75C12.668 8.38281 12.9659 8.08509 13.333 8.08496H14.166L14.3008 8.09863Z"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.333 1.83496C14.1604 1.83496 14.8309 2.50565 14.8311 3.33301V5C14.8311 5.05831 14.8207 5.11407 14.8066 5.16797H15C16.7479 5.16797 18.1649 6.58517 18.165 8.33301V13.333C18.165 14.6208 17.1208 15.665 15.833 15.665H14.832V16.667C14.8319 17.4944 14.1604 18.165 13.333 18.165H6.66699C5.83959 18.165 5.16814 17.4944 5.16797 16.667V15.665H4.16699C2.87925 15.665 1.83496 14.6208 1.83496 13.333V8.33301C1.83513 6.58517 3.25213 5.16797 5 5.16797H5.19238C5.1783 5.11411 5.16797 5.05827 5.16797 5V3.33301C5.16814 2.50584 5.83888 1.83527 6.66602 1.83496H13.333ZM6.49805 16.667C6.49822 16.7598 6.57413 16.835 6.66699 16.835H13.333C13.4259 16.835 13.5018 16.7598 13.502 16.667V12.332H6.49805V16.667ZM5 6.49805C3.98667 6.49805 3.16521 7.31971 3.16504 8.33301V13.333C3.16504 13.8862 3.61379 14.335 4.16699 14.335H5.16797V12.332H5C4.63284 12.332 4.33513 12.0341 4.33496 11.667C4.33496 11.2997 4.63273 11.002 5 11.002H15L15.1338 11.0156C15.4369 11.0776 15.665 11.3456 15.665 11.667C15.6649 11.9883 15.4368 12.2564 15.1338 12.3184L15 12.332H14.832V14.335H15.833C16.3862 14.335 16.835 13.8862 16.835 13.333V8.33301C16.8348 7.31971 16.0133 6.49805 15 6.49805H5ZM6.66602 3.16504C6.57342 3.16535 6.49822 3.24038 6.49805 3.33301V5C6.49805 5.05831 6.48773 5.11407 6.47363 5.16797H13.5254C13.5113 5.11411 13.501 5.05827 13.501 5V3.33301C13.5008 3.24019 13.4259 3.16504 13.333 3.16504H6.66602Z"})),er=({messages:e})=>{const t=S(),n=Cn(e);if(!n)return null;const a=n.metadata?.async_task_title,r=t.formatMessage({id:"5tCuOj",defaultMessage:"Try ChatGPT"});return s.jsxs("div",{className:"flex justify-between print:hidden",children:[s.jsxs("div",{className:"flex flex-col justify-start",children:[s.jsx("p",{className:"text-token-text-primary text-lg font-medium",children:a}),s.jsx("div",{className:"text-token-text-tertiary text-sm",children:s.jsx(N,{id:"FqymvQ",defaultMessage:"Content may be unverified or unsafe. <reportLink>Report</reportLink>",values:{reportLink:o=>s.jsx("a",{href:"https://openai.com/form/report-content/",target:"_blank",rel:"noopener noreferrer",className:"underline",children:o})}})})]}),s.jsxs("div",{className:"flex cursor-pointer flex-row items-center gap-x-4 rounded-md p-2",children:[s.jsx(Qa,{className:"icon-lg-heavy text-token-text-secondary hover:bg-token-main-surface-secondary",onClick:()=>print()}),s.jsx(R,{className:$("btn btn-secondary bg-black text-white hover:opacity-70"),onClick:()=>{window.open(window.location.origin+"/?utm_src=deep-research-sharing","_blank")},icon:Et,label:r,children:r})]})]})},qt=p.createContext({postId:""});function n1({postWithProfile:e,threadId:t}){if(e.post.attachments[0].kind!=="deep_research")return null;const n=e.post.attachments[0].messages;return s.jsx(qt.Provider,{value:{postId:e.post.id},children:s.jsx(oa,{clientThreadId:t,children:s.jsx("div",{className:"bg-token-main-surface-secondary min-h-screen w-full pb-8",children:s.jsxs("div",{className:"mx-auto max-w-3xl",children:[s.jsx("div",{className:"px-2 py-6",children:s.jsx(er,{messages:n})}),s.jsx("div",{className:"border-token-border-xlight bg-token-main-surface-primary flex flex-col rounded-xl border-b pt-4 shadow-md print:border-none print:pt-2 print:shadow-none",children:s.jsxs("div",{className:"p-14 pt-8",children:[s.jsx("a",{href:window.location.origin+"/?utm_src=deep-research-sharing",target:"_blank",rel:"noopener noreferrer",children:s.jsxs("div",{className:"flex items-center gap-3 pb-4",children:[s.jsx(Et,{className:"text-token-text-primary h-8 w-8"}),s.jsx(ks,{})]})}),s.jsx(ra,{messages:n,threadId:t})]})})]})})})})}const tr=4;function sr({metadata:e,analyticsMetadata:t,trackContentReferenceEvent:n}){const a=ue(),r=e.images,o=r.some(u=>u.is_proxied_image)?[]:r.map(u=>u.thumbnail_url),c=fs({queries:o.map(u=>ia(u)),combine:u=>{const f=new Set;return u.forEach((v,x)=>{v.isSuccess&&f.add(o[x])}),f}}),l=r.filter(u=>c.has(u.thumbnail_url)),i=e.images.length;if(r.some(u=>u.is_proxied_image)){const u=r.find(v=>v.is_proxied_image),f=$("mb-7 mt-1 min-w-32 max-w-[22%] rounded-xl border-[0.5px] border-token-border-default",u?.float_top?"relative block":"float-image z-10 float-end clear-end ms-7 overflow-hidden");return s.jsx(be,{image:u,imageSource:xe.Turn,analyticsMetadata:t,trackContentReferenceEvent:n,className:f},u?.content_url)}if(i===0)return null;if(i===1){const u=e.images[0];return s.jsx(be,{image:u,imageSource:xe.Turn,analyticsMetadata:t,trackContentReferenceEvent:n,className:"float-image border-token-border-default z-10 float-end clear-end ms-7 mt-1 mb-7 max-w-[22%] min-w-32 overflow-hidden rounded-xl border-[0.5px]"},u.content_url)}const m=a?l.length:Math.min(l.length,tr);return s.jsx("div",{className:"no-scrollbar mt-1 mb-6 flex min-h-36 flex-nowrap gap-0.5 overflow-auto sm:gap-1 sm:overflow-hidden xl:min-h-44",children:l.slice(0,m).map((u,f)=>s.jsx("div",{className:$("border-token-border-default relative aspect-square max-h-48 w-32 shrink-0 overflow-hidden rounded-xl border-[0.5px] sm:w-[calc((100%-1rem)/4)] md:shrink",f===0&&"rounded-s-xl",f===m-1&&"rounded-e-xl"),children:s.jsx(be,{image:u,imageSource:xe.Turn,analyticsMetadata:t,trackContentReferenceEvent:n,className:"h-full w-full"},u.thumbnail_url)},u.thumbnail_url))})}const Zt=p.memo(sr,(e,t)=>e.numImageResults===t.numImageResults&&e.analyticsMetadata===t.analyticsMetadata&&e.trackContentReferenceEvent===t.trackContentReferenceEvent&&e.metadata.images.length===t.metadata.images.length&&e.metadata.images.every((n,a)=>n.content_url===t.metadata.images[a].content_url));function nr(e,t){if(!e||!t)return null;const{width:n,height:a}=t;if(n===a)return null;const{center_x_percent:r,center_y_percent:o}=e;let c=50,l=50;if(a>n){const i=a-n;l=(o*a-n/2)/i*100,c=50}else{const i=n-a;c=(r*n-a/2)/i*100,l=50}return`${c.toFixed(1)}% ${l.toFixed(1)}%`}function be({image:e,imageSource:t,className:n,imgClassName:a,style:r,analyticsMetadata:o,trackContentReferenceEvent:c}){const l=ca(e),i=e?.content_url.replace(/^http:\/\//,"https://"),m=ar(e),{isSuccess:u}=Se(l),{isSuccess:f,isError:v}=Se(m?i:void 0),x=p.useMemo(()=>({image_url:l,title:e?.title}),[l,e?.title]);p.useEffect(()=>{e&&u&&c("Search Content Reference Shown","search_content_reference_shown","image_v2",x)},[c,e,u,x]),p.useEffect(()=>{i&&v&&Le.addAction("Failed to download full image",{url:i,thumbnailUrl:l})},[i,v,l]);const b=Ns.useStore(),h=nr(e?.thumbnail_crop_info??null,e?.thumbnail_size??null),_=!e||!(u||f||e.is_proxied_image),k=(()=>{if(!_)return e.is_proxied_image?e.url:m&&f?i:l})();return s.jsx("button",{className:$("relative aspect-square overflow-hidden",n),style:r,onClick:()=>{c("Search Content Reference Clicked","search_content_reference_clicked","image_v2",x),b.setCurrentImage(e?{image:e,source:t,analyticsMetadata:o}:void 0)},children:_?s.jsx("div",{className:"bg-token-main-surface-tertiary aspect-square h-full w-full animate-pulse"}):s.jsx(la,{children:s.jsx("img",{src:k,alt:e?.content_url,style:h?{objectPosition:h}:{},className:$("bg-token-main-surface-tertiary m-0 h-full w-full object-cover",a)})})})}function ar(e){return!e||e.is_proxied_image?!1:e.thumbnail_url.includes("images.openai.com/thumbnails")}async function rr({conversationId:e,messageId:t,assetPointerLinks:n,sharedConversationLikeId:a}){return await kn.safePost("/conversation/get_images_for_message",{requestBody:{conversation_id:e??null,share_id:a??null,message_id:t,asset_pointer_links:n},authOption:Nn.SendIfAvailable})}function or({reference:e,conversationId:t,messageId:n,sharedConversationLikeId:a}){return ps({queryKey:["inline-images",e,t,n],queryFn:async()=>{if(!e.asset_pointer_links||e.asset_pointer_links.length===0||!t&&!a)return{images:[],formats:[]};const r=await rr({conversationId:t,messageId:n,assetPointerLinks:e.asset_pointer_links,sharedConversationLikeId:a});for(let o=0;o<r.images.length;o++){const c=r.images[o],i=`image/${r.formats[o]}`,m=ir(c,i);r.images[o]=m}return r}})}function ir(e,t="",n=512){const a=atob(e),r=[];for(let c=0;c<a.length;c+=n){const l=a.slice(c,c+n),i=new Array(l.length);for(let u=0;u<l.length;u++)i[u]=l.charCodeAt(u);const m=new Uint8Array(i);r.push(m)}const o=new Blob(r,{type:t});return URL.createObjectURL(o)}const cr=200;function lr({reference:e,clientThreadId:t,message:n,trackContentReferenceEvent:a}){const r=At(t),{postId:o}=p.useContext(qt),{data:c,isLoading:l,isError:i,error:m}=or({reference:e,conversationId:r,messageId:n.id,sharedConversationLikeId:o}),u=p.useRef([]);if(p.useEffect(()=>()=>{u.current.forEach(x=>{URL.revokeObjectURL(x)}),u.current=[]},[]),l||i||m||!c||!("images"in c))return null;u.current=[];const f=(x,b)=>{const h=new RegExp(b+"\\s*([^\\n]+)","m"),_=x.match(h);return _&&_[1]?_[1].trim().length:0};let v=-1;return n.content.content_type==="text"&&(v=f(n.content.parts.join(""),e.matched_text)),s.jsx(s.Fragment,{children:c?.images.map((x,b)=>{const h={matched_text:e.matched_text,start_idx:e.start_idx,end_idx:e.end_idx,safe_urls:e.safe_urls,alt:e.alt,prompt_text:e.prompt_text,type:"image_v2",images:[{url:x,content_url:e.clicked_from_url??"",thumbnail_url:x,title:e.clicked_from_title??"",content_size:{width:141,height:143},thumbnail_size:{width:141,height:143},is_proxied_image:!0,float_top:v<cr||v===-1}]};return s.jsx(Zt,{metadata:h,analyticsMetadata:{clientThreadId:t,messageId:n.id},numImageResults:1,trackContentReferenceEvent:a},`image-carousel-inline-${b}`)})})}const I={TTFP:"products.ttfp",TTLT:"products.ttlt",TTF_VISIBLE_CONTENT_TOKEN:"products.ttf_visible_content_token"},Fe={[I.TTFP]:new Set,[I.TTLT]:new Set,[I.TTF_VISIBLE_CONTENT_TOKEN]:new Set};function ye({profiler:e,messageId:t,metric:n,overrideDurationMs:a}){Fe[n].add(t);const r=Ms();e.logTiming(n,{context:{eval_preset:r.eval_preset},overrideDurationMs:a})}function we({messageId:e,metric:t}){return Fe[t].has(e)}function dr(e){"use forget";const t=le.c(9),{namespace:n,clientThreadId:a}=e;let r;t[0]!==n?(r=()=>Ss({namespace:n,opts:{debug:!1}}),t[0]=n,t[1]=r):r=t[1];const[o]=p.useState(r),c=he(a,ur),l=Lt(c);let i;t[2]===Symbol.for("react.memo_cache_sentinel")?(i=new Set,t[2]=i):i=t[2];const m=p.useRef(i);let u,f;t[3]!==o||t[4]!==c?(u=()=>{if(c&&!m.current.has(c)){m.current.add(c);const b=It(c);b&&o.reset(b.turnTracker.start_time_ms)}},f=[c,o],t[3]=o,t[4]=c,t[5]=u,t[6]=f):(u=t[5],f=t[6]),p.useEffect(u,f);const v=l?o:null;let x;return t[7]!==v?(x={profiler:v},t[7]=v,t[8]=x):x=t[8],x}function ur(e){return K.getRequestId(e)}function Gt(e){"use forget";const t=le.c(25),{clientThreadId:n,messageId:a,products:r}=e;let o;t[0]!==a?(o=y=>[K.getRequestId(y),K.isMessageTurnEnded(y,a)],t[0]=a,t[1]=o):o=t[1];const[c,l]=he(n,o);let i;t[2]!==n?(i={namespace:Ts.ProductsCompletionRequest,clientThreadId:n},t[2]=n,t[3]=i):i=t[3];const{profiler:m}=dr(i),f=Lt(c)&&!l,v=da(f);let x,b;t[4]!==f||t[5]!==a||t[6]!==r.length||t[7]!==m?(x=()=>{we({messageId:a,metric:I.TTFP})||m&&f&&r.length>0&&ye({profiler:m,messageId:a,metric:I.TTFP})},b=[f,a,r.length,m],t[4]=f,t[5]=a,t[6]=r.length,t[7]=m,t[8]=x,t[9]=b):(x=t[8],b=t[9]),p.useEffect(x,b);let h,_;t[10]!==f||t[11]!==a||t[12]!==v||t[13]!==m?(h=()=>{we({messageId:a,metric:I.TTLT})||v.current&&!f&&m&&ye({profiler:m,messageId:a,metric:I.TTLT})},_=[a,v,f,m],t[10]=f,t[11]=a,t[12]=v,t[13]=m,t[14]=h,t[15]=_):(h=t[14],_=t[15]),p.useEffect(h,_);let k;t[16]!==a||t[17]!==m||t[18]!==c?(k=()=>{if(!we({messageId:a,metric:I.TTF_VISIBLE_CONTENT_TOKEN})&&m){const y=c?It(c):null;if(y){const g=I.TTF_VISIBLE_CONTENT_TOKEN;Fe[g].add(a),ye({profiler:m,messageId:a,metric:g,overrideDurationMs:y.turnTracker.first_visible_content_token_lat})}}},t[16]=a,t[17]=m,t[18]=c,t[19]=k):k=t[19];let j;t[20]!==a||t[21]!==r.length||t[22]!==m||t[23]!==c?(j=[a,m,c,r.length],t[20]=a,t[21]=r.length,t[22]=m,t[23]=c,t[24]=j):j=t[24],p.useEffect(k,j)}function hr({contentReference:e,clientThreadId:t,messageId:n,turnIndex:a,trackContentReferenceEvent:r}){const o=p.useCallback(()=>r("Search Content Reference Shown","search_content_reference_shown","product_entity",{content_reference_start_index:e.start_idx,product_id:e.product.id}),[r,e.start_idx,e.product.id]),c=p.useCallback(()=>r("Search Content Reference Clicked","search_content_reference_clicked","product_entity",{content_reference_start_index:e.start_idx,product_id:e.product.id}),[r,e.start_idx,e.product.id]),l=e.product;p.useEffect(()=>o(),[o]),Gt({clientThreadId:t,messageId:n,products:[l]});const{openThreadSidebar:i}=Ft();return s.jsx("span",{className:"decoration-token-text-secondary inline align-baseline underline decoration-[4%] underline-offset-[16%] [text-decoration-skip-ink:auto] [text-underline-position:from-font] hover:cursor-pointer",onClick:()=>{if(c(),l.offers){if(!t)return;i({type:"product",clientThreadId:t,messageId:n,turnIndex:a,contentReferenceStartIndex:e.start_idx,productIndex:0})}else window.open(l.url,"_blank")},children:s.jsx("span",{className:"whitespace-normal",children:l.title})})}function Xt({items:e,targetItemCount:t,onCardRender:n,onCardShown:a,onCardClicked:r,onReplyClicked:o,allowFullWidth:c=!1}){const l=p.useRef(null),[i,m]=p.useState(null),u=p.useRef(null),f=()=>{u.current=setTimeout(()=>{m(null),u.current=null},200)},v=()=>{u.current&&(clearTimeout(u.current),u.current=null)},x=p.useRef(null),[b,h]=p.useState({left:0,top:0}),_=8;p.useEffect(()=>{const w=l.current,d=x.current;if(!o||!i||!w||!d)return;const C=()=>{const T=i.card.getBoundingClientRect(),A=w.getBoundingClientRect(),D=d.getBoundingClientRect(),hs=T.bottom-A.top+_;var q=T.left-A.left;q=Math.max(0,q),q=Math.min(q,A.width-D.width),h({left:q,top:hs})};return C(),w.addEventListener("scroll",C),()=>w.removeEventListener("scroll",C)},[i,e,o]);const k=ue(),j=k?2:4;if(t===void 0)t=e.length;else if(!t&&e.length<j)return null;const y=(t??e.length)>=j,g=y&&k;return s.jsxs("div",{className:"relative",children:[s.jsx("div",{ref:l,className:$("flex flex-row gap-4 py-2",g&&"mx-[-1rem] px-[1rem]",y&&"no-scrollbar snap-x snap-proximity scroll-ps-4 overflow-x-scroll scroll-smooth"),children:e.map((w,d)=>s.jsx("div",{className:$(y||!c?"w-50 shrink-0 snap-start @5xl/thread:w-61":"min-w-0 flex-1"),children:s.jsx(mr,{onShown:()=>a(w,d),onClick:()=>r(w,d),onHover:C=>{v(),C?m({card:C,item:w,index:d}):f()},children:n(w,!k&&t===1)})},d))}),y&&!g&&s.jsx(fr,{scrollableRef:l,units:e.length}),o&&s.jsx("div",{ref:x,className:$("absolute z-10",i?"pointer-events-auto opacity-100":"pointer-events-none opacity-0","transition-[transform,opacity] duration-200"),style:{willChange:"opacity, transform",left:b.left,top:b.top,transform:i?"translateY(0)":"translateY(-8px)"},onMouseEnter:v,onMouseLeave:f,children:s.jsx(R,{className:$(i?"pointer-events-auto":"pointer-events-none","border-light bg-clip-padding px-4 py-2 shadow-md"),size:"small",color:"secondary",onClick:()=>i&&o(i.item,i.index),children:s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx(ua,{className:"icon-sm text-token-text-secondary"}),s.jsx(N,{id:"9TG7OR",defaultMessage:"Ask about this"})]})})})]})}function mr({onShown:e,onClick:t,onHover:n,children:a}){const r=p.useRef(null),o=p.useRef(e);return p.useEffect(()=>{o.current=e},[e]),p.useEffect(()=>{if(!r.current)return;const c=new IntersectionObserver(([l])=>l.isIntersecting&&o.current(),{threshold:.5});return c.observe(r.current),()=>c.disconnect()},[]),s.jsx("div",{ref:r,className:$("h-full w-full","bg-token-bg-primary cursor-pointer overflow-hidden rounded-xl","border-token-border-default hover:border-light border bg-clip-padding hover:shadow-md","transition-all duration-200"),onClick:t,onMouseEnter:()=>r.current&&n(r.current),onMouseLeave:()=>n(null),children:a})}function fr({scrollableRef:e,units:t}){const[n,a]=p.useState({left:!1,right:!1});p.useEffect(()=>{const o=e.current;if(!o)return;const c=()=>{const{scrollLeft:l,scrollWidth:i,clientWidth:m}=o,u=l/(i-m);a({left:u>0,right:u<1})};return c(),o.addEventListener("scroll",c),()=>o.removeEventListener("scroll",c)},[e,t]);const r=o=>{if(!e.current)return;const{clientWidth:c,scrollWidth:l}=e.current,i=l/t,m=Math.floor(c/i)*i;e.current.scrollBy({left:m*o,behavior:"smooth"})};return s.jsxs("div",{className:"pointer-events-none absolute start-0 top-0 flex h-full w-full flex-row",children:[s.jsx("div",{className:$("flex h-full w-9 items-center justify-start","bg-linear-to-r from-(--bg-primary) to-transparent",n.left?"opacity-100":"opacity-0","transition-opacity duration-200"),children:s.jsx(R,{color:"secondary",size:"small",className:"border-token-border-default h-8 w-8 rounded-full",onClick:()=>r(-1),children:s.jsx(Ps,{className:"icon"})})}),s.jsx("div",{className:$("ms-auto flex h-full w-9 items-center justify-end","bg-linear-to-l from-(--bg-primary) to-transparent",n.right?"opacity-100":"opacity-0","transition-opacity duration-200"),children:s.jsx(R,{color:"secondary",size:"small",className:"border-token-border-default h-8 w-8 rounded-full",onClick:()=>r(1),children:s.jsx($t,{className:"icon"})})})]})}function pr({contentReference:e,clientThreadId:t,messageId:n,turnIndex:a,analyticsMetadata:r}){const o=e.products,c=e.target_product_count;Gt({clientThreadId:t,messageId:n,products:o});const{showDebugConversationTurns:l}=Ds(),i=he(t,j=>{const g=K.getNode(j,n).message.metadata?.content_references?.find(w=>w.type==="products");return e.start_idx===g?.start_idx}),m=me(),u=Rt(m,"3144771298"),f=Ct(r),v=p.useCallback((j,y)=>f("Search Content Reference Shown","search_content_reference_shown","products",{content_reference_start_index:e.start_idx,product_index:y,product_id:j.id}),[f,e.start_idx]),x=p.useCallback((j,y)=>f("Search Content Reference Clicked","search_content_reference_clicked","products",{content_reference_start_index:e.start_idx,product_index:y,product_id:j.id}),[f,e.start_idx]),{openThreadSidebar:b}=Ft(),h=(j,y)=>{t&&(x(j,y),j.offers?b({type:"product",clientThreadId:t,messageId:n,turnIndex:a,contentReferenceStartIndex:e.start_idx,productIndex:y}):window.open(j.url,"_blank"))},{setTargetedContent:_}=Es(),k=(j,y)=>{se.logEventWithStatsig("Product Targeted Reply Clicked","product_targeted_reply_clicked",{...Tn(r),content_reference_start_index:e.start_idx,product_index:y,product_id:j.id}),_({type:"object",label:j.title,createNewCompletionParams:g=>{const w=Sn(j.title);return{...g,promptMessage:As(g.promptMessage,{metadata:{targeted_reply:j.title,targeted_reply_label:j.title,targeted_reply_icon:"product_tag"}}),appendMessages:[...g.appendMessages??[],w]}},onCreateCompletion:({serverThreadId:g,currentLeafId:w})=>{se.logEventWithStatsig("Targeted Reply Submitted","chatgpt_targeted_reply_submitted",{conversation_id:g,current_leaf_id:w,source_message_id:n,content_reference_start_index:e.start_idx,product_index:y,product_id:j.id})},onCleared:({serverThreadId:g,currentLeafId:w})=>{se.logEventWithStatsig("Targeted Reply Cleared","chatgpt_targeted_reply_cleared",{conversation_id:g,current_leaf_id:w,source_message_id:n,content_reference_start_index:e.start_idx,product_index:y,product_id:j.id})}})};return s.jsxs("div",{className:"flex flex-col",children:[s.jsx(Xt,{items:o,targetItemCount:c,onCardRender:(j,y)=>s.jsx(gr,{product:j,wide:y,showDebug:l}),onCardShown:v,onCardClicked:h,onReplyClicked:k,allowFullWidth:!0}),i&&u&&s.jsxs("div",{className:"text-token-text-secondary flex text-xs hover:cursor-pointer hover:underline",onClick:()=>window.open("https://help.openai.com/en/articles/11128490","_blank"),children:[s.jsx(N,{id:"4Y5Zn5",defaultMessage:"ChatGPT chooses products independently. Learn more"}),s.jsx($t,{className:"icon -ms-0.5"})]})]})}function gr({product:e,wide:t,showDebug:n=!1}){const a=e.image_urls?e.image_urls[0]:void 0,[r,o]=p.useState("contain"),c=p.useRef(null);return s.jsxs("div",{className:$("flex",t?"flex-row":"flex-col"),children:[s.jsxs("div",{className:$("relative aspect-square",t?"w-1/3":"w-full","bg-token-main-surface-secondary dark:bg-token-main-surface-primary-inverse"),children:[a?s.jsx("img",{ref:c,className:`absolute inset-0 m-0 h-full w-full mix-blend-darken object-${r}`,src:a,alt:e.title,onLoad:()=>{if(!c.current)return;const{naturalWidth:l,naturalHeight:i}=c.current,m=l/i;o(Math.abs(m-1)<.25?"cover":"contain")}}):s.jsx("div",{className:"flex aspect-square items-center justify-center",children:s.jsx(Ls,{className:"text-token-text-tertiary h-12 w-12"})}),e.featured_tag&&s.jsx("div",{className:"absolute start-3 end-3 bottom-3",children:s.jsxs("div",{className:"relative max-w-fit px-2 py-1",children:[s.jsx("div",{className:"absolute inset-0 rounded-full bg-white/60 backdrop-blur-xl"}),s.jsx("div",{className:"relative truncate text-xs font-semibold text-gray-950",children:e.featured_tag})]})})]}),s.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[s.jsx("div",{className:"line-clamp-2 leading-snug font-semibold text-ellipsis",children:e.title}),e.description&&s.jsx("div",{className:"line-clamp-3 pt-3 text-sm text-ellipsis",children:e.description}),s.jsx("div",{className:"flex-1"}),s.jsxs("div",{className:"flex flex-row items-end pt-3",children:[s.jsxs("div",{className:"flex flex-col overflow-hidden",children:[s.jsx("div",{className:"text-md leading-snug font-semibold",children:e.price}),s.jsx("div",{className:"text-token-text-secondary overflow-hidden pt-0.5 text-xs text-ellipsis whitespace-nowrap",children:e.merchants})]}),s.jsx("div",{className:"flex-1"}),e.num_reviews&&e.num_reviews>0&&s.jsxs("div",{className:"text-token-text-secondary flex w-fit flex-row gap-1 text-sm",children:[s.jsx(Is,{rating:e.rating??0/5}),(e.rating??0).toFixed(1)]})]}),!1]})]})}function xr({attribution:e,wordFadeType:t}){const n=p.useContext(Q),a=Fs(n?.message.id,e.attributable_index),r=Rs();return s.jsx(yr,{isHighlighted:a,isDebugMode:r&&!1,content:e.alt??"",attributableIndex:e.attributable_index,attributions:void 0,attributionsDebug:void 0,wordFadeType:t})}const vr=p.memo(Ae);function br({content:e,isHighlighted:t,isDebugMode:n,attributableIndex:a,attributions:r,attributionsDebug:o,wordFadeType:c}){const l=c==="indexed",i=kt(),m=p.useMemo(()=>l?{handlers:{text:(v,x,b)=>{const h=[];for(const _ of i(x.value))h.push({type:"element",tagName:"span",properties:{className:Nt.fadeIn},children:[{type:"text",value:_}]});return h}}}:void 0,[l,i]),u=p.useMemo(()=>({p:({children:v})=>s.jsx(s.Fragment,{children:v})}),[]),f=s.jsx(vr,{rehypePlugins:Yt,remarkPlugins:Ut,urlTransform:Wt,remarkRehypeOptions:m,components:u,children:e});return s.jsx(wr,{isHighlighted:t,children:f})}const yr=gs.memo(br);function wr({isHighlighted:e,className:t,children:n}){return s.jsx("span",{className:$("relative","-mx-px my-[-0.2rem] rounded px-px py-[0.2rem]",e&&"bg-[#FCECC1] dark:bg-[#64572A]","transition-colors duration-100 ease-in-out",t),children:n})}function qe(e,t){try{return BigInt(e).toLocaleString(t)}catch{const n=Number(e);return e.includes("e")||e.includes("E")?n.toExponential():n.toLocaleString(t,{maximumFractionDigits:6})}}function jr({data:e,trackContentReferenceEvent:t}){p.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown",e.type)},[t,e.type]);const n=Mn().locale;return e.expression&&e.result!=null?s.jsxs("div",{className:"no-scrollbar overflow-auto sm:overflow-hidden",children:[s.jsxs("div",{className:"pb-1 text-lg font-semibold",children:[e.prefix&&s.jsx("span",{children:e.prefix}),s.jsx("span",{children:qe(e.result,n)}),e.suffix&&s.jsx("span",{children:e.suffix})]}),s.jsx("div",{className:"text-token-text-primary tracking-wide",children:`${e.expression}=${qe(e.result,n)}`})]}):null}function _r(e){return s.jsxs(Pn,{width:"19",height:"15",viewBox:"0 0 19 15",fill:"none",...e,children:[s.jsx("path",{d:"M4.42 0.75H2.8625H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V11.65C0.75 12.7546 1.64543 13.65 2.75 13.65H2.8625C2.8625 13.65 2.8625 13.65 2.8625 13.65C2.8625 13.65 4.00751 13.65 4.42 13.65M13.98 13.65H15.5375H15.65C16.7546 13.65 17.65 12.7546 17.65 11.65V2.75C17.65 1.64543 16.7546 0.75 15.65 0.75H15.5375H13.98",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M5.55283 4.21963C5.25993 3.92674 4.78506 3.92674 4.49217 4.21963C4.19927 4.51252 4.19927 4.9874 4.49217 5.28029L6.36184 7.14996L4.49217 9.01963C4.19927 9.31252 4.19927 9.7874 4.49217 10.0803C4.78506 10.3732 5.25993 10.3732 5.55283 10.0803L7.95283 7.68029C8.24572 7.3874 8.24572 6.91252 7.95283 6.61963L5.55283 4.21963Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M9.77753 8.75003C9.3357 8.75003 8.97753 9.10821 8.97753 9.55003C8.97753 9.99186 9.3357 10.35 9.77753 10.35H13.2775C13.7194 10.35 14.0775 9.99186 14.0775 9.55003C14.0775 9.10821 13.7194 8.75003 13.2775 8.75003H9.77753Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.1"})]})}function $r({codeMessage:e,codeExecutionOutputMessage:t,onDismiss:n,FormattedText:a}){const r=S();return s.jsx(B.Root,{isOpen:!0,onClose:n,testId:"modal-code-execution",children:s.jsx(B.Overlay,{children:s.jsxs(B.Content,{className:"flex max-h-[75vh] max-w-lg flex-col overflow-hidden",children:[s.jsx(B.Header,{title:r.formatMessage(Cr.title),type:"success",closeButton:s.jsx(Dn,{onClick:n})}),s.jsxs("div",{className:"flex flex-1 flex-col overflow-auto",children:[s.jsx("div",{children:s.jsx(fa,{FormattedText:a,message:e,codeRendererClassName:"border-none rounded-none",removeTopBorderRadius:!0})}),s.jsx("div",{children:s.jsx(pa,{message:t})})]})]})})})}const Cr=Ee({title:{id:"CodeExecutionOutputModal.title",defaultMessage:"Analysis"}});function kr({displayInfo:e,FormattedText:t,trackContentReferenceEvent:n}){const[a,r]=p.useState(!1),o=S();return p.useEffect(()=>{n("Search Content Reference Shown","search_content_reference_shown",e.type)},[n,e.type]),s.jsxs(s.Fragment,{children:[s.jsx(de,{label:o.formatMessage(Nr.viewAnalysis),side:"top",delayDuration:150,children:s.jsx("button",{onClick:()=>r(!0),children:s.jsx(_r,{className:"text-token-link hover:text-token-link-hover ms-0.5 -mt-0.5 inline-block"})})}),a&&s.jsx($r,{FormattedText:t,codeMessage:e.codeMessage,codeExecutionOutputMessage:e.codeExecutionOutputMessage,onDismiss:()=>r(!1)})]})}const Nr=Ee({viewAnalysis:{id:"viewAnalysis",defaultMessage:"View analysis"}});function Tr({iconRef:e,className:t,alt:n}){const a=e?.vector_url??e?.raster_url;return a?s.jsx("img",{src:a,className:t,alt:n}):s.jsx(Tt,{className:t})}function Kt(e,t,n,a){const r=Rt(n,"3958255976"),o=Hs(e.cloud_doc_url??""),c=(r?e.fff_metadata?.name:void 0)??e.name,l=(r?e.fff_metadata?.display_file_type_name:void 0)??o?.type??a.formatMessage({id:"bqY3sN",defaultMessage:"File"}),i=(r&&e.fff_metadata?.display_file_type_icon?s.jsx(Tr,{alt:l,className:t,iconRef:e.fff_metadata?.display_file_type_icon}):void 0)??(o?.Icon?s.jsx(o.Icon,{alt:l,className:t}):void 0)??s.jsx(Tt,{alt:l,className:t}),m=(r?e.fff_metadata?.capabilities?.user_view:void 0)??e.cloud_doc_url;let u;r&&e.fff_metadata?.snippet&&e.fff_metadata?.snippet.content.content_type==="text"?u=e.fff_metadata.snippet.content.text:u=e.description;const f=(r?e.fff_metadata?.file_last_modified_time:void 0)??e.last_modified_time,v=r?e.fff_metadata?.file_created_time:void 0;return{fileName:c,fileTypeDisplayName:l,fileTypeIcon:i,url:m,snippet:u,fileLastModifiedTime:f,fileCreatedTime:v}}const Jt="text-token-text-secondary inline-flex items-center rounded-full bg-[#f4f4f4] select-none dark:bg-token-main-surface-secondary",Sr=$(Jt," h-[22px] px-2 text-[0.5em] font-medium"),a1=$(Jt,"h-[25px] px-3 text-xs"),Ze=24;function Mr(e){const t=e.split(".");let n=e;return t.length>1&&t.slice(0,-1).some(a=>a.length>0)&&(n=t.slice(0,-1).join(".")),n.length>Ze&&(n=n.slice(0,Ze-1)+"…"),n}function Pr({fileRef:e,index:t,trackContentReferenceEvent:n}){const a=zs(),r=p.useContext(Q),o=p.useMemo(()=>({source:e.source,index:t}),[e.source,t]);p.useEffect(()=>{n("File Citation Shown","file_citation_shown","file",o)},[]);const c=p.useCallback(f=>{f?n("File Citation Hovered","file_citation_hovered","file",o):n("File Citation Unhovered","file_citation_unhovered","file",o)},[o,n]),l=p.useCallback(()=>{n("File Citation Clicked","file_citation_clicked","file",o)},[o,n]),i=p.useCallback(()=>{n("File Citation Followup Clicked","file_citation_followup_clicked","file",o)},[o,n]),m=p.useCallback(()=>a(e.id,e.name),[a,e.id,e.name]),u=he(r?.analyticsMetadata.clientThreadId??Ht,f=>f?.mode);return Os(u)?u.gizmo_id&&Ws(u.gizmo_id)?s.jsx("span",{className:$(Sr,"ms-1"),title:e.name,children:Mr(e.name)}):null:s.jsx(Dr,{fileItem:e,onClickDownloadFile:m,trackCloudLinkClick:l,trackFileCitationFollowup:i,trackTooltipOpenChange:c})}function Dr({className:e,fileItem:t,onClickDownloadFile:n,trackCloudLinkClick:a,trackFileCitationFollowup:r,trackTooltipOpenChange:o}){const c=S(),l=me(),{fileName:i,fileTypeDisplayName:m,fileTypeIcon:u,url:f,snippet:v}=Kt(t,"h-[16px] w-[16px] object-contain",l,c),x=$("ms-1 flex h-[22px] items-center rounded-xl px-2 relative bottom-[-2px]","bg-[#f4f4f4] text-token-text-secondary! hover:bg-token-bg-secondary dark:bg-token-main-surface-secondary dark:hover:bg-token-bg-secondary",e),b=s.jsx("span",{className:"relative inline-flex items-center",children:f?s.jsx(U,{href:f,className:x,onClick:a,children:u}):s.jsx("button",{onClick:n,className:x,children:u})});return s.jsx(Er,{contentType:m,fileId:t.id,href:f,icon:u,name:i,snippet:v,trackFileCitationFollowup:r,trackTooltipOpenChange:o,children:b})}function Er({children:e,className:t,contentType:n,fileId:a,href:r,icon:o,name:c,snippet:l,trackFileCitationFollowup:i,trackTooltipOpenChange:m}){const u=fe(),v=p.useContext(Q)?.clientThreadId??Ht,x=Us(),b=ga(v,a,c,r),h=p.useCallback((_,k)=>{k.length&&(b(_,k),i?.())},[b,i]);return s.jsx(de,{label:s.jsxs(s.Fragment,{children:[s.jsxs(U,{href:r,className:$("text-token-text-primary flex max-w-80 flex-col gap-1 text-start text-xs font-normal no-underline!",t),children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"h-4 w-4 shrink-0 overflow-hidden rounded-full",children:o}),s.jsx("div",{className:"text-token-text-primary truncate",children:n})]}),s.jsx("div",{className:"line-clamp-2 text-sm font-medium break-all",children:c}),l&&s.jsx("div",{className:"text-token-text-secondary line-clamp-2 text-sm",children:l})]}),x?null:s.jsx("div",{className:"flex w-full cursor-pointer flex-row items-center gap-2 pt-3 text-sm",children:s.jsx(xa,{sendReply:h})})]}),align:"start",cornerRadius:"xl",customBorderClassName:"border-token-border-default border",customPaddingClassName:"p-3",delayDuration:150,interactive:!0,onOpenChange:m,side:"bottom",theme:u?"default":"white",wide:!0,children:e})}function Ar(e,t){return new Date(e).toLocaleDateString(t,{month:"long",day:"numeric",year:"numeric"})}function Lr({metadata:e,trackContentReferenceEvent:t}){return e.items.length===0?null:s.jsx("div",{className:"mt-6 flex flex-col gap-3",children:e.items.map((n,a)=>s.jsx(Ir,{item:n,index:a,trackContentReferenceEvent:t},a))})}function Ir({item:e,index:t,trackContentReferenceEvent:n}){const a=S(),r=me(),{fileName:o,fileTypeDisplayName:c,fileTypeIcon:l,snippet:i,url:m,fileLastModifiedTime:u}=Kt(e,"icon-md object-contain",r,a),f={title:o,description:i?.toString()??"",index:t};return p.useEffect(()=>{n("Contextual Answers Content Reference Shown","contextual_answers_content_reference_shown","file_navlist",f)},[]),s.jsxs(U,{className:"group/nav-list relative flex items-center gap-6 py-1.5",href:m??"/",onClick:()=>{n("Contextual Answers Content Reference Clicked","contextual_answers_content_reference_clicked","file_navlist",f)},children:[s.jsx("div",{className:"absolute start-0 top-0 bottom-0 w-[3px] rounded-t-lg rounded-b-lg bg-black/10"}),s.jsxs("div",{className:"ms-4 flex grow flex-col gap-1 overflow-hidden text-ellipsis",children:[s.jsxs("div",{className:"not-prose text-token-text-primary flex items-center gap-1.5 text-sm",children:[l,s.jsx("div",{className:"text-token-text-primary line-clamp-2 text-sm",children:c})]}),s.jsx("div",{className:"text-token-link decoration-token-link line-clamp-2 font-semibold group-hover/nav-list:underline",children:o}),s.jsx("div",{className:"text-token-text-primary line-clamp-2 text-sm leading-snug font-normal",children:i}),u&&s.jsx("div",{className:"text-token-text-secondary text-sm",children:Ar(u,a.locale)})]})]})}var ee={exports:{}},Ge;function Fr(){return Ge||(Ge=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(a){if(a===null||a===!0||a===!1)return NaN;var r=Number(a);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}e.exports=t.default}(ee,ee.exports)),ee.exports}var te={exports:{}},Xe;function Rr(){return Xe||(Xe=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(a){var r=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return r.setUTCFullYear(a.getFullYear()),a.getTime()-r.getTime()}e.exports=t.default}(te,te.exports)),te.exports}function Hr(e,t){var n=Ur(t);return n.formatToParts?Or(n,e):Wr(n,e)}var zr={year:0,month:1,day:2,hour:3,minute:4,second:5};function Or(e,t){try{for(var n=e.formatToParts(t),a=[],r=0;r<n.length;r++){var o=zr[n[r].type];o>=0&&(a[o]=parseInt(n[r].value,10))}return a}catch(c){if(c instanceof RangeError)return[NaN];throw c}}function Wr(e,t){var n=e.format(t),a=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[a[3],a[1],a[2],a[4],a[5],a[6]]}var je={};function Ur(e){if(!je[e]){var t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";je[e]=n?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return je[e]}function Qt(e,t,n,a,r,o,c){var l=new Date(0);return l.setUTCFullYear(e,t,n),l.setUTCHours(a,r,o,c),l}var Ke=36e5,Yr=6e4,_e={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function es(e,t,n){var a,r;if(!e||(a=_e.timezoneZ.exec(e),a))return 0;var o;if(a=_e.timezoneHH.exec(e),a)return o=parseInt(a[1],10),Je(o)?-(o*Ke):NaN;if(a=_e.timezoneHHMM.exec(e),a){o=parseInt(a[2],10);var c=parseInt(a[3],10);return Je(o,c)?(r=Math.abs(o)*Ke+c*Yr,a[1]==="+"?-r:r):NaN}if(qr(e)){t=new Date(t||Date.now());var l=n?t:Br(t),i=Me(l,e),m=n?i:Vr(t,i,e);return-m}return NaN}function Br(e){return Qt(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function Me(e,t){var n=Hr(e,t),a=Qt(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),r=e.getTime(),o=r%1e3;return r-=o>=0?o:1e3+o,a-r}function Vr(e,t,n){var a=e.getTime(),r=a-t,o=Me(new Date(r),n);if(t===o)return t;r-=o-t;var c=Me(new Date(r),n);return o===c?o:Math.max(o,c)}function Je(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var Qe={};function qr(e){if(Qe[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Qe[e]=!0,!0}catch{return!1}}var Zr=Fr();const Gr=bt(Zr);var Xr=Rr();const et=bt(Xr);var Kr=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,$e=36e5,tt=6e4,Jr=2,M={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Kr};function Pe(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var n={},a=n.additionalDigits==null?Jr:Gr(n.additionalDigits);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var r=Qr(e),o=eo(r.date,a),c=o.year,l=o.restDateString,i=to(l,c);if(isNaN(i))return new Date(NaN);if(i){var m=i.getTime(),u=0,f;if(r.time&&(u=so(r.time),isNaN(u)))return new Date(NaN);if(r.timeZone||n.timeZone){if(f=es(r.timeZone||n.timeZone,new Date(m+u)),isNaN(f))return new Date(NaN)}else f=et(new Date(m+u)),f=et(new Date(m+u+f));return new Date(m+u+f)}else return new Date(NaN)}function Qr(e){var t={},n=M.dateTimePattern.exec(e),a;if(n?(t.date=n[1],a=n[3]):(n=M.datePattern.exec(e),n?(t.date=n[1],a=n[2]):(t.date=null,a=e)),a){var r=M.timeZone.exec(a);r?(t.time=a.replace(r[1],""),t.timeZone=r[1].trim()):t.time=a}return t}function eo(e,t){var n=M.YYY[t],a=M.YYYYY[t],r;if(r=M.YYYY.exec(e)||a.exec(e),r){var o=r[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(r=M.YY.exec(e)||n.exec(e),r){var c=r[1];return{year:parseInt(c,10)*100,restDateString:e.slice(c.length)}}return{year:null}}function to(e,t){if(t===null)return null;var n,a,r,o;if(e.length===0)return a=new Date(0),a.setUTCFullYear(t),a;if(n=M.MM.exec(e),n)return a=new Date(0),r=parseInt(n[1],10)-1,nt(t,r)?(a.setUTCFullYear(t,r),a):new Date(NaN);if(n=M.DDD.exec(e),n){a=new Date(0);var c=parseInt(n[1],10);return ro(t,c)?(a.setUTCFullYear(t,0,c),a):new Date(NaN)}if(n=M.MMDD.exec(e),n){a=new Date(0),r=parseInt(n[1],10)-1;var l=parseInt(n[2],10);return nt(t,r,l)?(a.setUTCFullYear(t,r,l),a):new Date(NaN)}if(n=M.Www.exec(e),n)return o=parseInt(n[1],10)-1,at(t,o)?st(t,o):new Date(NaN);if(n=M.WwwD.exec(e),n){o=parseInt(n[1],10)-1;var i=parseInt(n[2],10)-1;return at(t,o,i)?st(t,o,i):new Date(NaN)}return null}function so(e){var t,n,a;if(t=M.HH.exec(e),t)return n=parseFloat(t[1].replace(",",".")),Ce(n)?n%24*$e:NaN;if(t=M.HHMM.exec(e),t)return n=parseInt(t[1],10),a=parseFloat(t[2].replace(",",".")),Ce(n,a)?n%24*$e+a*tt:NaN;if(t=M.HHMMSS.exec(e),t){n=parseInt(t[1],10),a=parseInt(t[2],10);var r=parseFloat(t[3].replace(",","."));return Ce(n,a,r)?n%24*$e+a*tt+r*1e3:NaN}return null}function st(e,t,n){t=t||0,n=n||0;var a=new Date(0);a.setUTCFullYear(e,0,4);var r=a.getUTCDay()||7,o=t*7+n+1-r;return a.setUTCDate(a.getUTCDate()+o),a}var no=[31,28,31,30,31,30,31,31,30,31,30,31],ao=[31,29,31,30,31,30,31,31,30,31,30,31];function ts(e){return e%400===0||e%4===0&&e%100!==0}function nt(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;var a=ts(e);if(a&&n>ao[t]||!a&&n>no[t])return!1}return!0}function ro(e,t){if(t<1)return!1;var n=ts(e);return!(n&&t>366||!n&&t>365)}function at(e,t,n){return!(t<0||t>52||n!=null&&(n<0||n>6))}function Ce(e,t,n){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}function V(e,t,n){var a=Pe(e,n),r=es(t,a,!0),o=new Date(a.getTime()-r),c=new Date(0);return c.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),c.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),c}var ke={line:{color:"#F66",width:1,dashPattern:[]},sync:{enabled:!0,group:1,suppressTooltips:!1},zoom:{enabled:!0,zoomboxBackgroundColor:"rgba(66,133,244,0.2)",zoomboxBorderColor:"#48F",zoomButtonText:"Reset Zoom",zoomButtonClass:"reset-zoom"},snap:{enabled:!1},callbacks:{beforeZoom:function(e,t){return!0},afterZoom:function(e,t){}}},oo={id:"crosshair",afterInit:function(e){if(e.config.options.scales.x){var t=e.config.options.scales.x.type;if(!(t!=="linear"&&t!=="time"&&t!=="category"&&t!=="logarithmic")){e.options.plugins.crosshair===void 0&&(e.options.plugins.crosshair=ke),e.crosshair={enabled:!1,suppressUpdate:!1,x:null,originalData:[],originalXRange:{},dragStarted:!1,dragStartX:null,dragEndX:null,suppressTooltips:!1,ignoreNextEvents:0,reset:function(){this.resetZoom(e,!1,!1)}.bind(this)};var n=this.getOption(e,"sync","enabled");n&&(e.crosshair.syncEventHandler=function(a){this.handleSyncEvent(e,a)}.bind(this),e.crosshair.resetZoomEventHandler=function(a){var r=this.getOption(e,"sync","group");a.chartId!==e.id&&a.syncGroup===r&&this.resetZoom(e,!0)}.bind(this),window.addEventListener("sync-event",e.crosshair.syncEventHandler),window.addEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler)),e.panZoom=this.panZoom.bind(this,e)}}},afterDestroy:function(e){var t=this.getOption(e,"sync","enabled");t&&(window.removeEventListener("sync-event",e.crosshair.syncEventHandler),window.removeEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler))},panZoom:function(e,t){if(e.crosshair.originalData.length!==0){var n=e.crosshair.end-e.crosshair.start,a=e.crosshair.min,r=e.crosshair.max;t<0?(e.crosshair.start=Math.max(e.crosshair.start+t,a),e.crosshair.end=e.crosshair.start===a?a+n:e.crosshair.end+t):(e.crosshair.end=Math.min(e.crosshair.end+t,e.crosshair.max),e.crosshair.start=e.crosshair.end===r?r-n:e.crosshair.start+t),this.doZoom(e,e.crosshair.start,e.crosshair.end)}},getOption:function(e,t,n){return Ye(e.options.plugins.crosshair[t]?e.options.plugins.crosshair[t][n]:void 0,ke[t][n])},getXScale:function(e){return e.data.datasets.length?e.scales[e.getDatasetMeta(0).xAxisID]:null},getYScale:function(e){return e.scales[e.getDatasetMeta(0).yAxisID]},handleSyncEvent:function(e,t){var n=this.getOption(e,"sync","group");if(t.chartId!==e.id&&t.syncGroup===n){var a=this.getXScale(e);if(a){var r=t.original.native.buttons===void 0?t.original.native.which:t.original.native.buttons;t.original.type==="mouseup"&&(r=0);var o={type:t.original.type=="click"?"mousemove":t.original.type,chart:e,x:a.getPixelForValue(t.xValue),y:t.original.y,native:{buttons:r},stop:!0};e._eventHandler(o)}}},afterEvent:function(e,t){if(e.config.options.scales.x.length==0)return;let n=t.event;var a=e.config.options.scales.x.type;if(!(a!=="linear"&&a!=="time"&&a!=="category"&&xscaleType!=="logarithmic")){var r=this.getXScale(e);if(r){if(e.crosshair.ignoreNextEvents>0){e.crosshair.ignoreNextEvents-=1;return}var o=n.native.buttons===void 0?n.native.which:n.native.buttons;n.native.type==="mouseup"&&(o=0);var c=this.getOption(e,"sync","enabled"),l=this.getOption(e,"sync","group");if(!n.stop&&c){var t=new CustomEvent("sync-event");t.chartId=e.id,t.syncGroup=l,t.original=n,t.xValue=r.getValueForPixel(n.x),window.dispatchEvent(t)}var i=this.getOption(e,"sync","suppressTooltips");if(e.crosshair.suppressTooltips=n.stop&&i,e.crosshair.enabled=n.type!=="mouseout"&&n.x>r.getPixelForValue(r.min)&&n.x<r.getPixelForValue(r.max),!e.crosshair.enabled&&!e.crosshair.suppressUpdate)return n.x>r.getPixelForValue(r.max)&&(e.crosshair.suppressUpdate=!0,e.update("none")),e.crosshair.dragStarted=!1,!1;e.crosshair.suppressUpdate=!1;var m=this.getOption(e,"zoom","enabled");if(o===1&&!e.crosshair.dragStarted&&m&&(e.crosshair.dragStartX=n.x,e.crosshair.dragStarted=!0),e.crosshair.dragStarted&&o===0){e.crosshair.dragStarted=!1;var u=r.getValueForPixel(e.crosshair.dragStartX),f=r.getValueForPixel(e.crosshair.x);Math.abs(e.crosshair.dragStartX-e.crosshair.x)>1&&this.doZoom(e,u,f),e.update("none")}e.crosshair.x=n.x,e.draw()}}},afterDraw:function(e){if(e.crosshair.enabled)return e.crosshair.dragStarted?this.drawZoombox(e):(this.drawTraceLine(e),this.interpolateValues(e),this.drawTracePoints(e)),!0},beforeTooltipDraw:function(e){return!e.crosshair.dragStarted&&!e.crosshair.suppressTooltips},resetZoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(n){if(e.crosshair.originalData.length>0)for(var a=0;a<e.data.datasets.length;a++){var r=e.data.datasets[a];r.data=e.crosshair.originalData.shift(0)}e.crosshair.originalXRange.min?(e.options.scales.x.min=e.crosshair.originalXRange.min,e.crosshair.originalXRange.min=null):delete e.options.scales.x.min,e.crosshair.originalXRange.max?(e.options.scales.x.max=e.crosshair.originalXRange.max,e.crosshair.originalXRange.max=null):delete e.options.scales.x.max}e.crosshair.button&&e.crosshair.button.parentNode&&(e.crosshair.button.parentNode.removeChild(e.crosshair.button),e.crosshair.button=!1);var o=this.getOption(e,"sync","enabled");if(!t&&n&&o){var c=this.getOption(e,"sync","group"),l=new CustomEvent("reset-zoom-event");l.chartId=e.id,l.syncGroup=c,window.dispatchEvent(l)}n&&e.update("none")},doZoom:function(e,t,n){if(t>n){var a=t;t=n,n=a}var r=Ye(e.options.plugins.crosshair.callbacks?e.options.plugins.crosshair.callbacks.beforeZoom:void 0,ke.callbacks.beforeZoom);if(!r(t,n))return!1;if(e.crosshair.dragStarted=!1,e.options.scales.x.min&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.min=e.options.scales.x.min),e.options.scales.x.max&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.max=e.options.scales.x.max),!e.crosshair.button){var o=document.createElement("button"),c=this.getOption(e,"zoom","zoomButtonText"),l=this.getOption(e,"zoom","zoomButtonClass"),i=document.createTextNode(c);o.appendChild(i),o.className=l,o.addEventListener("click",function(){this.resetZoom(e)}.bind(this)),e.canvas.parentNode.appendChild(o),e.crosshair.button=o}e.options.scales.x.min=t,e.options.scales.x.max=n;var m=e.crosshair.originalData.length===0,u=e.config.options.scales.x.type!=="category";if(u)for(var f=0;f<e.data.datasets.length;f++){var v=[],x=0,b=!1,h=!1;m&&(e.crosshair.originalData[f]=e.data.datasets[f].data);for(var _=e.crosshair.originalData[f],k=0;k<_.length;k++){var j=_[k],y=j.x!==void 0?j.x:NaN;y>=t&&!b&&x>0&&(v.push(_[x-1]),b=!0),y>=t&&y<=n&&v.push(j),y>n&&!h&&x<_.length&&(v.push(j),h=!0),x+=1}e.data.datasets[f].data=v}if(e.crosshair.start=t,e.crosshair.end=n,m){var g=this.getXScale(e);e.crosshair.min=g.min,e.crosshair.max=g.max}e.crosshair.ignoreNextEvents=2,e.update("none");var w=this.getOption(e,"callbacks","afterZoom");w(t,n)},drawZoombox:function(e){var t=this.getYScale(e),n=this.getOption(e,"zoom","zoomboxBorderColor"),a=this.getOption(e,"zoom","zoomboxBackgroundColor");e.ctx.beginPath(),e.ctx.rect(e.crosshair.dragStartX,t.getPixelForValue(t.max),e.crosshair.x-e.crosshair.dragStartX,t.getPixelForValue(t.min)-t.getPixelForValue(t.max)),e.ctx.lineWidth=1,e.ctx.strokeStyle=n,e.ctx.fillStyle=a,e.ctx.fill(),e.ctx.fillStyle="",e.ctx.stroke(),e.ctx.closePath()},drawTraceLine:function(e){var t=this.getYScale(e),n=this.getOption(e,"line","width"),a=this.getOption(e,"line","color"),r=this.getOption(e,"line","dashPattern"),o=this.getOption(e,"snap","enabled"),c=e.crosshair.x;o&&e._active.length&&(c=e._active[0].element.x),e.ctx.beginPath(),e.ctx.setLineDash(r),e.ctx.moveTo(c,t.getPixelForValue(t.max)),e.ctx.lineWidth=n,e.ctx.strokeStyle=a,e.ctx.lineTo(c,t.getPixelForValue(t.min)),e.ctx.stroke(),e.ctx.setLineDash([])},drawTracePoints:function(e){for(var t=0;t<e.data.datasets.length;t++){var n=e.data.datasets[t],a=e.getDatasetMeta(t),r=e.scales[a.yAxisID];a.hidden||!n.interpolate||(e.ctx.beginPath(),e.ctx.arc(e.crosshair.x,r.getPixelForValue(n.interpolatedValue),3,0,2*Math.PI,!1),e.ctx.fillStyle="white",e.ctx.lineWidth=2,e.ctx.strokeStyle=n.borderColor,e.ctx.fill(),e.ctx.stroke())}},interpolateValues:function(e){for(var t=0;t<e.data.datasets.length;t++){var n=e.data.datasets[t],a=e.getDatasetMeta(t),r=e.scales[a.xAxisID],o=r.getValueForPixel(e.crosshair.x);if(!(a.hidden||!n.interpolate)){var c=n.data,l=c.findIndex(function(f){return f.x>=o}),i=c[l-1],m=c[l];if(e.data.datasets[t].steppedLine&&i)n.interpolatedValue=i.y;else if(i&&m){var u=(m.y-i.y)/(m.x-i.x);n.interpolatedValue=i.y+(o-i.x)*u}else n.interpolatedValue=NaN}}}};const ae=(e=1)=>`rgba(48, 166, 51, ${e})`,re=(e=1)=>`rgba(241, 77, 66, ${e})`,rt="text-[#30a633]",ot="text-[#f14d42]",io=["1d","5d","1m","6m","ytd","1y","5y","max"];function co({histories:e,selectedInterval:t,onSelectHistoryInterval:n}){const a=Object.keys(e?.quotes??{});return s.jsx("div",{className:"text-token-text-tertiary inline-flex items-start justify-between rounded-[10px] bg-[#f4f4f4] p-[3px] text-xs font-semibold sm:justify-start sm:gap-1 dark:bg-[#393939]",children:a.map(r=>s.jsx("button",{onClick:()=>{n?.(r)},className:$("border border-transparent px-3 py-1.5 text-xs font-semibold uppercase",t===r?"border-token-border-default! bg-token-main-surface-primary text-token-text-primary shadow-xxs dark:border-token-border-medium! rounded-lg":"hover:text-token-text-secondary"),children:ss[r].label},r))})}const ss={"1d":{label:"1D",formatTimestampLabel:it,formatTimestampTooltip:it,maxTicksLimit:6,lineTension:.1},"5d":{label:"5D",formatTimestampLabel:ct,formatTimestampTooltip:uo,maxTicksLimit:6,lineTension:.1},"1m":{label:"1M",formatTimestampLabel:ct,formatTimestampTooltip:ho,maxTicksLimit:6,lineTension:.1,useUtc:!0},"6m":{label:"6M",formatTimestampLabel:Ne,formatTimestampTooltip:Z,maxTicksLimit:5,lineTension:.1,useUtc:!0},ytd:{label:"YTD",formatTimestampLabel:Ne,formatTimestampTooltip:Z,maxTicksLimit:5,lineTension:.1,useUtc:!0},"1y":{label:"1Y",formatTimestampLabel:Ne,formatTimestampTooltip:Z,maxTicksLimit:5,lineTension:.2,useUtc:!0},"5y":{label:"5Y",formatTimestampLabel:lt,formatTimestampTooltip:Z,maxTicksLimit:5,lineTension:.2,useUtc:!0},max:{label:"max",formatTimestampLabel:lt,formatTimestampTooltip:Z,maxTicksLimit:5,lineTension:.2,useUtc:!0}};function lo(e){return e?io.filter(n=>n in e.quotes).find(n=>e.quotes[n].length>0):void 0}function Y(e,t){return V(new Date(e*1e3),t??"America/New_York")}function it(e,t,n){const a=Y(t,n);return e.formatTime(a,{hour:"numeric",minute:"numeric"})}function uo(e,t,n){const a=Y(t,n);return e.formatDate(a,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"})}function Z(e,t,n){const a=Y(t,n);return e.formatDate(a,{month:"short",day:"numeric",year:"numeric"})}function Ne(e,t,n){const a=Y(t,n);return e.formatDate(a,{month:"short",year:"numeric"})}function ct(e,t,n){const a=Y(t,n);return e.formatDate(a,{month:"short",day:"numeric"})}function ho(e,t,n){const a=Y(t,n);return e.formatDate(a,{weekday:"short",month:"short",day:"numeric"})}function lt(e,t,n){const a=Y(t,n);return e.formatDate(a,{year:"numeric"})}va.register(ba,ya,wa,ja,_a,$a,Ca,ka,Na,oo,Ta);const mo=100,dt={color:"#b4b4b4",font:{size:10,weight:"600",family:"Menlo"}};function fo({isUp:e,histories:t,selectedInterval:n,setHighlightedPrice:a,latestTradingPeriod:r,timezone:o}){return s.jsx(s.Fragment,{children:t&&n&&r?s.jsx(po,{isUp:e,histories:t,selectedInterval:n,latestTradingPeriod:r,timezone:o,setHighlightedPrice:a}):s.jsx(G,{className:"h-full",index:1,width:100})})}function po({isUp:e,histories:t,selectedInterval:n,latestTradingPeriod:a,timezone:r,setHighlightedPrice:o}){const[c,l]=p.useState(null),[i,m]=p.useState(!1),u=n==="1d",f=p.useMemo(()=>{let g=t.quotes[n].filter(w=>w.close>=0);if(u&&a){const w=a.regular.start_timestamp,d=a.regular.end_timestamp;if(g=g.filter(C=>C.timestamp>=w&&C.timestamp<=d),g.length===0||g[g.length-1].timestamp<d){let T=g.length>0?g[g.length-1].timestamp:w-600;for(;T<d;)T+=600,g.push({timestamp:T,close:null})}}return g},[t,n,u,a]),v=ss[n],{formatTimestampTooltip:x,maxTicksLimit:b,useUtc:h=!1}=v,_=S(),k=St(),j=fe(),y=p.useMemo(()=>{const{formatTimestampLabel:g,lineTension:w}=v;return{labels:f.map(d=>g(_,d.timestamp,h?"UTC":r)),datasets:[{data:f.map(d=>d.close),borderColor:e?ae():re(),pointRadius:0,pointHoverRadius:4,pointStyle:"circle",pointBackgroundColor:e?ae():re(),pointHoverBorderWidth:2,pointHoverBorderColor:"rgba(255, 255, 255, 1)",backgroundColor:function(d){const{ctx:C,chartArea:T}=d.chart;if(T)return xo(C,T,e)},fill:!0,borderWidth:2,lineTension:w??.4}]}},[v,f,e,h,r,_]);return s.jsx("div",{className:"flex h-full flex-col gap-6",children:s.jsxs("div",{className:"relative h-full",onMouseEnter:()=>m(!0),onMouseLeave:()=>{m(!1),o(null)},children:[s.jsx(Sa,{options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},hover:{mode:i?"index":"point"},animation:!1,scales:{x:{afterBuildTicks:g=>{if(g.ticks.length>b)if(u)g.ticks=g.ticks.filter((w,d)=>f[d].timestamp%(k?3600:7200)===0);else{const w=Math.ceil(g.ticks.length/(b-1));g.ticks=g.ticks.filter((d,C)=>C>0&&(C%w===0||C===g.ticks.length-1))}},grid:{display:!1},ticks:{...dt,align:"end"}},y:{ticks:{...dt,maxTicksLimit:7},border:{display:!1},grid:{color:j?"rgba(255, 255, 255, 0.1)":"rgba(229, 229, 229, 0.5)"}}},plugins:{datalabels:{display:!1},legend:{display:!1},tooltip:{enabled:!1,animation:!1,displayColors:!1,callbacks:{title:function(g){const w=g[0];if(!w)return"";const d=f[w.dataIndex]?.timestamp;return d?x(_,d,h?"UTC":r):""}},external:({tooltip:g})=>{i&&g.opacity>0&&o(X(g.dataPoints?.[0]?.parsed?.y??0)),l(w=>{const d=g.chart.width,C=g.caretX>d-mo;return!w||w.x!==g.caretX||w.y!==g.caretY||w.opacity!==g.opacity||w.flip!==C?{...w,x:g.caretX,y:g.caretY,dateLabel:g.title?.[0],value:X(g.dataPoints?.[0]?.parsed?.y??0),opacity:g.opacity,flip:C}:w})}},dropShadow:!1,crosshair:{line:{color:j?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",width:.5},zoom:{enabled:!1}}}},data:y}),s.jsx(go,{tooltipData:c})]})})}function go({tooltipData:e}){return!e||!e.opacity?null:s.jsx("div",{style:{left:e.x-5,top:10,transform:"translate(-50%, -50%)"},className:$("text-token-main-surface-primary dark:bg-token-main-surface-secondary pointer-events-none absolute translate-y-[-100%] rounded-lg bg-black px-2 py-1 font-mono font-semibold whitespace-nowrap dark:text-white"),children:s.jsx("div",{className:"text-xs",children:e.dateLabel})})}function xo(e,t,n){const a=e.createLinearGradient(0,t.top,0,t.bottom);return a.addColorStop(0,n?ae(.4):re(.4)),a.addColorStop(1,n?ae(0):re(0)),a}function X(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function L({label:e,value:t,className:n}){return s.jsxs("div",{className:$("flex w-full flex-1 flex-row justify-between text-sm",n),children:[s.jsx("span",{className:"text-token-text-secondary font-normal whitespace-nowrap",children:e}),s.jsx("span",{className:"text-token-text-primary font-normal whitespace-nowrap",children:t})]})}function vo({metrics:e}){const t=S(),n=!!(e.marketCap&&e.peRatio&&e.eps);return s.jsx("div",{className:"border-token-border-default flex flex-col gap-1 rounded-b-lg border-t bg-[#f4f4f4] px-4 py-3 dark:bg-[#393939]",children:s.jsxs("div",{className:$("grid grid-cols-2 gap-x-10 gap-y-3 lg:grid-cols-3 lg:gap-x-6"),children:[s.jsx(L,{label:t.formatMessage({id:"MDHEj7",defaultMessage:"Open"}),value:t.formatNumber(e.openPrice,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),className:"order-1"}),s.jsx(L,{label:t.formatMessage({id:"PboNMC",defaultMessage:"Volume"}),value:t.formatNumber(e.intradayVolume,{notation:"compact",maximumFractionDigits:1}),className:$("order-2",!n&&"lg:order-last")}),s.jsxs("div",{className:"order-4 row-span-2 flex flex-col gap-3",children:[s.jsx(L,{label:t.formatMessage({id:"bresUW",defaultMessage:"Day Low"}),value:t.formatNumber(e.intradayLow,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})}),s.jsx(L,{label:t.formatMessage({id:"oWyv5V",defaultMessage:"Day High"}),value:t.formatNumber(e.intradayHigh,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})})]}),s.jsxs("div",{className:"order-5 row-span-2 flex flex-col gap-3",children:[s.jsx(L,{label:t.formatMessage({id:"DcEYIK",defaultMessage:"Year Low"}),value:t.formatNumber(e.fiftyTwoWeekLow,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})}),s.jsx(L,{label:t.formatMessage({id:"ZfFtJ4",defaultMessage:"Year High"}),value:t.formatNumber(e.fiftyTwoWeekHigh,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})})]}),e.marketCap&&s.jsx(L,{label:t.formatMessage({id:"BzyP4Y",defaultMessage:"Market Cap"}),value:t.formatNumber(e.marketCap,{notation:"compact",maximumFractionDigits:2}),className:"order-last lg:order-3"}),e.peRatio&&e.eps&&s.jsxs(s.Fragment,{children:[s.jsx(L,{label:t.formatMessage({id:"edGd+S",defaultMessage:"EPS (TTM)"}),value:t.formatNumber(e.eps,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),className:"order-last"}),s.jsx(L,{label:t.formatMessage({id:"AhpCu1",defaultMessage:"P/E Ratio"}),value:t.formatNumber(e.peRatio,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),className:"order-last"})]})]})})}function bo({data:e,priceChange:t,highlightedPrice:n,extendedPriceChange:a,url:r}){function o(c,l="intraday",i=null){const{isUp:m,changePercentage:u,changeLabel:f,changeAmount:v}=c,x=Math.abs(u).toFixed(2),b=X(v);return s.jsxs("span",{className:"flex min-w-0 items-center gap-1",children:[l==="extended_hours"&&i!=null&&s.jsx("span",{className:"font-semibold",children:s.jsx(N,{id:"HWwWpW",defaultMessage:"{price}",values:{price:i}})}),s.jsx("span",{className:$("font-semibold",m?rt:ot),children:s.jsx(N,{id:"3x4Lkl",defaultMessage:"{sign}{changeAmount}",values:{changeAmount:b,sign:m?"+":""}})}),s.jsx("span",{className:$("font-semibold",m?rt:ot),children:s.jsx(N,{id:"MbfF1T",defaultMessage:"({sign}{changePercentage}%)",values:{changePercentage:x,sign:m?"+":"-"}})}),l==="extended_hours"?s.jsx("span",{className:"text-token-text-primary min-w-0 truncate",children:f}):s.jsx("span",{className:"text-token-text-primary min-w-0 truncate",children:f})]})}return s.jsxs("div",{children:[s.jsx("div",{className:"mt-2 text-sm",children:e?s.jsx(N,{id:"+2WHuv",defaultMessage:"{name} ({ticker})",values:{name:e.asset.name,ticker:e.asset.ticker}}):s.jsx("div",{className:"w-32 font-medium",children:s.jsx(G,{index:9,width:100})})}),s.jsx("div",{className:"text-token-text-tertiary text-sm",children:e?s.jsx(s.Fragment,{children:r!=null&&s.jsxs(s.Fragment,{children:[" · ",s.jsx(U,{href:r,className:"text-token-link hover:underline",children:Mt(r,"hostname")})]})}):s.jsx("div",{className:"mt-2 w-36",children:s.jsx(G,{index:6,width:100})})}),s.jsx("div",{className:"mt-2 flex text-4xl font-semibold",children:e?s.jsx(N,{id:"s+1uly",defaultMessage:"{price}",values:{price:n??X(e.price.price)}}):s.jsx("div",{className:"w-32",children:s.jsx(G,{index:0,width:100})})}),s.jsx("div",{className:"mt-2 flex items-center justify-start gap-1 text-sm",children:t?o(t):s.jsx("div",{className:"mt-2 w-40",children:s.jsx(G,{index:3,width:100})})}),s.jsx("div",{className:"mt-0.5 flex items-center justify-start gap-1 text-sm",children:e?.price?.extended_price!=null&&a!=null&&o(a,"extended_hours",X(e.price.extended_price))})]})}function yo({contentReference:e,trackContentReferenceEvent:t}){const n=S();p.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown","stock")},[t]);const a=lo(e?.stock?.histories),r=e?.stock,[o,c]=p.useState(a),[l,i]=p.useState(null),m=o==="1d",u=r?.histories?.quotes?.[o??""]?.[0],f=o&&o in ne?o:void 0,v=r&&(u&&!m?{changePercentage:(r.price.price-u.close)/u.close*100,changeAmount:r.price.price-u.close,changeLabel:f?n.formatMessage(ne[f]):"",isUp:r.price.price>u.close}:r.price.change_percent&&r.price.change?{changePercentage:r.price.change_percent*100,changeAmount:r.price.change,changeLabel:jo(r.price.latest_trade_timestamp,r.asset.timezone,n),isUp:r.price.change?r.price.change>0:!1}:null),x=r&&r.price.extended_price!=null&&r.price.extended_change_percent!=null&&r.price.extended_change!=null?{changePercentage:r.price.extended_change_percent*100,changeAmount:r.price.extended_change,changeLabel:n.formatMessage(wo(r.price.market_status)??ne.extended),isUp:r.price.extended_change>0}:null,{fiftyTwoWeekHigh:b,fiftyTwoWeekLow:h}=p.useMemo(()=>{const j=r?.histories?.quotes["1y"];if(!j)return{fiftyTwoWeekHigh:null,fiftyTwoWeekLow:null};const y=j.map(w=>w.high).filter(w=>w!=null),g=j.map(w=>w.low).filter(w=>w!=null);return{fiftyTwoWeekHigh:y.length>0?Math.max(...y):null,fiftyTwoWeekLow:g.length>0?Math.min(...g):null}},[r?.histories?.quotes]),_=r?.price.open_price&&r.price.intraday_high&&r.price.intraday_low&&r.price.intraday_volume&&b&&h?{openPrice:r.price.open_price,intradayHigh:r.price.intraday_high,intradayLow:r.price.intraday_low,intradayVolume:r.price.intraday_volume,fiftyTwoWeekHigh:b,fiftyTwoWeekLow:h,marketCap:r.metrics?.market_cap??void 0,peRatio:r.metrics?.pe_ratio??void 0,eps:r.metrics?.eps??void 0}:null,k=_!=null;return s.jsxs("div",{className:$("border-token-border-default mb-2 flex min-h-[480px] flex-col gap-8 rounded-lg border"),children:[s.jsxs("div",{className:"mx-6 flex flex-wrap items-end justify-between",children:[s.jsx(bo,{data:r??null,highlightedPrice:l,priceChange:v??null,extendedPriceChange:x??null,url:e?.url??null}),s.jsx("div",{className:"mt-4",children:s.jsx(co,{selectedInterval:o,onSelectHistoryInterval:c,histories:r?.histories})})]}),s.jsx("div",{className:"mx-6 h-[340px]",children:s.jsx(fo,{isUp:v?.isUp??!1,selectedInterval:o,histories:r?.histories,setHighlightedPrice:i,onSelectHistoryInterval:j=>c(j),latestTradingPeriod:r?.asset.latest_trading_period,timezone:r?.asset.timezone??null})}),k&&s.jsx("div",{className:"-mt-4",children:s.jsx(vo,{metrics:_})})]})}function wo(e){if(e==null)return null;const t=e.toLowerCase();return t==="premarket"||t==="open"?pe({id:"By+pvF",defaultMessage:"Pre-Market"}):t==="afterhours"||t==="closed"?pe({id:"aLCg3c",defaultMessage:"After Hours"}):pe({id:"2p526c",defaultMessage:"Extended Hours"})}function jo(e,t,n){function a(r,o){const l=V(new Date,o),i=n.formatDate(l,{year:"numeric",month:"2-digit",day:"2-digit"}),m=Pe(r*1e3),u=V(m,o),f=n.formatDate(u,{year:"numeric",month:"2-digit",day:"2-digit"});return i===f}if(!e||!t||a(e,t))return n.formatMessage(ne["1d"]);{const r=Pe(e*1e3),o=V(r,t);return n.formatDate(o,{month:"long",day:"numeric"})}}const ne=Ee({"1d":{id:"SMdcuo",defaultMessage:"Today"},extended:{id:"2p526c",defaultMessage:"Extended Hours"},"5d":{id:"HCA6lr",defaultMessage:"Past 5 days"},"1m":{id:"DJpPMq",defaultMessage:"Past month"},"6m":{id:"1mUJ2L",defaultMessage:"Past 6 months"},ytd:{id:"b9KkhV",defaultMessage:"Year to date"},"1y":{id:"XnvD9A",defaultMessage:"Past year"},"5y":{id:"DfI1RB",defaultMessage:"Past 5 years"},max:{id:"WzOhuU",defaultMessage:"Max"}}),_o={google_maps:{title:"Google Maps"}};function $o({metadata:e,trackContentReferenceEvent:t}){p.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown",e.type)},[t,e.type]);const n=_o[e.provider]?.title??"Maps";return s.jsx("span",{children:s.jsx(N,{id:"ZSUz1k",defaultMessage:" ({link}) ",values:{link:s.jsx(U,{href:e.url,children:n})}})})}const Co=30;function ko(e){"use forget";const t=le.c(19),{metadata:n,trackContentReferenceEvent:a}=e,r=n.items.length>0,o=p.useRef(a);let c,l;t[0]!==a?(c=()=>{o.current=a},l=[a],t[0]=a,t[1]=c,t[2]=l):(c=t[1],l=t[2]),p.useEffect(c,l);let i,m;t[3]!==r?(i=()=>{r&&o.current("Search Content Reference Shown","search_content_reference_shown","nav_list")},m=[r],t[3]=r,t[4]=i,t[5]=m):(i=t[4],m=t[5]),p.useEffect(i,m);let u;t[6]!==a?(u=(k,j)=>{a("link_action","link_action","nav_list",{...ut(k,j),action:"click"})},t[6]=a,t[7]=u):u=t[7];const f=u;let v;t[8]!==a?(v=(k,j)=>{a("link_action","link_action","nav_list",{...ut(k,j),action:"show"})},t[8]=a,t[9]=v):v=t[9];const x=v;if(n.items.length===0)return null;let b;t[10]!==n.title?(b=n.title&&s.jsx("div",{className:"text-token-text-primary -mb-1 pb-3 font-semibold",children:n.title}),t[10]=n.title,t[11]=b):b=t[11];let h;t[12]!==f||t[13]!==x||t[14]!==n.items?(h=s.jsx(Xt,{items:n.items,onCardRender:No,onCardShown:x,onCardClicked:f}),t[12]=f,t[13]=x,t[14]=n.items,t[15]=h):h=t[15];let _;return t[16]!==b||t[17]!==h?(_=s.jsxs("div",{className:"mt-6 mb-1",children:[b,h]}),t[16]=b,t[17]=h,t[18]=_):_=t[18],_}function No(e){return s.jsx(So,{item:e})}function To(e,t){if(t==null)return null;const n=new Date(t*1e3),a=e.locale,r=Math.max(Math.floor((Date.now()-n.getTime())/(1e3*60*60*24)),0);if(r>Co)return e.formatDate(n,{dateStyle:"medium"});const o=e.formatRelativeTime(-r,"day",{numeric:"auto"});return a.startsWith("en")?o.charAt(0).toUpperCase()+o.slice(1):o}function So({item:e}){const{isSuccess:t}=Se(e.thumbnail_url??void 0),n=S(),a=To(n,e.pub_date);return s.jsxs(U,{className:"flex flex-col items-center gap-4 overflow-hidden pb-6",href:e.url,children:[t&&e.thumbnail_url?s.jsx("div",{className:"relative h-36 w-full overflow-hidden",children:s.jsx("img",{src:e.thumbnail_url,className:"m-0 h-full w-full",style:{objectFit:"cover"},alt:e.title})}):s.jsxs("div",{className:"icon-bg relative flex h-36 w-full shrink-0 items-center justify-center overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-cover bg-center bg-no-repeat blur-3xl",children:s.jsx(ve,{url:e.url,size:256,minSize:128,className:"mix-soft-light opacity-30 dark:opacity-20"})}),s.jsx("div",{className:"absolute flex h-10 w-10 items-center justify-center",children:s.jsx(ve,{url:e.url,size:128,minSize:80,className:"icon-xl rounded-full"})})]}),s.jsxs("div",{className:"flex flex-col gap-2 overflow-hidden px-4 text-ellipsis",children:[s.jsxs("div",{className:"text-token-text-primary flex items-center gap-1.5 text-xs",children:[s.jsx(ve,{url:e.url,size:32,minSize:16,className:"icon-xs my-0 rounded-full"}),e.attribution??Mt(e.url)]}),s.jsx("div",{className:"text-token-text-primary decoration-token-link line-clamp-5 text-sm font-medium",children:e.title}),a&&s.jsx("div",{className:"text-token-text-secondary text-xs",children:a})]})]})}const ut=(e,t)=>({url:e.url,title:e.title,section_index:t,link_type:"text",section:"nav_list",section_location:"response"});function F(e,t){const n=Ys(e),a=t<0?"-":"+",r=Math.abs(t),o=Math.floor(r/3600).toString().padStart(2,"0"),c=Math.floor(r%3600/60).toString().padStart(2,"0"),l=`${a}${o}:${c}`;return V(n,l)}function De(e,t){if(We(t))return s.jsx(N,{id:"wxni9H",defaultMessage:"Today"});const n=new Date;return n.setTime(n.getTime()+7*24*60*60*1e3),t<n&&t>new Date||We(t)?e.formatDate(t,{weekday:"long"}):e.formatDate(t,{weekday:"short",month:"short",day:"numeric"})}const Mo="{{.assetPrefix}}/assets/missing-logo-h96s4tk9.webp",ht={src:Mo};function ns({team:e,className:t}){const[n,a]=p.useState(e.logo??ht.src),r=()=>{Le.addError("Unable to load sports widget logo",{name:e.name,logo:e.logo}),a(ht.src)};return s.jsx("img",{src:n,alt:e.name,className:t,onError:r})}const J=["ipl"],mt=6,z="home",O="away";function Po({scheduleRef:e,trackContentReferenceEvent:t}){const[n,a]=p.useState(!0),r=S(),o=e.games.length>0,c=e.league.id,l=Bs(),i=ue();if(p.useEffect(()=>{o&&t("Search Content Reference Shown","search_content_reference_shown","sports",{hasSchedule:!0})},[o]),!o)return null;const u=(r.formatDateToParts(new Date,{timeZoneName:"long"}).find(b=>b.type==="timeZoneName")?.value??Intl.DateTimeFormat().resolvedOptions().timeZone).replace(/Daylight|Standard/g,"");let f=e.games;const v=b=>Math.abs(new Date().getTime()-new Date(b.date).getTime());v(f[0])>v(f[f.length-1])&&(f=f.slice().reverse());const x=n?f.slice(0,mt):f;return s.jsxs("div",{className:"not-prose mb-3",children:[s.jsx("div",{className:"font-semibold",children:s.jsx(N,{id:"LA6z9q",defaultMessage:"{league} Schedule",values:{league:e.league.display_name}})}),s.jsx("div",{className:"text-token-text-secondary text-sm",children:u}),x.length===1?s.jsx("div",{children:s.jsx(ze,{children:s.jsx(Te.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.2},children:s.jsx("div",{className:"border-token-border-medium mt-3 rounded-xl border py-3",children:s.jsx(Eo,{game:x[0],useAlias:J.includes(c),leagueId:c,activeTeam:x[0]?.active_team??null,isMobile:i})})})})}):s.jsx("div",{className:"grid grid-cols-1 pt-3 lg:grid-cols-2",children:s.jsx(ze,{children:x.map((b,h)=>s.jsx(Te.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0,transition:{delay:h*.04}},exit:{opacity:0,y:-15},transition:{duration:.2},children:s.jsx("div",{className:$("border-token-border-medium border-b py-3",h%2===0&&"lg:border-e lg:pe-4",h%2===1&&"lg:ps-4",Math.floor(h/2)===Math.ceil(f.length/2)-1&&"lg:border-b-0",h===f.length-1&&"border-b-0"),children:s.jsx(Do,{game:b,useAlias:(l||i)&&J.includes(c),leagueId:c,activeTeam:b.active_team??null})})},h))})}),f.length>mt&&s.jsx("div",{className:"mt-2 flex items-center justify-between",children:s.jsx("button",{className:"flex items-center text-sm font-semibold",onClick:()=>a(!n),children:n?s.jsx(N,{id:"BH/Ee5",defaultMessage:"Show more {icon}",values:{icon:s.jsx(Vs,{className:"mb-[-2px]"})}}):s.jsx(N,{id:"Z9BlEu",defaultMessage:"Show less {icon}",values:{icon:s.jsx(qs,{className:"mb-[-2px]"})}})})})]})}function Do({game:e,useAlias:t=!1,leagueId:n,activeTeam:a}){const r=rs(e),o=[e.first_team_info,e.second_team_info],c=o.find(u=>u.location===z)??e.first_team_info,l=o.find(u=>u.location===O)??e.second_team_info,i=r?.team.name===c?.team.name,m=r?.team.name===l?.team.name;return s.jsxs("div",{className:"flex w-full gap-1.5 py-3 text-base",children:[s.jsxs("div",{className:"flex flex-auto flex-col items-start gap-1 pe-3",children:[s.jsx(ie,{team:l.team,isWinner:m,isActive:a===O,logoSize:"small",useAlias:t}),s.jsx(ie,{team:c.team,isWinner:i,isActive:a===z,logoSize:"small",useAlias:t})]}),s.jsxs("div",{className:$("flex flex-none flex-col items-start gap-1",J.includes(n)&&"me-4"),children:[s.jsx(ce,{score:l.score,scoreSuffix:l.score_suffix,scoreParenthetical:l.score_parenthetical?{message:l.score_parenthetical,position:"right"}:null,isWinner:m,negateScore:oe(n,O,a)}),s.jsx(ce,{score:c.score,scoreSuffix:c.score_suffix,scoreParenthetical:c.score_parenthetical?{message:c.score_parenthetical,position:"right"}:null,isWinner:i,negateScore:oe(n,z,a)})]}),s.jsx("div",{className:"flex min-w-24 flex-none flex-col items-end justify-center gap-1 text-sm",children:s.jsx(os,{game:e})})]})}function Eo({game:e,useAlias:t=!1,leagueId:n,activeTeam:a,isMobile:r}){const o=rs(e),c=[e.first_team_info,e.second_team_info],l=c.find(f=>f.location===z)??e.first_team_info,i=c.find(f=>f.location===O)??e.second_team_info,m=o?.team.name===l?.team.name,u=o?.team.name===i?.team.name;return s.jsxs("div",{className:"flex w-full py-3 text-base",children:[s.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:s.jsx(ie,{team:i.team,isWinner:u,isActive:a===O,useAlias:t,layoutDirection:r?"column":"row"})}),s.jsx("div",{className:"ms-2 flex items-center justify-start sm:ms-8",children:s.jsx(ce,{score:i.score,scoreSuffix:i.score_suffix,scoreParenthetical:i.score_parenthetical?{message:i.score_parenthetical,position:"bottom"}:null,isWinner:u,negateScore:oe(n,O,a),className:"text-sm font-semibold sm:text-lg"})}),s.jsx("div",{className:"mx-2 flex w-24 shrink flex-col items-center justify-center gap-1 align-middle text-sm",children:s.jsx(os,{game:e})}),s.jsx("div",{className:"me-2 flex items-center justify-end sm:me-8",children:s.jsx(ce,{score:l.score,scoreSuffix:l.score_suffix,scoreParenthetical:l.score_parenthetical?{message:l.score_parenthetical,position:"bottom"}:null,isWinner:m,negateScore:oe(n,z,a),className:"text-sm font-semibold sm:text-lg"})}),s.jsx("div",{className:"flex flex-1 items-center justify-center md:px-2",children:s.jsx(ie,{team:l.team,isWinner:m,isActive:a===z,useAlias:t,layoutDirection:r?"column":"row"})})]})}function as(e){return e.live?"live":new Date(e.date)<new Date?"complete":"scheduled"}function rs(e){return as(e)!=="complete"||e.first_team_info.score==null||e.second_team_info.score==null?null:e.first_team_info.score>e.second_team_info.score?e.first_team_info:e.second_team_info}function oe(e,t,n){return J.includes(e)&&t===z&&n===O}function ie({team:e,isWinner:t,isActive:n,logoSize:a,useAlias:r=!1,layoutDirection:o="row"}){return s.jsxs("span",{className:$("flex items-center gap-1",t&&"font-semibold","max-w-64 lg:max-w-52 xl:max-w-64",o==="column"&&"flex-col"),children:[e.logo&&s.jsx(ns,{team:{name:e.name,logo:e.logo},className:$(a==="small"?"w-6":"w-8")}),s.jsx("span",{className:"truncate",children:r?e.alias:e.name}),n&&s.jsx("span",{className:"bg-token-surface-error inline-block h-2 w-2 rounded-full"})]})}function ce({score:e,scoreSuffix:t,scoreParenthetical:n,isWinner:a,negateScore:r=!1,className:o}){const c=S();return e==null?null:s.jsxs("span",{className:$(a&&"font-semibold",o),children:[r?c.formatMessage({id:"sports.dash",defaultMessage:"-"}):e,t&&!r&&s.jsx("span",{children:t}),n&&!r&&s.jsx("span",{className:$("text-token-text-secondary font-normal",n.position==="right"&&"ms-1",n.position==="bottom"&&"mx-auto block text-center"),children:`(${n.message})`})]})}function os({game:e}){const t=S();switch(as(e)){case"live":return s.jsxs(s.Fragment,{children:[s.jsx(Ao,{}),s.jsx("div",{children:e.details})]});case"complete":return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-semibold",children:s.jsx(N,{id:"q/iMZL",defaultMessage:"Final"})}),s.jsx("div",{className:"text-token-text-secondary",children:De(t,new Date(e.date))})]});case"scheduled":{const n=new Date(e.date);return isNaN(n.getTime())?null:s.jsxs(s.Fragment,{children:[s.jsx("div",{children:De(t,n)}),s.jsx("div",{className:"text-token-text-secondary",children:t.formatDate(n,{timeStyle:"short"})})]})}}}function Ao(){return s.jsx("div",{className:"bg-token-surface-error rounded-[4px] px-1.5 py-1 text-xs font-semibold text-white",children:s.jsx(N,{id:"vObALn",defaultMessage:"Live"})})}function Lo({standingsRef:e,trackContentReferenceEvent:t}){const[n,a]=p.useState(0),r=e.conferences.length>0,o=ue(),c=e.league.id;p.useEffect(()=>{r&&t("Search Content Reference Shown","search_content_reference_shown","sports",{hasStandings:!0})},[r]);const l=e.conferences[n],i=e.conferences.length>1?e.conferences.map((m,u)=>s.jsx("button",{className:$(n===u?"text-token-text-primary":"text-token-text-tertiary","text-sm font-semibold"),onClick:()=>a(u),children:m.name},m.name)):null;return s.jsxs(s.Fragment,{children:[i&&s.jsx("div",{className:"flex gap-4",children:i}),s.jsx("div",{className:"mt-3",children:l.divisions.map(m=>m.name?s.jsx("div",{className:"mt-3",children:s.jsx(ft,{division:m,teamsColumnHeader:m.name})},m.name):s.jsx(ft,{division:m,useAlias:o&&J.includes(c)}))})]})}function ft({division:e,teamsColumnHeader:t,useAlias:n}){const a=e.headers.map(r=>r.key);return s.jsxs(P.Root,{size:"compact",className:"not-prose",children:[s.jsxs(P.Header,{children:[s.jsx(Io,{children:t??s.jsx(N,{id:"kKSGje",defaultMessage:"Team"})}),e.headers.map(r=>s.jsx(is,{textAlign:"center",className:"min-w-11 px-0!",children:s.jsx(pt,{data:r})},r.key))]}),s.jsx(P.Body,{children:e.teams.map(({team:r,data:o},c)=>{const l=o.reduce((i,m)=>(i[m.key]=m,i),{});return s.jsxs(P.Row,{children:[s.jsx(P.Cell,{className:"w-full border-0! py-0! ps-0!",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"text-token-text-tertiary me-2 w-4 whitespace-nowrap tabular-nums",children:c+1}),s.jsxs("div",{className:"flex items-center justify-start gap-2",children:[s.jsx(ns,{team:r,className:"w-6"}),s.jsx("span",{className:"text-base whitespace-nowrap",children:n?r.alias:r.name})]})]})}),a.map(i=>s.jsx(P.Cell,{className:"min-w-11 border-0! px-0! py-0! text-start whitespace-nowrap tabular-nums",textAlign:"center",children:s.jsx(pt,{data:l[i]})},i))]},r.name)})})]})}function pt({data:e}){switch(e.type){case"text":return s.jsx(s.Fragment,{children:e.text});default:return s.jsx(s.Fragment,{children:e.alt})}}const is=zt(P.HeaderCell)`text-token-text-secondary font-normal! text-sm static! bg-transparent! border-token-border-default! border-t-0! border-s-0! border-e-0!`,Io=zt(is)`text-token-text-primary ps-0!`;function Fo({metadata:e,trackContentReferenceEvent:t}){p.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown",e.type)},[t,e.type]);const n=S(),a=V(e.utc_time,e.utc_offset),r=n.formatDate(a,{hour:"numeric",minute:"numeric"});return s.jsx("span",{children:r})}function Ro({metadata:e,trackContentReferenceEvent:t}){return p.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown",e.type)},[t,e.type]),s.jsx("div",{children:e.url?s.jsx(Ma,{webpageItem:{url:e.url,title:e.description,pub_date:null,snippet:"",attributions:null},className:"inline-flex flex-col",children:s.jsx(U,{href:e.url,className:"font-semibold!",children:e.description})}):s.jsx("div",{className:"font-semibold!",children:e.description})})}function Ho({url:e,className:t}){let n;const a="aspect-video w-full rounded-lg",r=zo(e);r&&(n=s.jsx(Oo,{videoId:r,className:a}));const o=Wo(e);return o&&(n=s.jsx(Uo,{videoId:o,className:a})),n?s.jsx("div",{className:t,children:n}):null}function zo(e){const t=/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,n=e.match(t);return n?n[1]:null}function Oo({videoId:e,className:t}){return s.jsx("iframe",{className:t,src:`https://www.youtube.com/embed/${e}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}function Wo(e){const t=/vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/[^/]+\/videos\/|video\/|)(\d+)/,n=e.match(t);return n?n[1]:null}function Uo({videoId:e,className:t}){return s.jsx(s.Fragment,{children:s.jsx("iframe",{className:t,src:`https://player.vimeo.com/video/${e}`,frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})}function Yo({video:e,trackContentReferenceEvent:t}){const n={url:e.url,title:e.title};return p.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown",e.type,n)},[]),e.url==null||e.url===""?null:s.jsx("div",{className:"not-prose mb-3 flex flex-col gap-4 text-base",children:s.jsx(Ho,{url:e.url})})}const Bo=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M8.49951 4.50012C8.49951 3.67272 9.1702 3.00225 9.99756 3.00208C10.8251 3.00208 11.4966 3.67262 11.4966 4.50012C11.4966 5.32763 10.8251 5.99817 9.99756 5.99817C9.1702 5.99799 8.49951 5.32752 8.49951 4.50012Z"}),p.createElement("path",{d:"M8.49951 15.5001C8.49951 14.6727 9.1702 14.0013 9.99756 14.0011C10.8251 14.0011 11.4966 14.6726 11.4966 15.5001C11.4964 16.3275 10.825 16.9982 9.99756 16.9982C9.17031 16.998 8.49969 16.3274 8.49951 15.5001Z"}),p.createElement("path",{d:"M8.49951 9.99783C8.49969 9.17059 9.17031 8.49996 9.99756 8.49979C10.825 8.49979 11.4964 9.17048 11.4966 9.99783C11.4966 10.8253 10.8251 11.4969 9.99756 11.4969C9.1702 11.4967 8.49951 10.8252 8.49951 9.99783Z"})),Vo="webp",qo=96,Zo=96,Go="srgb",Xo=4,Ko="uchar",Jo=288,Qo=!1,ei=!1,ti=!0,si="{{.assetPrefix}}/assets/cloud-foggy-o4a3hmky.webp",ni={format:Vo,width:qo,height:Zo,space:Go,channels:Xo,depth:Ko,density:Jo,isProgressive:Qo,hasProfile:ei,hasAlpha:ti,src:si},ai="webp",ri=96,oi=96,ii="srgb",ci=4,li="uchar",di=288,ui=!1,hi=!1,mi=!0,fi="{{.assetPrefix}}/assets/cloudy-co8vwrk7.webp",pi={format:ai,width:ri,height:oi,space:ii,channels:ci,depth:li,density:di,isProgressive:ui,hasProfile:hi,hasAlpha:mi,src:fi},gi="webp",xi=96,vi=96,bi="srgb",yi=4,wi="uchar",ji=288,_i=!1,$i=!1,Ci=!0,ki="{{.assetPrefix}}/assets/heavy-snow-mke52kag.webp",Ni={format:gi,width:xi,height:vi,space:bi,channels:yi,depth:wi,density:ji,isProgressive:_i,hasProfile:$i,hasAlpha:Ci,src:ki},Ti="webp",Si=96,Mi=96,Pi="srgb",Di=4,Ei="uchar",Ai=288,Li=!1,Ii=!1,Fi=!0,Ri="{{.assetPrefix}}/assets/light-snow-mcy1l7t9.webp",Hi={format:Ti,width:Si,height:Mi,space:Pi,channels:Di,depth:Ei,density:Ai,isProgressive:Li,hasProfile:Ii,hasAlpha:Fi,src:Ri},zi="webp",Oi=96,Wi=96,Ui="srgb",Yi=4,Bi="uchar",Vi=288,qi=!1,Zi=!1,Gi=!0,Xi="{{.assetPrefix}}/assets/moon-drizzle-cplxr2ub.webp",Ki={format:zi,width:Oi,height:Wi,space:Ui,channels:Yi,depth:Bi,density:Vi,isProgressive:qi,hasProfile:Zi,hasAlpha:Gi,src:Xi},Ji="webp",Qi=96,ec=96,tc="srgb",sc=4,nc="uchar",ac=288,rc=!1,oc=!1,ic=!0,cc="{{.assetPrefix}}/assets/moon-hazy-jvgt25bp.webp",lc={format:Ji,width:Qi,height:ec,space:tc,channels:sc,depth:nc,density:ac,isProgressive:rc,hasProfile:oc,hasAlpha:ic,src:cc},dc="webp",uc=96,hc=96,mc="srgb",fc=4,pc="uchar",gc=288,xc=!1,vc=!1,bc=!0,yc="{{.assetPrefix}}/assets/moon-mostly-cloudy-cia3do0v.webp",wc={format:dc,width:uc,height:hc,space:mc,channels:fc,depth:pc,density:gc,isProgressive:xc,hasProfile:vc,hasAlpha:bc,src:yc},jc="webp",_c=96,$c=96,Cc="srgb",kc=4,Nc="uchar",Tc=288,Sc=!1,Mc=!1,Pc=!0,Dc="{{.assetPrefix}}/assets/moon-mostly-sunny-n3mh1b6a.webp",Ec={format:jc,width:_c,height:$c,space:Cc,channels:kc,depth:Nc,density:Tc,isProgressive:Sc,hasProfile:Mc,hasAlpha:Pc,src:Dc},Ac="webp",Lc=96,Ic=96,Fc="srgb",Rc=4,Hc="uchar",zc=288,Oc=!1,Wc=!1,Uc=!0,Yc="{{.assetPrefix}}/assets/moon-shower-ntzhti9o.webp",Bc={format:Ac,width:Lc,height:Ic,space:Fc,channels:Rc,depth:Hc,density:zc,isProgressive:Oc,hasProfile:Wc,hasAlpha:Uc,src:Yc},Vc="webp",qc=96,Zc=96,Gc="srgb",Xc=4,Kc="uchar",Jc=288,Qc=!1,el=!1,tl=!0,sl="{{.assetPrefix}}/assets/moon-sunny-eg2emh4d.webp",nl={format:Vc,width:qc,height:Zc,space:Gc,channels:Xc,depth:Kc,density:Jc,isProgressive:Qc,hasProfile:el,hasAlpha:tl,src:sl},al="webp",rl=96,ol=96,il="srgb",cl=4,ll="uchar",dl=288,ul=!1,hl=!1,ml=!0,fl="{{.assetPrefix}}/assets/rain-thunder-bx7a0l5g.webp",pl={format:al,width:rl,height:ol,space:il,channels:cl,depth:ll,density:dl,isProgressive:ul,hasProfile:hl,hasAlpha:ml,src:fl},gl="webp",xl=96,vl=96,bl="srgb",yl=4,wl="uchar",jl=288,_l=!1,$l=!1,Cl=!0,kl="{{.assetPrefix}}/assets/rain-cxs76xuj.webp",Nl={format:gl,width:xl,height:vl,space:bl,channels:yl,depth:wl,density:jl,isProgressive:_l,hasProfile:$l,hasAlpha:Cl,src:kl},Tl="webp",Sl=96,Ml=96,Pl="srgb",Dl=4,El="uchar",Al=288,Ll=!1,Il=!1,Fl=!0,Rl="{{.assetPrefix}}/assets/sleet-gc63vwmo.webp",Hl={format:Tl,width:Sl,height:Ml,space:Pl,channels:Dl,depth:El,density:Al,isProgressive:Ll,hasProfile:Il,hasAlpha:Fl,src:Rl},zl="webp",Ol=96,Wl=96,Ul="srgb",Yl=4,Bl="uchar",Vl=288,ql=!1,Zl=!1,Gl=!0,Xl="{{.assetPrefix}}/assets/snow-d0k6tmmc.webp",Kl={format:zl,width:Ol,height:Wl,space:Ul,channels:Yl,depth:Bl,density:Vl,isProgressive:ql,hasProfile:Zl,hasAlpha:Gl,src:Xl},Jl="webp",Ql=96,ed=96,td="srgb",sd=4,nd="uchar",ad=288,rd=!1,od=!1,id=!0,cd="{{.assetPrefix}}/assets/sun-drizzle-g94obr5e.webp",ld={format:Jl,width:Ql,height:ed,space:td,channels:sd,depth:nd,density:ad,isProgressive:rd,hasProfile:od,hasAlpha:id,src:cd},dd="webp",ud=96,hd=96,md="srgb",fd=4,pd="uchar",gd=288,xd=!1,vd=!1,bd=!0,yd="{{.assetPrefix}}/assets/sun-hazy-c3z1j0hy.webp",wd={format:dd,width:ud,height:hd,space:md,channels:fd,depth:pd,density:gd,isProgressive:xd,hasProfile:vd,hasAlpha:bd,src:yd},jd="webp",_d=96,$d=96,Cd="srgb",kd=4,Nd="uchar",Td=288,Sd=!1,Md=!1,Pd=!0,Dd="{{.assetPrefix}}/assets/sun-mostly-cloudy-d4o4zkga.webp",Ed={format:jd,width:_d,height:$d,space:Cd,channels:kd,depth:Nd,density:Td,isProgressive:Sd,hasProfile:Md,hasAlpha:Pd,src:Dd},Ad="webp",Ld=96,Id=96,Fd="srgb",Rd=4,Hd="uchar",zd=288,Od=!1,Wd=!1,Ud=!0,Yd="{{.assetPrefix}}/assets/sun-mostly-sunny-livrdkgu.webp",Bd={format:Ad,width:Ld,height:Id,space:Fd,channels:Rd,depth:Hd,density:zd,isProgressive:Od,hasProfile:Wd,hasAlpha:Ud,src:Yd},Vd="webp",qd=96,Zd=96,Gd="srgb",Xd=4,Kd="uchar",Jd=288,Qd=!1,eu=!1,tu=!0,su="{{.assetPrefix}}/assets/sun-shower-lvtjthah.webp",nu={format:Vd,width:qd,height:Zd,space:Gd,channels:Xd,depth:Kd,density:Jd,isProgressive:Qd,hasProfile:eu,hasAlpha:tu,src:su},au="webp",ru=96,ou=96,iu="srgb",cu=4,lu="uchar",du=288,uu=!1,hu=!1,mu=!0,fu="{{.assetPrefix}}/assets/sun-sunny-kqjpjzd8.webp",pu={format:au,width:ru,height:ou,space:iu,channels:cu,depth:lu,density:du,isProgressive:uu,hasProfile:hu,hasAlpha:mu,src:fu},gu="webp",xu=96,vu=96,bu="srgb",yu=4,wu="uchar",ju=288,_u=!1,$u=!1,Cu=!0,ku="{{.assetPrefix}}/assets/thunder-jgjqg9ai.webp",Nu={format:gu,width:xu,height:vu,space:bu,channels:yu,depth:wu,density:ju,isProgressive:_u,hasProfile:$u,hasAlpha:Cu,src:ku},Tu="webp",Su=96,Mu=96,Pu="srgb",Du=4,Eu="uchar",Au=288,Lu=!1,Iu=!1,Fu=!0,Ru="{{.assetPrefix}}/assets/tornado-opa24tq3.webp",Hu={format:Tu,width:Su,height:Mu,space:Pu,channels:Du,depth:Eu,density:Au,isProgressive:Lu,hasProfile:Iu,hasAlpha:Fu,src:Ru},zu="webp",Ou=96,Wu=96,Uu="srgb",Yu=4,Bu="uchar",Vu=288,qu=!1,Zu=!1,Gu=!0,Xu="{{.assetPrefix}}/assets/windy-mw0a3u21.webp",Ku={format:zu,width:Ou,height:Wu,space:Uu,channels:Yu,depth:Bu,density:Vu,isProgressive:qu,hasProfile:Zu,hasAlpha:Gu,src:Xu},Ju="webp",Qu=96,eh=96,th="srgb",sh=4,nh="uchar",ah=288,rh=!1,oh=!1,ih=!0,ch="{{.assetPrefix}}/assets/cloud-foggy-fhg0jn0w.webp",lh={format:Ju,width:Qu,height:eh,space:th,channels:sh,depth:nh,density:ah,isProgressive:rh,hasProfile:oh,hasAlpha:ih,src:ch},dh="webp",uh=96,hh=96,mh="srgb",fh=4,ph="uchar",gh=288,xh=!1,vh=!1,bh=!0,yh="{{.assetPrefix}}/assets/cloudy-disd26f3.webp",wh={format:dh,width:uh,height:hh,space:mh,channels:fh,depth:ph,density:gh,isProgressive:xh,hasProfile:vh,hasAlpha:bh,src:yh},jh="webp",_h=96,$h=96,Ch="srgb",kh=4,Nh="uchar",Th=288,Sh=!1,Mh=!1,Ph=!0,Dh="{{.assetPrefix}}/assets/heavy-snow-g6jjwo2d.webp",Eh={format:jh,width:_h,height:$h,space:Ch,channels:kh,depth:Nh,density:Th,isProgressive:Sh,hasProfile:Mh,hasAlpha:Ph,src:Dh},Ah="webp",Lh=96,Ih=96,Fh="srgb",Rh=4,Hh="uchar",zh=288,Oh=!1,Wh=!1,Uh=!0,Yh="{{.assetPrefix}}/assets/light-snow-iz0efpkh.webp",Bh={format:Ah,width:Lh,height:Ih,space:Fh,channels:Rh,depth:Hh,density:zh,isProgressive:Oh,hasProfile:Wh,hasAlpha:Uh,src:Yh},Vh="webp",qh=96,Zh=96,Gh="srgb",Xh=4,Kh="uchar",Jh=288,Qh=!1,em=!1,tm=!0,sm="{{.assetPrefix}}/assets/moon-drizzle-b1nfv39c.webp",nm={format:Vh,width:qh,height:Zh,space:Gh,channels:Xh,depth:Kh,density:Jh,isProgressive:Qh,hasProfile:em,hasAlpha:tm,src:sm},am="webp",rm=96,om=96,im="srgb",cm=4,lm="uchar",dm=288,um=!1,hm=!1,mm=!0,fm="{{.assetPrefix}}/assets/moon-hazy-nfnzea7a.webp",pm={format:am,width:rm,height:om,space:im,channels:cm,depth:lm,density:dm,isProgressive:um,hasProfile:hm,hasAlpha:mm,src:fm},gm="webp",xm=96,vm=96,bm="srgb",ym=4,wm="uchar",jm=288,_m=!1,$m=!1,Cm=!0,km="{{.assetPrefix}}/assets/moon-mostly-cloudy-e56e3z55.webp",Nm={format:gm,width:xm,height:vm,space:bm,channels:ym,depth:wm,density:jm,isProgressive:_m,hasProfile:$m,hasAlpha:Cm,src:km},Tm="webp",Sm=96,Mm=96,Pm="srgb",Dm=4,Em="uchar",Am=288,Lm=!1,Im=!1,Fm=!0,Rm="{{.assetPrefix}}/assets/moon-mostly-sunny-ffu4gzf4.webp",Hm={format:Tm,width:Sm,height:Mm,space:Pm,channels:Dm,depth:Em,density:Am,isProgressive:Lm,hasProfile:Im,hasAlpha:Fm,src:Rm},zm="webp",Om=96,Wm=96,Um="srgb",Ym=4,Bm="uchar",Vm=288,qm=!1,Zm=!1,Gm=!0,Xm="{{.assetPrefix}}/assets/moon-shower-e5dy9u48.webp",Km={format:zm,width:Om,height:Wm,space:Um,channels:Ym,depth:Bm,density:Vm,isProgressive:qm,hasProfile:Zm,hasAlpha:Gm,src:Xm},Jm="webp",Qm=96,ef=96,tf="srgb",sf=4,nf="uchar",af=288,rf=!1,of=!1,cf=!0,lf="{{.assetPrefix}}/assets/moon-sunny-d9o08xiw.webp",df={format:Jm,width:Qm,height:ef,space:tf,channels:sf,depth:nf,density:af,isProgressive:rf,hasProfile:of,hasAlpha:cf,src:lf},uf="webp",hf=96,mf=96,ff="srgb",pf=4,gf="uchar",xf=288,vf=!1,bf=!1,yf=!0,wf="{{.assetPrefix}}/assets/rain-thunder-eplemvu1.webp",jf={format:uf,width:hf,height:mf,space:ff,channels:pf,depth:gf,density:xf,isProgressive:vf,hasProfile:bf,hasAlpha:yf,src:wf},_f="webp",$f=96,Cf=96,kf="srgb",Nf=4,Tf="uchar",Sf=288,Mf=!1,Pf=!1,Df=!0,Ef="{{.assetPrefix}}/assets/rain-ogayr6kt.webp",Af={format:_f,width:$f,height:Cf,space:kf,channels:Nf,depth:Tf,density:Sf,isProgressive:Mf,hasProfile:Pf,hasAlpha:Df,src:Ef},Lf="webp",If=96,Ff=96,Rf="srgb",Hf=4,zf="uchar",Of=288,Wf=!1,Uf=!1,Yf=!0,Bf="{{.assetPrefix}}/assets/sleet-o8noil7l.webp",Vf={format:Lf,width:If,height:Ff,space:Rf,channels:Hf,depth:zf,density:Of,isProgressive:Wf,hasProfile:Uf,hasAlpha:Yf,src:Bf},qf="webp",Zf=96,Gf=96,Xf="srgb",Kf=4,Jf="uchar",Qf=288,ep=!1,tp=!1,sp=!0,np="{{.assetPrefix}}/assets/snow-lq4cl3uc.webp",ap={format:qf,width:Zf,height:Gf,space:Xf,channels:Kf,depth:Jf,density:Qf,isProgressive:ep,hasProfile:tp,hasAlpha:sp,src:np},rp="webp",op=96,ip=96,cp="srgb",lp=4,dp="uchar",up=288,hp=!1,mp=!1,fp=!0,pp="{{.assetPrefix}}/assets/sun-drizzle-htsohv65.webp",gp={format:rp,width:op,height:ip,space:cp,channels:lp,depth:dp,density:up,isProgressive:hp,hasProfile:mp,hasAlpha:fp,src:pp},xp="webp",vp=96,bp=96,yp="srgb",wp=4,jp="uchar",_p=288,$p=!1,Cp=!1,kp=!0,Np="{{.assetPrefix}}/assets/sun-hazy-nfj7clcd.webp",Tp={format:xp,width:vp,height:bp,space:yp,channels:wp,depth:jp,density:_p,isProgressive:$p,hasProfile:Cp,hasAlpha:kp,src:Np},Sp="webp",Mp=96,Pp=96,Dp="srgb",Ep=4,Ap="uchar",Lp=288,Ip=!1,Fp=!1,Rp=!0,Hp="{{.assetPrefix}}/assets/sun-mostly-cloudy-e3pqqgs7.webp",zp={format:Sp,width:Mp,height:Pp,space:Dp,channels:Ep,depth:Ap,density:Lp,isProgressive:Ip,hasProfile:Fp,hasAlpha:Rp,src:Hp},Op="webp",Wp=96,Up=96,Yp="srgb",Bp=4,Vp="uchar",qp=288,Zp=!1,Gp=!1,Xp=!0,Kp="{{.assetPrefix}}/assets/sun-mostly-sunny-o99k1c7a.webp",Jp={format:Op,width:Wp,height:Up,space:Yp,channels:Bp,depth:Vp,density:qp,isProgressive:Zp,hasProfile:Gp,hasAlpha:Xp,src:Kp},Qp="webp",eg=96,tg=96,sg="srgb",ng=4,ag="uchar",rg=288,og=!1,ig=!1,cg=!0,lg="{{.assetPrefix}}/assets/sun-shower-ldwl4jbp.webp",dg={format:Qp,width:eg,height:tg,space:sg,channels:ng,depth:ag,density:rg,isProgressive:og,hasProfile:ig,hasAlpha:cg,src:lg},ug="webp",hg=96,mg=96,fg="srgb",pg=4,gg="uchar",xg=!1,vg=!1,bg=!0,yg="{{.assetPrefix}}/assets/sun-sunny-kqjpjzd8.webp",wg={format:ug,width:hg,height:mg,space:fg,channels:pg,depth:gg,isProgressive:xg,hasProfile:vg,hasAlpha:bg,src:yg},jg="webp",_g=96,$g=96,Cg="srgb",kg=4,Ng="uchar",Tg=288,Sg=!1,Mg=!1,Pg=!0,Dg="{{.assetPrefix}}/assets/thunder-xzn1cku3.webp",Eg={format:jg,width:_g,height:$g,space:Cg,channels:kg,depth:Ng,density:Tg,isProgressive:Sg,hasProfile:Mg,hasAlpha:Pg,src:Dg},Ag="webp",Lg=96,Ig=96,Fg="srgb",Rg=4,Hg="uchar",zg=288,Og=!1,Wg=!1,Ug=!0,Yg="{{.assetPrefix}}/assets/tornado-diqu61wg.webp",Bg={format:Ag,width:Lg,height:Ig,space:Fg,channels:Rg,depth:Hg,density:zg,isProgressive:Og,hasProfile:Wg,hasAlpha:Ug,src:Yg},Vg="webp",qg=96,Zg=96,Gg="srgb",Xg=4,Kg="uchar",Jg=288,Qg=!1,ex=!1,tx=!0,sx="{{.assetPrefix}}/assets/windy-n2v8wtyp.webp",nx={format:Vg,width:qg,height:Zg,space:Gg,channels:Xg,depth:Kg,density:Jg,isProgressive:Qg,hasProfile:ex,hasAlpha:tx,src:sx},ax={foggy:{default:ni},cloudy:{default:pi},"heavy-snow":{default:Ni},"light-snow":{default:Hi},sleet:{default:Hl},drizzle:{default:ld,night:Ki},hazy:{default:wd,night:lc},"mostly-cloudy":{default:Ed,night:wc},"mostly-sunny":{default:Bd,night:Ec},shower:{default:nu,night:Bc},sunny:{default:pu,night:nl},"rain-thunder":{default:pl},rain:{default:Nl},snow:{default:Kl},thunder:{default:Nu},tornado:{default:Hu},windy:{default:Ku}},rx={foggy:{default:lh},cloudy:{default:wh},"heavy-snow":{default:Eh},"light-snow":{default:Bh},sleet:{default:Vf},drizzle:{default:gp,night:nm},hazy:{default:Tp,night:pm},"mostly-cloudy":{default:zp,night:Nm},"mostly-sunny":{default:Jp,night:Hm},shower:{default:dg,night:Km},sunny:{default:wg,night:df},"rain-thunder":{default:jf},rain:{default:Af},snow:{default:ap},thunder:{default:Eg},tornado:{default:Bg},windy:{default:nx}};function ox({weatherCode:e,isDarkMode:t,isNight:n}){const a=t?rx:ax,r=ix(e),o=a[r];return o.night&&n?o.night:o.default}function ix(e){switch(e){case 1:case 33:return"sunny";case 2:case 3:case 34:case 35:case 36:return"mostly-sunny";case 4:case 6:case 13:case 14:case 38:return"mostly-cloudy";case 5:case 37:return"hazy";case 7:case 8:return"cloudy";case 11:return"foggy";case 12:case 39:case 40:return"shower";case 15:case 16:case 17:case 41:case 42:return"thunder";case 18:return"rain";case 19:case 20:case 21:case 43:return"light-snow";case 22:case 23:case 44:return"snow";case 24:case 25:case 26:case 29:return"sleet";case 32:return"windy";default:return"cloudy"}}const cx="C";function lx(e,t){return Math.round(e==="F"?t*9/5+32:(t-32)*5/9)}function gt(e,t,n=cx){return e===n?`${Math.round(t)}°`:`${lx(e,t)}°`}const dx=7,xt=8,ux=p.memo(function({weatherResults:t,dateRange:n,turnIndex:a,trackContentReferenceEvent:r}){const[o,c]=jx(),l=fx(t);p.useEffect(()=>{r("Search Content Reference Shown","search_content_reference_shown","forecast")},[r]);const{daily:i,hourly:m,historical:u}=t;let f="daily";if(n||m&&i.length<2)f="hourly";else if(i.length>0)f="daily";else if(u&&u?.length>0)f="historical";else return null;return s.jsxs("div",{className:"relative",children:[l?s.jsxs(s.Fragment,{children:[s.jsx(mx,{weatherResults:t}),s.jsx(px,{weatherResults:t,temperatureUnit:o,setTemperatureUnit:c})]}):s.jsx("div",{className:"bg-token-main-surface-primary absolute end-0 top-3 z-10 rounded-sm",children:s.jsx(cs,{onTemperatureUnitChange:c,temperatureUnit:o})}),s.jsx(bx,{turnIndex:a}),f==="hourly"&&s.jsx(gx,{weatherResults:t,temperatureUnit:o,dateRange:n}),f==="daily"&&s.jsx(xx,{dailyForecast:i.slice(0,dx),temperatureUnit:o}),f==="historical"&&s.jsx(vx,{historical:u,temperatureUnit:o})]})});function hx({weatherAlert:e}){const[t,n]=p.useState(!1),a=S(),r=St(),o=F(e.start_timestamp,e.utc_offset_sec),c=e.end_timestamp?F(e.end_timestamp,e.utc_offset_sec):null,l=s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx(N,{id:"JnuGPS",defaultMessage:"{start}{separator}{end}",values:{start:a.formatDate(o,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),separator:c?" - ":"",end:c?a.formatDate(c,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):""}})}),s.jsx("div",{children:e.summary})]});return s.jsxs("button",{className:"my-2 flex w-full flex-col gap-2 rounded-xl border border-red-200 bg-red-100 px-4 py-3 text-start text-sm text-red-800",onClick:()=>n(!t),children:[s.jsxs("div",{className:"flex w-full items-center gap-4",children:[s.jsx(en,{className:"h-9 w-9 shrink-0"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"font-bold",children:s.jsx(N,{id:"y+fy/l",defaultMessage:"Severe Weather: {name}",values:{name:e.name}})}),r&&l]}),s.jsx("div",{className:"grow"}),s.jsx("div",{className:"opacity-30",children:t?s.jsx(La,{className:"icon-lg"}):s.jsx(Aa,{className:"icon-lg"})})]}),t&&e.details&&s.jsxs(s.Fragment,{children:[!r&&l,s.jsx("div",{className:"mt-1 whitespace-pre-wrap",children:e.details.trim()})]})]})}function mx({weatherResults:e}){const{severe:t}=e;return t?s.jsx("div",{className:"my-2",children:t.map((n,a)=>s.jsx(hx,{weatherAlert:n},a))}):null}function fx(e){const{historical:t,daily:n,hourly:a,current:r}=e;if(!r)return!1;let o=!1;const c=F(r.timestamp,r.utc_offset_sec);for(const l of[t,n,a])l&&(o=o||l?.some(i=>Gs(c,F(i.timestamp,i.utc_offset_sec))));return o}function px({weatherResults:e,temperatureUnit:t,setTemperatureUnit:n}){const a=S(),{current:r}=e;if(!r)return null;const o=r.temperature.current,c=r.description,l=o!=null&&c&&" · ";return s.jsxs("div",{className:"not-prose flex items-center gap-4",children:[s.jsxs("div",{className:"grow",children:[s.jsxs("div",{className:"text-lg font-semibold",children:[o!=null&&s.jsx(N,{id:"FiwByI",defaultMessage:"Currently {temperature}",values:{temperature:W(a,o,t)}}),l,c.description]}),s.jsx("div",{className:"text-token-text-secondary",children:wx(e.location)})]}),s.jsxs("div",{className:"flex",children:[s.jsx(cs,{onTemperatureUnitChange:n,temperatureUnit:t}),s.jsx(He,{weatherDescriptionData:c,isNight:r.night})]})]})}function Re({children:e}){return s.jsx("div",{className:"no-scrollbar not-prose mt-1 overflow-auto sm:overflow-hidden",children:s.jsx(P.Root,{className:"min-w-0",children:s.jsx(P.Body,{className:"border-token-border-medium border-b-[0.5px] [&_tr:last-child]:border-b-0",children:e})})})}function gx({weatherResults:e,temperatureUnit:t,dateRange:n}){const a=S(),{hourly:r,current:o}=e;let c=r??[];n&&(c=c.filter(u=>u.timestamp>=n.start_timestamp&&u.timestamp<n.end_timestamp));const[l,i]=p.useState(!1),m=c.length>xt;if(!l&&m){const u=c[0],f=F(u.timestamp,u.utc_offset_sec);let v=!1;if(o){const x=F(o.timestamp,o.utc_offset_sec);f.getTime()-x.getTime()>8*60*60*1e3&&c.length>18&&(c=c.slice(7,18),v=!0)}v||(c=c.slice(0,xt))}return s.jsxs(Re,{children:[c.map((u,f)=>s.jsxs(P.Row,{children:[s.jsxs(E,{className:"w-44",children:[s.jsx(He,{weatherDescriptionData:u.description,isNight:u.night,size:"small"}),s.jsx("div",{className:"ms-3 whitespace-nowrap",children:s.jsx("span",{className:"lowercase",children:yx(a,u)})})]}),s.jsx(E,{className:"w-[60px] tabular-nums",children:s.jsx("div",{children:W(a,u.temperature.current,t)})}),s.jsx(E,{children:u.description.description})]},f)),m&&s.jsx(P.Row,{children:s.jsx(E,{className:"w-44",children:s.jsx(R,{color:"secondary",onClick:()=>i(!l),size:"small",children:l?s.jsx(N,{id:"KoC8Ym",defaultMessage:"Show less"}):s.jsx(N,{id:"X8F8Y/",defaultMessage:"Show more"})})})})]})}function xx({dailyForecast:e,temperatureUnit:t}){const n=S();return s.jsx(Re,{children:e.map((a,r)=>s.jsxs(P.Row,{children:[s.jsxs(E,{className:"w-[7.5rem] min-w-[7.5rem]",children:[s.jsx(He,{weatherDescriptionData:a.description,isNight:a.night,size:"small"}),s.jsx("div",{className:"ms-3 whitespace-nowrap",children:De(n,F(a.timestamp,a.utc_offset_sec))})]}),s.jsxs(E,{className:"tabular-nums",children:[s.jsx("div",{children:W(n,a.temperature.max,t)}),s.jsx("div",{className:"text-token-text-secondary ms-1",children:W(n,a.temperature.min,t)})]}),s.jsx(E,{className:"min-w-80",children:a.description.description})]},r))})}function vx({historical:e,temperatureUnit:t}){const n=S();return e?s.jsx(Re,{children:e.map((a,r)=>{const o=F(a.timestamp,a.utc_offset_sec);return s.jsxs(P.Row,{children:[s.jsx(E,{className:"w-[250px]",children:s.jsx("div",{className:"ms-3 whitespace-nowrap",children:n.formatDate(o,{weekday:"long",month:"short",day:"numeric"})})}),s.jsx(E,{className:"tabular-nums",children:a.temperature.max&&a.temperature.min?s.jsxs(s.Fragment,{children:[s.jsx("div",{children:W(n,a.temperature.max,t)}),s.jsx("div",{className:"text-token-text-secondary ms-1",children:W(n,a.temperature.min,t)})]}):s.jsx("div",{children:W(n,a.temperature.current,t)})}),s.jsx(E,{})]},r)})}):null}function E({className:e,children:t}){return s.jsx(P.Cell,{className:$("border-token-border-xlight! border-s-0! border-e-0! py-2! ps-4! pe-3! first:ps-0! last:pe-0!",e),divClassName:"items-start leading-relaxed",children:t})}function bx({turnIndex:e}){const t=Js(a=>a.thread?.turns[e]?.use_location),[n]=na();return!n.useLocation&&t?s.jsx("div",{className:"mt-3",children:s.jsx(R,{color:"secondary",icon:Qs,onClick:()=>{aa.setSettingsModalOpen(!0)},children:s.jsx(N,{id:"f47VEc",defaultMessage:"Share precise location"})})}):null}function cs({temperatureUnit:e,onTemperatureUnitChange:t}){const n=a=>e===a?"font-bold":"font-light";return s.jsx(Xs,{size:"small",triggerButton:s.jsx("button",{className:"text-token-text-tertiary hover:text-token-text-primary flex items-center justify-center p-1.5",children:s.jsx(Bo,{className:"icon-sm-heavy"})}),children:s.jsxs(Ks.Item,{onClick:()=>{t(e==="C"?"F":"C")},className:"text-token-text-primary",children:[s.jsx(N,{id:"bQIoe/",defaultMessage:"Temperature"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:n("F"),children:s.jsx(N,{id:"bvDeBB",defaultMessage:"°F"})}),s.jsx("div",{className:"mx-1 h-4 border-s border-gray-300"}),s.jsx("div",{className:n("C"),children:s.jsx(N,{id:"iNiz6O",defaultMessage:"°C"})})]})]})})}function He({weatherDescriptionData:e,isNight:t=!1,size:n="normal"}){const a=fe(),r=n==="small"?30:50;return s.jsx("img",{draggable:!1,alt:e.description,src:ox({weatherCode:e.id,isDarkMode:a,isNight:t}).src,width:r,height:r})}function yx(e,t){const n=F(t.timestamp,t.utc_offset_sec);return e.formatDate(n,{hour:"numeric"})}function W(e,t,n){return t==null?"-":gt(n?n??"F":ls(e),t)}function ls(e){const t=["en-US","en-BZ","en-BS","en-KY","en-PW"],n=e.locale||"en-US";return t.includes(n)?"F":"C"}function wx(e){const t=e.name.split(",").map(n=>n.trim());return e.country&&!t.includes(e.country)&&t.push(e.country),t.join(", ")}const jx=()=>{const e=S(),[t,n]=Zs("USER_TEMPERATURE_UNIT",ls(e),a=>["F","C"].includes(a));return[t,n]},_x=En(()=>An(()=>import("./kojokk7exwju9br2.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])).then(e=>e.BusinessesMap));function $x(e){"use forget";const t=le.c(106),{index:n,FormattedText:a,node:r,wordFadeType:o}=e,c=parseInt(n,10),l=p.useContext(Q),i=Ct(l?.analyticsMetadata),m=p.useRef(!1);if(l==null)return null;const{contentReferences:u,onShowSearchResults:f,numImageResults:v,analyticsMetadata:x,message:b}=l,h=u?.[c];if(!h||x.turnIndex===void 0||h.type===void 0)return null;let _;t[0]===Symbol.for("react.memo_cache_sentinel")?(_={img:kx},t[0]=_):_=t[0];let k;t[1]!==h.alt?(k=s.jsx(Ae,{components:_,children:h.alt}),t[1]=h.alt,t[2]=k):k=t[2];const j=k;let y=null;e:switch(h.type){case"title_citation":{let d;t[3]!==h||t[4]!==i?(d=s.jsx(Ro,{metadata:h,trackContentReferenceEvent:i}),t[3]=h,t[4]=i,t[5]=d):d=t[5],y=d;break e}case"location_search":{let d;t[6]!==h||t[7]!==i?(d=s.jsx($o,{metadata:h,trackContentReferenceEvent:i}),t[6]=h,t[7]=i,t[8]=d):d=t[8],y=d;break e}case"time":{let d;t[9]!==h||t[10]!==i?(d=s.jsx(Fo,{metadata:h,trackContentReferenceEvent:i}),t[9]=h,t[10]=i,t[11]=d):d=t[11],y=d;break e}case"image_v2":{const d=v??0;let C;t[12]!==x||t[13]!==h||t[14]!==i||t[15]!==d?(C=s.jsx(Zt,{metadata:h,numImageResults:d,analyticsMetadata:x,trackContentReferenceEvent:i}),t[12]=x,t[13]=h,t[14]=i,t[15]=d,t[16]=C):C=t[16],y=C;break e}case"nav_list":{let d;t[17]!==h||t[18]!==i?(d=s.jsx(ko,{metadata:h,trackContentReferenceEvent:i}),t[17]=h,t[18]=i,t[19]=d):d=t[19],y=d;break e}case"file_navlist":{let d;t[20]!==h||t[21]!==i?(d=s.jsx(Lr,{metadata:h,trackContentReferenceEvent:i}),t[20]=h,t[21]=i,t[22]=d):d=t[22],y=d;break e}case"file":{let d;t[23]!==h||t[24]!==i||t[25]!==c?(d=s.jsx(Pr,{fileRef:h,index:c,trackContentReferenceEvent:i}),t[23]=h,t[24]=i,t[25]=c,t[26]=d):d=t[26],y=d;break e}case"grouped_webpages_model_predicted_fallback":{let d;t[27]!==h||t[28]!==l.message.id||t[29]!==i||t[30]!==c||t[31]!==r?(d=s.jsx(Da,{webpageRef:h,node:r,trackContentReferenceEvent:i,messageId:l.message.id,index:c}),t[27]=h,t[28]=l.message.id,t[29]=i,t[30]=c,t[31]=r,t[32]=d):d=t[32],y=d;break e}case"grouped_webpages":{let d;t[33]!==h||t[34]!==l.message.id||t[35]!==i||t[36]!==c||t[37]!==r?(d=s.jsx(Pa,{webpageRef:h,node:r,trackContentReferenceEvent:i,messageId:l.message.id,index:c}),t[33]=h,t[34]=l.message.id,t[35]=i,t[36]=c,t[37]=r,t[38]=d):d=t[38],y=d;break e}case"tldr":break e;case"navigation":{let d;t[39]!==h||t[40]!==i||t[41]!==f?(d=s.jsx(tn,{navigation:h,onShowSearchResults:f,trackContentReferenceEvent:i}),t[39]=h,t[40]=i,t[41]=f,t[42]=d):d=t[42],y=d;break e}case"stock":{let d;t[43]!==h||t[44]!==i?(d=s.jsx(yo,{contentReference:h,trackContentReferenceEvent:i}),t[43]=h,t[44]=i,t[45]=d):d=t[45],y=d;break e}case"calculator":{let d;t[46]!==h||t[47]!==i?(d=s.jsx(jr,{data:h,trackContentReferenceEvent:i}),t[46]=h,t[47]=i,t[48]=d):d=t[48],y=d;break e}case"code_execution":{let d;t[49]!==a||t[50]!==h||t[51]!==i?(d=s.jsx(kr,{FormattedText:a,displayInfo:h,trackContentReferenceEvent:i}),t[49]=a,t[50]=h,t[51]=i,t[52]=d):d=t[52],y=d;break e}case"forecast":{let d;t[53]!==x||t[54]!==h.date_range||t[55]!==h.forecast||t[56]!==i?(d=h?.forecast&&s.jsx(ux,{weatherResults:h.forecast,dateRange:h.date_range,turnIndex:x.turnIndex,trackContentReferenceEvent:i}),t[53]=x,t[54]=h.date_range,t[55]=h.forecast,t[56]=i,t[57]=d):d=t[57],y=d;break e}case"businesses_map":{let d;t[58]!==h||t[59]!==i?(d=s.jsx(_x,{contentReference:h,trackContentReferenceEvent:i}),t[58]=h,t[59]=i,t[60]=d):d=t[60],y=d;break e}case"video":{let d;t[61]!==h||t[62]!==i?(d=s.jsx(Yo,{video:h,trackContentReferenceEvent:i}),t[61]=h,t[62]=i,t[63]=d):d=t[63],y=d;break e}case"sports_standings":{let d;t[64]!==h||t[65]!==i?(d=s.jsx(Lo,{standingsRef:h,trackContentReferenceEvent:i}),t[64]=h,t[65]=i,t[66]=d):d=t[66],y=d;break e}case"sports_schedule":{let d;t[67]!==h||t[68]!==i?(d=s.jsx(Po,{scheduleRef:h,trackContentReferenceEvent:i}),t[67]=h,t[68]=i,t[69]=d):d=t[69],y=d;break e}case"attribution":{let d;t[70]!==h||t[71]!==o?(d=s.jsx(xr,{attribution:h,wordFadeType:o}),t[70]=h,t[71]=o,t[72]=d):d=t[72],y=d;break e}case"debug":{let d;t[73]!==h?(d=Object.entries(h).map(Cx),t[73]=h,t[74]=d):d=t[74];let C;t[75]!==d?(C=s.jsx(s.Fragment,{children:d}),t[75]=d,t[76]=C):C=t[76],y=C;break e}case"image_inline":{let d;t[77]!==h||t[78]!==l.clientThreadId||t[79]!==i||t[80]!==b?(d=s.jsx(lr,{reference:h,clientThreadId:l.clientThreadId,trackContentReferenceEvent:i,message:b}),t[77]=h,t[78]=l.clientThreadId,t[79]=i,t[80]=b,t[81]=d):d=t[81],y=d;break e}case"product_entity":{let d;t[82]!==x.turnIndex||t[83]!==h||t[84]!==l.clientThreadId||t[85]!==l.message.id||t[86]!==i?(d=s.jsx(hr,{contentReference:h,clientThreadId:l.clientThreadId,messageId:l.message.id,turnIndex:x.turnIndex,trackContentReferenceEvent:i}),t[82]=x.turnIndex,t[83]=h,t[84]=l.clientThreadId,t[85]=l.message.id,t[86]=i,t[87]=d):d=t[87],y=d;break e}case"products":{let d;t[88]!==x||t[89]!==h||t[90]!==l.clientThreadId||t[91]!==l.message.id?(d=s.jsx(pr,{contentReference:h,clientThreadId:l.clientThreadId,messageId:l.message.id,turnIndex:x.turnIndex,analyticsMetadata:x}),t[88]=x,t[89]=h,t[90]=l.clientThreadId,t[91]=l.message.id,t[92]=d):d=t[92],y=d;break e}case"product_reviews":{let d;t[93]!==h||t[94]!==i?(d=s.jsx(ma,{contentReference:h,disableAnimation:!0,trackContentReferenceEvent:i}),t[93]=h,t[94]=i,t[95]=d):d=t[95],y=d;break e}case"product_rationale":{let d;t[96]!==h||t[97]!==i?(d=s.jsx(ha,{contentReference:h,trackContentReferenceEvent:i,disableAnimation:!0}),t[96]=h,t[97]=i,t[98]=d):d=t[98],y=d;break e}case"sources_footnote":return null}let g;t[99]!==j||t[100]!==h||t[101]!==i?(g=d=>(m.current||(i("Search Content Reference Failed","search_content_reference_failed",h.type),Le.addError(`Error rendering content reference: ${h.type}`,{...d,contentReference:h}),m.current=!0),h?.alt?j:s.jsx("span",{className:`errored-object-${h.type}`})),t[99]=j,t[100]=h,t[101]=i,t[102]=g):g=t[102];let w;return t[103]!==y||t[104]!==g?(w=s.jsx(Ot,{name:"content-reference-renderer",fallback:g,children:y}),t[103]=y,t[104]=g,t[105]=w):w=t[105],w}function Cx(e){const[t,n]=e;return s.jsx("sub",{className:"ms-1 w-fit rounded-md border-2 border-solid border-orange-500 px-1 leading-none",children:n},t)}function kx(e){const{src:t,alt:n}=e;return s.jsx("img",{src:t,alt:n,className:"max-h-28"})}const Nx=({onClick:e})=>{const[t,n]=p.useState(!1),a=sn(),r=S(),o=l=>{e(l),n(!0),setTimeout(()=>{a()&&n(!1)},2e3)},c=t?nn:an;return s.jsx(de,{label:r.formatMessage({id:"KrNQPS",defaultMessage:"Copy Table"}),side:"bottom",align:"center",alignOffset:0,children:s.jsx("button",{onClick:o,className:"bg-token-bg-primary hover:bg-token-bg-tertiary text-token-text-secondary my-1 rounded-sm p-1 transition-opacity group-[:not(:hover):not(:focus-within)]:pointer-events-none group-[:not(:hover):not(:focus-within)]:opacity-0",children:s.jsx(c,{className:"icon-md-heavy"})})})},Tx="_tableContainer_16hzy_1",Sx="_tableWrapper_16hzy_14",vt={tableContainer:Tx,tableWrapper:Sx},Mx=({onClickCopy:e,children:t,...n})=>{const a=p.useRef(null),r=p.useRef(null);return Ln(()=>{rn({axis:"height",target:a.current?.firstElementChild,onChange:({height:o})=>{r.current&&(r.current.style.height=`${o}px`)}})},[]),s.jsx("div",{className:vt.tableContainer,children:s.jsxs("div",{tabIndex:-1,className:$(vt.tableWrapper,"group flex w-fit flex-col-reverse"),children:[s.jsx("table",{...n,className:"w-fit min-w-(--thread-content-width)",ref:a,children:t}),s.jsx("div",{className:"sticky end-(--thread-content-margin) h-0 self-end select-none",children:s.jsx("div",{className:"absolute end-0 flex items-end",ref:r,children:s.jsx(Nx,{onClick:e})})})]})})},Px=({node:e,children:t,...n})=>s.jsx("td",{...n,children:p.Children.map(t,(a,r)=>a==="<br>"?s.jsx("br",{},r):a)});function Dx(e){const{src:t,clientThreadId:n,...a}=e,r=At(n),o=p.useContext(Q),c=gn(r,t,o?.useSafeUrls);return c==null?s.jsx("div",{}):s.jsx("img",{...a,src:c})}function Ex(e){return s.jsx($x,{...e,FormattedText:ds})}function ds({size:e="medium",children:t,className:n,clientThreadId:a,messageId:r,isActivelyStreaming:o=!1,componentOverrides:c,isDeepResearchResultMessage:l,forceDarkMode:i,disableWordFade:m}){const u=fe()||i,f=on(),{wordFadeType:v}=cn(),x=me(),b=p.useMemo(()=>({pre:({children:g,"data-start":w,"data-end":d,"data-is-last-node":C})=>s.jsx("pre",{className:"overflow-visible!","data-start":w,"data-end":d,"data-is-last-node":C,children:g}),code:g=>s.jsx(pn,{...g,clientThreadId:a}),[Fn]:g=>s.jsx(Ex,{wordFadeType:v,...g}),[sa]:ta,[fn]:Ha,[mn]:Ga,[hn]:qa,a:g=>{const{node:w,children:d,...C}=g,T=w?.properties?.href;if(typeof T=="string"&&T.startsWith(Ue))return f?s.jsx(dn,{...C}):a!=null&&r!=null?s.jsx(un,{...C,clientThreadId:a,messageId:r,href:T,children:d}):null;if(typeof T=="string"&&T===zn){const A=w?.children?.map(D=>typeof D.value=="string"?D.value:"").join("").trim();return s.jsx(On,{...g,text:A,clientThreadId:a,messageId:r,className:"cursor-pointer"})}if(typeof T=="string"&&T===Wn){const A=w?.children?.map(D=>typeof D.value=="string"?D.value:"").join("").trim();return s.jsx(Un,{...g,text:A,clientThreadId:a,messageId:r})}if(typeof T=="string"&&T===Yn){const A=w?.children?.map(D=>typeof D.value=="string"?D.value:"").join("").trim();return s.jsx(Bn,{...g,text:A,clientThreadId:a,messageId:r})}return T&&typeof T=="string"&&Ja(T)?d:s.jsx(Vn,{...g,clientThreadId:a,messageId:r})},table:({node:g,...w})=>s.jsx(Mx,{...w,onClickCopy:d=>{se.logEvent("ChatGPT Table Copy Clicked");const C=a!=null&&r!=null?K.getNode(In(a),r).message:void 0;ln(Hn(g.markdownSource,C?.metadata?.content_references),void 0,d)}}),td:Px,img:({node:g,...w})=>{const d=g?.properties?.src;return typeof d=="string"&&(d.startsWith(Ue)||d.startsWith("attachment:"))?null:s.jsx(Dx,{...w,clientThreadId:a})},...v==="delay"?Ia:[],...c}),[c,a,r,f,v,x]),h=p.useMemo(()=>o&&t?Fa(t):t??"",[t,o]),{value:_}=Rn("1839283687"),k=kt(),j=p.useMemo(()=>[...Yt,[qn,h]],[h]),y=p.useMemo(()=>v==="indexed"&&!m?{handlers:{text:(g,w,d)=>{const C=[];for(const T of k(w.value))C.push({type:"element",tagName:"span",properties:{className:Nt.fadeIn},children:[{type:"text",value:T}]});return C}}}:void 0,[v,k,m]);return _?!1:s.jsx(Ot,{name:"formatted_text_error",fallback:()=>s.jsx(s.Fragment,{children:h}),children:s.jsx(us,{rehypePlugins:j,remarkPlugins:Ut,remarkRehypeOptions:y,className:$(n,"markdown prose dark:prose-invert w-full break-words",u?"dark":"light",e==="small"&&"prose-xs",l&&"deep-research-result"),urlTransform:Wt,components:b,children:h})})}const us=p.memo(Ae),r1=Object.freeze(Object.defineProperty({__proto__:null,FormattedText:ds,ReactMarkdownMemo:us},Symbol.toStringTag,{value:"Module"}));export{ds as F,n1 as R,Ie as W,r1 as a,a1 as l};
//# sourceMappingURL=bdclq6pa102whxi1.js.map
