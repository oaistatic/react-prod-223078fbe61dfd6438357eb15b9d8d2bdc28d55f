const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/d6giyvwwo4a11r25.js","assets/citrwydz0bgriwlc.js","assets/b8ijctzpgh0s7wpx.js","assets/root-gxczc0vy.css","assets/krbmwir12ubt4od1.js","assets/conversation-small-dfayqh3x.css","assets/d2w3ra1lcmyssr4z.js","assets/by1c2a5hsj4exnt8.js","assets/hpn4skkcz7o0jbpw.js","assets/k6ccgr4wxcppeg93.js","assets/ku4zsoy6w4wkp690.js","assets/k1h56nx2kjoqc52m.js","assets/exvo283q5zxd2q6r.js","assets/jekpe1ukp5thtucq.js","assets/me9hhl03j9gxv6g7.js","assets/jkznwfhp8ahnvlot.js","assets/nvghija6qp2cunds.js","assets/djd85tifm57yisqi.js","assets/megablgldkh4lap1.js","assets/hbpbckirom363mgh.js","assets/izdon3syh095bs23.js","assets/dweroubxngal4vlb.js","assets/i7jya7stlyvnzya0.js","assets/cb2t82g498wwhuc2.js","assets/ndwtlsjk3xm27wkq.js","assets/dcml6fn13vfm1zv2.js","assets/o0ebhsapkoy5qkg1.js","assets/k7nub2yuxq70se07.js","assets/dbalwdodzoo02ru2.js","assets/b4v20hsjdnh8a64d.js","assets/h3krx8dg2s8o2yh5.js","assets/cfe0bfy5asp94vp2.js","assets/c2d9eukr2hh7n3q0.js","assets/pfex3j43xcablmav.js","assets/pc9qsszhmtx9pu7o.js","assets/dera5bljhpg5ja89.js","assets/hs2fsda156wfk7fz.js","assets/m4qet7ipn6ha09it.js","assets/h3axfhhn58bmthc9.js","assets/eg629yaevviy8e7x.js","assets/be0n9593bbjhdouz.js","assets/gbxx25eoj7wtyna0.js","assets/bzsolvz1ulyrc61b.js","assets/pc2givv05uuq8g6l.js","assets/jy1hvpbwecfrhxw6.js","assets/otl51en3t0ec5n7s.js","assets/eigi8l95ddhoqirr.js","assets/etmxhiuvgu79utu0.js","assets/ct6yhczwft8t5t9k.js","assets/bzpm2hv3f3hhm416.js","assets/oyzab3j7hun2568h.js","assets/nhujhl3wh6ze4xx0.js","assets/cjgrwe6bv9n1lytg.js","assets/ne46inz3s49z2194.js","assets/g4tl5lt9yqf20m4s.js"])))=>i.map(i=>d[i]);
import{aQ as _e,e as Se,ed as Fe,dr as ze,gM as Ve,Q as ye,_ as Ce,bL as Re,gN as Le,bj as we,j as De,gO as Ue,cZ as Ee,gP as Ge,ei as Be,fi as Te,aS as We,fN as Ke,a_ as Qe,aJ as He,cp as Ye,b as qe}from"./citrwydz0bgriwlc.js";import{r as n,j as t,a6 as Me,f as $e,a as Ae,i as Je,a5 as ke,c as Xe,k as Ie,p as Ze}from"./b8ijctzpgh0s7wpx.js";import{j_ as et,j$ as Oe,k0 as tt,k1 as st,k2 as it,k3 as at,bz as Ne,bU as ot,dA as je,bV as Pe,k4 as rt,bL as nt,bM as lt,k5 as ct,k6 as dt,k7 as ft,k8 as ut,k9 as mt,ka as ht,c5 as pt,kb as gt,F as xt,kc as vt,kd as bt,ke as kt,fY as jt,kf as _t,kg as yt,kh as Ct,ki as wt,kj as Et,kk as Tt,T as It,kl as Nt}from"./krbmwir12ubt4od1.js";import{c as Pt,b as St}from"./k6ccgr4wxcppeg93.js";import{B as Mt}from"./me9hhl03j9gxv6g7.js";import{u as At,b as Ot}from"./b4v20hsjdnh8a64d.js";import{P as Ft}from"./exvo283q5zxd2q6r.js";import{a as zt}from"./pfex3j43xcablmav.js";import{a as Vt}from"./cb2t82g498wwhuc2.js";import{C as Rt}from"./jy1hvpbwecfrhxw6.js";import{a as Lt,C as Dt}from"./nvghija6qp2cunds.js";import{M as Ut}from"./bzpm2hv3f3hhm416.js";import{K as Gt}from"./cjgrwe6bv9n1lytg.js";function Bt({clientThreadId:i}){const e=et(r=>r.notifications),a=n.useRef(new Set);return n.useEffect(()=>{e.filter(o=>o.clientThreadId===void 0||i===o.clientThreadId).map(o=>o.id).filter(o=>o!==void 0).forEach(o=>Oe(o)),e.forEach(o=>{o.id&&!a.current.has(o.id)&&(_e.logEvent("chatgpt_notification_shown"),Se.logEvent("Notifications: Notification Shown to User"),a.current.add(o.id))})},[i,e]),e.length===0||Fe?null:t.jsx("div",{className:"pointer-events-auto fixed end-4 top-8 z-100 my-2 flex max-h-[90vh] flex-col-reverse space-y-2 space-y-reverse overflow-y-auto px-2 py-4",children:t.jsx(Me,{children:e.map(r=>t.jsx(Kt,{...r},r.id))})})}function Wt({notification:i}){return i.icon?t.jsx(st,{size:"medium",className:"border-token-secondary bg-token-main-surface-primary text-token-text-primary rounded-full border",IconComponent:i.icon}):t.jsx(it,{iconName:"openai",size:"medium",className:"border-token-secondary bg-token-main-surface-primary text-token-text-primary rounded-full border"})}function Kt({...i}){const e=$e(),a=Ae(),r=Je(),o=ze(i.clientThreadId),c=()=>{_e.logEvent("chatgpt_notification_clicked"),Se.logEvent("Notifications: User Clicked Notification"),i.onClick!=null?i.onClick():o&&tt(e,a,o),i.id&&Oe(i.id)};return t.jsxs(ke.div,{onClick:c,className:"border-token-border-default bg-token-main-surface-primary z-100 inline-flex w-80 cursor-pointer items-center justify-start gap-2.5 rounded-2xl border px-3 py-3 align-middle shadow-lg",initial:{opacity:0,x:320},animate:{opacity:1,x:0},exit:{opacity:0,x:320},transition:{duration:.5},children:[t.jsx(Wt,{notification:i}),t.jsxs("div",{className:"inline-flex w-full shrink grow basis-0 flex-col items-start justify-start overflow-hidden",children:[t.jsx("div",{className:"text-token-text-primary w-full truncate text-sm font-medium",children:i.title??r.formatMessage({id:"mpXAeu",defaultMessage:"New chat"})}),i.subtitle&&t.jsx("div",{className:"text-token-text-tertiary w-full truncate text-sm",children:i.subtitle}),i.payload?.display_image_url&&t.jsx("img",{className:"mt-2 h-12 w-12 rounded-xs",src:i.payload.display_image_url,alt:i.payload.image_alt})]})]})}function Qt({clientThreadId:i}){const e=At();return t.jsxs(t.Fragment,{children:[e&&t.jsx(Ot,{}),t.jsx(Ht,{clientThreadId:i})]})}function Ht({clientThreadId:i}){const e=n.useContext(Vt),[a,r]=n.useState(!!e?.postWithProfile&&e.postWithProfile.post.attachments&&e.postWithProfile.post.attachments.every(o=>o.kind==="media_generation"));return!e?.postWithProfile||!a?null:t.jsx(Ft,{clientThreadId:i,children:t.jsx(zt,{clientThreadId:i,postWithProfile:e.postWithProfile,closeModal:()=>r(!1)})})}const Yt=450;function qt({children:i,clientThreadId:e,isOpen:a,onClose:r,type:o}){return t.jsx(Me,{children:a&&t.jsx(Ve,{children:t.jsx(at.Provider,{value:{isEmbeddedInFocusedView:!0,type:o},children:t.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[t.jsx(ke.div,{className:"bg-token-main-surface-secondary h-full w-full",...Ne}),t.jsxs("div",{className:"absolute inset-0 flex",children:[t.jsx("div",{className:"grow overflow-auto",children:i}),t.jsx(ke.div,{className:"border-token-border-medium bg-token-main-surface-primary relative shrink-0 border-s",style:{width:Yt},...Ne,children:t.jsx("div",{className:"h-[100vh] pb-4",children:t.jsx(Ut,{clientThreadId:e,hideHeader:!0,hideDisclaimer:!0,messagesVerticalAlign:"bottom"},e)})})]})]})})})})}const $t=ye(()=>Ce(()=>import("./d6giyvwwo4a11r25.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Jt=ye(()=>Ce(()=>import("./hpn4skkcz7o0jbpw.js"),__vite__mapDeps([8,1,2,3,4,5,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52])).then(i=>i.ImageEditor));function Xt({clientThreadId:i}){const e=ot();n.useEffect(()=>{je.close()},[i]);let a;return e?.type===Pe.ADAVisualization?a=t.jsx($t,{clientThreadId:i,visualization:e.visualization}):e?.type===Pe.Image&&(a=t.jsx(Jt,{clientThreadId:i,messageId:e.messageId,image:e.image,allImages:e.allImages},e.image.asset_pointer)),t.jsx(qt,{clientThreadId:i,isOpen:e!=null,onClose:je.close,type:e?.type,children:a})}var Zt={};const es=({children:i})=>t.jsx(t.Fragment,{children:i}),ts=ye(()=>Ce(()=>import("./ne46inz3s49z2194.js"),__vite__mapDeps([53,2,1,3,4,5,16,10,11,12,13,17,9,49,29,25,30,31,15,18,19,20,21,22,23,24,26,27,28,32,50,35,36,33,34,37,38,39,40,41,42,43,51,54])));function xs(i){"use forget";const e=Xe.c(96),{urlThreadId:a,clientThreadId:r,prefetchSearch:o}=i,c=Re(),T=Le(),y=Ie(),[C]=Ze();let I;e[0]!==r||e[1]!==a?(I=()=>{if(a!==void 0){const l=a;return Ue(l)??l}return r!==void 0?r:Ee()},e[0]=r,e[1]=a,e[2]=I):I=e[2];const[s,w]=n.useState(I);a!==void 0&&s!==a&&(we(s)===a||w(a));const ge=Ie();let N;e[3]!==ge?(N=rt(ge),e[3]=ge,e[4]=N):N=e[4];const xe=N;let P;e[5]!==s||e[6]!==a?(P=()=>{a===void 0&&we(s)!==void 0&&w(Ee())},e[5]=s,e[6]=a,e[7]=P):P=e[7];let S;e[8]!==s||e[9]!==xe||e[10]!==a?(S=[a,s,xe],e[8]=s,e[9]=xe,e[10]=a,e[11]=S):S=e[11],n.useEffect(P,S);const ve=nt(lt.workspaceId),{eligible:M,isLoading:A,markAsViewed:O}=ct(),F=dt(),{eligible:z,isLoading:V,markAsViewed:R}=ft(),L=ut(),{eligible:D,isLoading:U,markAsViewed:G}=mt(),B=ht(),W=pt();let K,Q;e[12]!==W?(K=()=>{Ge(!0).then(l=>{l.force_login&&W({authType:"login"}),vt.initializeAndGatherData(l),Be.initializeAndGatherData(l)})},Q=[W],e[12]=W,e[13]=K,e[14]=Q):(K=e[13],Q=e[14]),n.useEffect(K,Q);let H,Y;e[15]!==T||e[16]!==c||e[17]!==C?(H=()=>{const l=C.get(bt)==="true",E=C.get(kt)==="true";E!==T&&Te.setIsAnonModeEnabled(E),c!==l&&Te.setIsTemporaryChatEnabled(l)},Y=[c,T,C],e[15]=T,e[16]=c,e[17]=C,e[18]=H,e[19]=Y):(H=e[18],Y=e[19]),n.useEffect(H,Y);let q;e[20]!==y.state?(q=()=>{y.state?.focusObject&&je.setFocusedObject(y.state.focusObject)},e[20]=y.state,e[21]=q):q=e[21];const be=y.state?.focusObject;let $;e[22]!==be?($=[be],e[22]=be,e[23]=$):$=e[23],n.useEffect(q,$);let J,X;e[24]!==M||e[25]!==A||e[26]!==O||e[27]!==F?(J=()=>{!A&&M&&(O(),F())},X=[M,A,O,F],e[24]=M,e[25]=A,e[26]=O,e[27]=F,e[28]=J,e[29]=X):(J=e[28],X=e[29]),n.useEffect(J,X);let Z,ee;e[30]!==z||e[31]!==V||e[32]!==R||e[33]!==L?(Z=()=>{!V&&z&&(R(),L())},ee=[z,V,R,L],e[30]=z,e[31]=V,e[32]=R,e[33]=L,e[34]=Z,e[35]=ee):(Z=e[34],ee=e[35]),n.useEffect(Z,ee);let te,se;e[36]!==D||e[37]!==U||e[38]!==G||e[39]!==B?(te=()=>{!U&&D&&(G(),B())},se=[D,U,G,B],e[36]=D,e[37]=U,e[38]=G,e[39]=B,e[40]=te,e[41]=se):(te=e[40],se=e[41]),n.useEffect(te,se),Pt(s);const d=Ae(),ie=De();let ae,oe;e[42]!==ie||e[43]!==d?(ae=()=>{We(ie)&&_e.checkGate("1661641186")&&d.fetchQuery({queryKey:["recent","images","bootstrap"],queryFn:ss})},oe=[d,ie],e[42]=ie,e[43]=d,e[44]=ae,e[45]=oe):(ae=e[44],oe=e[45]),n.useEffect(ae,oe);let re,ne;e[46]!==c||e[47]!==d?(re=()=>Ke(Ye,{completionFinished:l=>{if(l.serverThreadId!=null&&!c){const E=Qe(l.serverThreadId)?.mode;E?.kind===He.GizmoInteraction&&jt.handleGizmoInteracted(d,E.gizmo_id)}}}),ne=[c,d],e[46]=c,e[47]=d,e[48]=re,e[49]=ne):(re=e[48],ne=e[49]),n.useEffect(re,ne);let f;e[50]!==s||e[51]!==ve?(f=t.jsx(Mt,{clientThreadId:s,page:"chat"},ve),e[50]=s,e[51]=ve,e[52]=f):f=e[52];let u;e[53]!==s?(u=t.jsx(is,{clientThreadId:s,setClientThreadId:w}),e[53]=s,e[54]=u):u=e[54];let le,ce,de;e[55]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(Gt,{}),ce=t.jsx(_t,{}),de=t.jsx(yt,{}),e[55]=le,e[56]=ce,e[57]=de):(le=e[55],ce=e[56],de=e[57]);let fe;e[58]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(Ct,{}),e[58]=fe):fe=e[58];let m;e[59]!==s||e[60]!==a?(m=t.jsx(Rt,{urlThreadId:a,clientThreadId:s,setClientThreadId:w}),e[59]=s,e[60]=a,e[61]=m):m=e[61];let h;e[62]!==s?(h=t.jsx(Qt,{clientThreadId:s}),e[62]=s,e[63]=h):h=e[63];let p;e[64]!==s||e[65]!==o||e[66]!==m||e[67]!==h?(p=t.jsxs(Lt,{clientThreadId:s,setClientThreadId:w,prefetchSearchPromises:o,children:[fe,m,h]}),e[64]=s,e[65]=o,e[66]=m,e[67]=h,e[68]=p):p=e[68];let g;e[69]!==s||e[70]!==f||e[71]!==u||e[72]!==p?(g=t.jsxs(Dt,{clientThreadId:s,children:[f,u,le,ce,de,p]}),e[69]=s,e[70]=f,e[71]=u,e[72]=p,e[73]=g):g=e[73];let x,v;e[74]!==s?(x=t.jsx(Xt,{clientThreadId:s}),v=t.jsx(wt,{clientThreadId:s}),e[74]=s,e[75]=x,e[76]=v):(x=e[75],v=e[76]);let ue;e[77]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(Et,{}),e[77]=ue):ue=e[77];let b;e[78]!==s?(b=t.jsx(Bt,{clientThreadId:s}),e[78]=s,e[79]=b):b=e[79];let me;e[80]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(Tt,{}),e[80]=me):me=e[80];let k;e[81]!==s||e[82]!==g||e[83]!==x||e[84]!==v||e[85]!==b?(k=t.jsxs(It,{clientThreadId:s,children:[g,x,v,ue,b,me]}),e[81]=s,e[82]=g,e[83]=x,e[84]=v,e[85]=b,e[86]=k):k=e[86];let j;e[87]!==s||e[88]!==k?(j=t.jsx(es,{clientThreadId:s,children:k}),e[87]=s,e[88]=k,e[89]=j):j=e[89];let _;e[90]!==s||e[91]!==j?(_=t.jsx(Nt,{clientThreadId:s,children:j}),e[90]=s,e[91]=j,e[92]=_):_=e[92];let he;e[93]===Symbol.for("react.memo_cache_sentinel")?(he=!1,e[93]=he):he=e[93];let pe;return e[94]!==_?(pe=t.jsx(gt.Provider,{value:null,children:t.jsxs(xt,{children:[_,he]})}),e[94]=_,e[95]=pe):pe=e[95],pe}function ss(){return qe.safeGet("/images/bootstrap",{})}function is({clientThreadId:i,setClientThreadId:e}){const{isOpen:a,isLoading:r}=St();return!r&&a?t.jsx(ts,{clientThreadId:i,setClientThreadId:e}):null}typeof window<"u"&&(window._g=Zt.GOKU_SERVICE);export{xs as C,Yt as F};
//# sourceMappingURL=jncxxxf8x7thpqvw.js.map
