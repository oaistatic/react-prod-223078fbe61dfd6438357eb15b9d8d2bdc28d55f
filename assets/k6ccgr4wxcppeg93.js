import{d4 as w,j as M,cb as C,m as y,aL as b,aJ as O,db as S,a6 as _,fc as x,fO as k,fP as A,eY as v,aQ as E,n as P,h as L}from"./citrwydz0bgriwlc.js";import{u as N}from"./ku4zsoy6w4wkp690.js";import{am as g,al as u,N as T,aD as F,aE as U,aF as R,U as I}from"./krbmwir12ubt4od1.js";import{e as j,r as l,i as V,k as D}from"./b8ijctzpgh0s7wpx.js";class m extends w()(()=>({isOpen:!0})){setIsOpen=o=>{this.setState({isOpen:o})}}function Y(){const{eligible:e,isLoading:o,markAsViewed:a}=g(u.NewOnboardingFlow),s=M(),t=C(s,"109457"),n=m.useStore(),i=m.useState(r=>r.isOpen);return{isOpen:e&&!o&&t.get("is_guided_onboarding",!1)&&i,isLoading:o,setIsOpen:r=>n.setIsOpen(r),markAsViewed:a}}const H=j({hi:{id:"new_user_onboarding.hi",defaultMessage:"Hi"},hiThere:{id:"new_user_onboarding.hi_there",defaultMessage:"Hi there"},tryUploadingAFile:{defaultMessage:"Try uploading a file",id:"chatgpt.new-onboarding.try-uploading-a-file"},uploadFileExample:{defaultMessage:"ChatGPT can summarize and analyze your files or images.",id:"chatgpt.new-onboarding.upload-file-exp"},school:{defaultMessage:"School",id:"chatgpt.new-onboarding.school"},schoolPrompt:{defaultMessage:"Iâ€™m trying to learn and do better in school.",id:"chatgpt.new-onboarding.school-prompt"},work:{defaultMessage:"Work",id:"chatgpt.new-onboarding.work"},workPrompt:{defaultMessage:"I'm here to learn and grow in my work.",id:"chatgpt.new-onboarding.work-prompt"},personalTasks:{defaultMessage:"Personal tasks",id:"chatgpt.new-onboarding.personal-tasks"},personalTasksPrompt:{defaultMessage:"I'm here for my personal tasks",id:"chatgpt.new-onboarding.personal-tasks-prompt"},funAndEntertainment:{defaultMessage:"Fun and entertainment",id:"chatgpt.new-onboarding.fun-and-entertainment"},funAndEntertainmentPrompt:{defaultMessage:"I'm here to explore fun ideas and relax.",id:"chatgpt.new-onboarding.fun-and-entertainment-prompt"},other:{defaultMessage:"Other",id:"chatgpt.new-onboarding.other"},justCurious:{defaultMessage:"Just curious",id:"chatgpt.new-onboarding.just-curious"},justCuriousPrompt:{defaultMessage:"I'm just curious, exploring what you can do.",id:"chatgpt.new-onboarding.just-curious-prompt"},tryAnExample:{defaultMessage:"Try an example below or send any message in the message box below.",id:"chatgpt.new-onboarding.try-an-example"}});function W(){const{eligible:e,isLoading:o,markAsViewed:a}=g(u.NewOnboardingConvo);return{isEligible:e&&!o,markAsViewed:a}}function Q(e){const o=l.useContext(_),a=x(o),s=T(h=>h.onboardingConvoState||void 0),{isEligible:t,markAsViewed:n}=W(),i=q({clientThreadId:e}),{layer:r}=b("109457"),d=V(),f=F(),c=D(),p=f||U(c)||R(c);l.useEffect(()=>{t&&!s&&(d.locale===k||d.messages!==A)&&!a&&!p&&r.get("onboarding_style","")==="CONVO"&&(I.setOnboardingConvoState({onboardingConvoClientThreadId:e}),n(),i({eventSource:"url",stepPrompt:d.formatMessage(H.hi),messageMetadata:{is_visually_hidden_from_conversation:!0},authorMetadata:{real_author:v.Onboarding}}),E.logEvent("chatgpt_convo_onboarding_started"))},[t,n,i,s,d,d.locale,d.messages,e,r,a,p])}const q=({clientThreadId:e})=>{const o=N(e);return l.useCallback(({stepPrompt:a,messageMetadata:s,authorMetadata:t,...n})=>{o({...n,promptMessage:S(a,s??void 0,t??void 0),completionMetadata:{isOnboardingConversation:!0,conversationMode:{kind:O.PrimaryAssistant},systemHints:s?.onboarding?.system_hints}})},[o])};function Z(e){const o=y(e,n=>P.findNode(n,i=>i.message.author.role===L.User)?.message.metadata?.onboarding),{eligible:a,isLoading:s,markAsViewed:t}=g(u.hasSeenFilePickerNuxTooltip);return{isEligible:o?.triggered_tools?.includes("file_upload")&&a&&!s,markAsViewed:t}}function B(){const{layer:e}=b("109457",{shouldLogExposure:!1});return e.get("onboarding_show_followups",!1)}export{q as a,Y as b,Q as c,B as d,H as m,Z as u};
//# sourceMappingURL=k6ccgr4wxcppeg93.js.map
