import{j as e,M as d,e as Z,R as ie,i as ee,r as F,f as de}from"./b8ijctzpgh0s7wpx.js";import{f as ce,g5 as Q,dL as ue,bX as pe,ep as ge,et as he,dr as me,au as fe,e as k,g6 as A,j as Me,aQ as xe}from"./citrwydz0bgriwlc.js";import{dY as i,da as Se,dZ as je,c5 as be,d_ as S,cn as ye,d$ as we,e0 as C,e1 as Ae,e2 as G,e3 as Ce,aX as q,e4 as $,e5 as te,e6 as O,e7 as ve,e8 as Ee,e9 as Ne,ea as Le}from"./krbmwir12ubt4od1.js";import{A as Te,C as Pe}from"./i7jya7stlyvnzya0.js";const V="needsCreditsSection",_e=()=>{const o=ce()?.isOwnerOfAccount();return e.jsxs(i.Item,{className:"pointer-events-none pe-2.5! hover:bg-transparent hover:text-inherit",onSelect:r=>r.preventDefault(),disabled:!0,children:[e.jsx("div",{className:"text-token-text-tertiary text-xs",children:e.jsx(d,{...o?J.ownerDescription:J.description})}),o?e.jsx(Te,{size:"small",trigger:"thread-header-dropdown-credits-section"}):e.jsx(Pe,{size:"small",creditConsumingProduct:"gpt-4-5",trigger:"thread-header-dropdown-credits-section"})]})},J=Z({description:{id:"prompt-textarea.teamsCreditRequestBanner.label",defaultMessage:"Limits reached. Send a request to your admin to get access"},ownerDescription:{id:"prompt-textarea.teamsCreditRequestBanner.ownerLabel",defaultMessage:"Limits reached. Add credits to your account"}});function se(s){switch(s){case A.AUTO:return e.jsx(d,{id:"vFUiAX",defaultMessage:"Auto"});case A.ON:return e.jsx(d,{id:"76vQsI",defaultMessage:"On"});case A.OFF:return e.jsx(d,{id:"K9SMwy",defaultMessage:"Off"});case A.PRO:return e.jsx(d,{id:"QwDbjP",defaultMessage:"Pro"})}}function Oe(s){return{modelLabel:s.shortLabel,fullModelLabel:s.label}}function De(s,o){let r=s;if(s===Q.AUTO){const n=o?.categories.filter(({defaultModel:a})=>a!==Q.AUTO);n?.length===1&&(r=n[0].defaultModel)}const u=o?.categories.find(({defaultModel:n,supportedModels:a})=>n===r||a?.includes(r));if(u){const{categoryId:n}=u,{modelLabel:a,fullModelLabel:c}=Oe(u);return{selectedCategory:n,modelLabel:a,fullModelLabel:c}}const h=o?.groups.find(({modelIds:n})=>n.includes(r));if(h){const{group:n,shortLabel:a,label:c}=h;return{selectedCategory:n,modelLabel:a,fullModelLabel:c}}return{selectedCategory:null,modelLabel:null,fullModelLabel:null}}function Ie(s,o,r,u){const h=o?s.formatMessage(K.beta):r?s.formatMessage(K.alpha):u;if(h)return e.jsx(te,{children:h})}function Ue({category:s,modelSwitcherDenialsBySlug:o,currentGizmoId:r,currentModelId:u,testId:h,clientThreadId:n}){const a=ee(),{defaultModel:c,label:g,description:v,isBeta:D,isAlpha:I,modelBadge:m}=s,E=ve(r??""),U=Me(),j=Ee(U,c);return e.jsxs(C,{value:c,currentModelId:u,modelSwitcherDenialsBySlug:o,secondary:v,deprecated:j,isSelected:(!r||E)&&u===c,testId:h,clientThreadId:n,children:[g,Ie(a,D,I,j?a.formatMessage({id:"rFijPv",defaultMessage:"Deprecated"}):m)]},c)}function Re({selectedCategory:s,modelData:o,currentModel:r,modelSwitcherDenialsBySlug:u,clientThreadId:h}){const n=s?.supportedModels?.map(a=>o?.models.get(a))??[];return e.jsx(e.Fragment,{children:n.map(a=>a&&e.jsx(C,{value:a.id,currentModelId:r.id,modelSwitcherDenialsBySlug:u,isSelected:r.reasoningType===a.reasoningType,clientThreadId:h,children:se(a.reasoningType)},a.id))})}function ze({sections:s}){return e.jsx(e.Fragment,{children:s.map((o,r)=>e.jsxs(ie.Fragment,{children:[r!==0?e.jsx(i.Separator,{}):null,o.content]},o.id))})}function He(s,o,r,u){const h=ee(),n=Se(s),a=n.id,c=ue(s);let{data:g}=pe();const{data:v}=ge(),D=v&&he(v)&&!0,I=me(s),m=je({clientThreadId:s}),E=g?.modelPickerVersion===2,U=!I,{isUnauthenticated:j}=fe(),ne=be(),N=o.find(({categoryId:t})=>t===S.ALPHA),L=o.find(({categoryId:t})=>t===S.DATA_CAMPAIGNS),T=o.find(({categoryId:t})=>t===S.EXPERIMENTS),P=o.find(({categoryId:t})=>t===S.MAINLINE),[b,ae]=F.useState(""),R=[N,L,T,P].reduce((t,f)=>f?[...t,...f.options.map(l=>({value:l.value,name:l.name,badge:f.categoryId}))]:t,[]),B=F.useMemo(()=>b?R.filter(t=>t.name.toLowerCase().includes(b.toLowerCase())):R,[R,b]);if(u&&c&&g){const t=JSON.parse(JSON.stringify(g));t.categories=t.categories.filter(({defaultModel:f})=>f.startsWith("gpt-4o")||f==="gpt-4-1"),g=t}const z=!!N?.options.length,H=!!L?.options.length,W=!!T?.options.length,X=!!P?.options.length,Y=de(),oe=F.useCallback(()=>{k.logEvent("Account Pay: Open Payment from Model Picker",{content:"gizmo-button"}),ye(Y,"Thread header dropdown")},[Y]),le=()=>{xe.logEvent("chatgpt_model_switcher_plus_upgrade_button_clicked"),k.logEvent("Model Switcher Plus Upgrade Button Clicked"),j?ne({shouldOpenPaymentModalOnAuth:!0,callback:t=>{k.logSignUpButtonClicked({location:"Model switcher GPT-4 upsell",provider:t})}}):oe()},M=[],re=e.jsxs(i.Label,{className:"flex items-center",children:[e.jsx(d,{id:"coNCb7",defaultMessage:"Models"}),e.jsx(q,{side:"right",className:"ms-1.5",delayDuration:120,label:e.jsx(d,{id:"/vFWz/",defaultMessage:"Learn more"}),children:e.jsx("a",{href:"https://help.openai.com/en/articles/7864572-what-is-the-chatgpt-model-selector",target:"_blank",rel:"noreferrer",children:e.jsx($,{className:"h-3.5 w-3.5 shrink-0"})})})]});if(j){const t={id:"modelSection",content:[]};t.content.push(e.jsx(we,{location:"model-switcher",statsig_login_event:"chatgpt_modelswitcher_login_button_clicked",statsig_signup_event:"chatgpt_modelswitcher_signup_button_clicked"},"noAuthUpsell")),M.push(t)}else if(!D&&!c){const t={id:"modelSection",content:[]};t.content.push(e.jsx(C,{value:"",currentModelId:a,onClick:le,modelSwitcherDenialsBySlug:m,isUpgradeUpsell:!0,icon:Ne,secondary:e.jsx(d,{id:"bqTHri",defaultMessage:"Our smartest model & more"}),isSelected:!1,clientThreadId:s,children:e.jsx(d,{id:"mzDzkX",defaultMessage:"ChatGPT Plus"})},"plusUpgrade")),t.content.push(e.jsx(C,{value:G.AUTO,currentModelId:a,modelSwitcherDenialsBySlug:m,icon:Ae,secondary:e.jsx(d,{id:"n96qML",defaultMessage:"Great for everyday tasks"}),isSelected:!c&&a===G.AUTO,clientThreadId:s,children:e.jsx(d,{id:"U9E7Rx",defaultMessage:"ChatGPT"})},G.AUTO)),M.push(t)}else{const t={id:"modelSection",content:[]};g?.categories.length&&!E&&t.content.push(re);const f=new Map;if(g?.categories.forEach(l=>{let p=e.jsx(Ue,{category:l,currentGizmoId:c,currentModelId:a,modelSwitcherDenialsBySlug:m,testId:`model-switcher-${l.defaultModel}`,clientThreadId:s},l.categoryId);l.defaultModel==="o4-mini-high"&&(p=e.jsx(Ce,{children:p},`nux-${l.categoryId}`)),l.subcategory?(f.has(l.subcategory)||f.set(l.subcategory,[]),f.get(l.subcategory)?.push(p)):t.content.push(p)}),f.forEach((l,p)=>{const y=g?.categories.find(w=>w.subcategory===p&&w.defaultModel===n.id);t.content.push(e.jsxs(i.Sub,{children:[e.jsx(i.SubMenuTrigger,{"data-testid":p==="More models"?"more-models-submenu":void 0,trailing:y&&e.jsx("div",{className:"truncate",children:y.label}),children:p}),e.jsx(i.Portal,{children:e.jsx(i.SubContent,{children:l})})]},p))}),u&&c)t.content.push(e.jsx(i.Label,{className:"flex flex-col items-start gap-1",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx(d,{id:"Y96ci5",defaultMessage:"Limited models for Custom Action GPTs"}),e.jsx(q,{side:"right",className:"ms-1.5 cursor-pointer",delayDuration:0,label:e.jsx(d,{id:"wDE3HX",defaultMessage:"GPTs with custom web actions can currently only use GPT-4o and GPT-4.1. If your GPT has no custom actions it can use any model."}),children:e.jsx($,{className:"h-4 w-4 shrink-0"})})]})})),M.push(t);else if(E){const l=g?.categories.find(w=>w.defaultModel===n.id||w.supportedModels?.includes(n.id)),p={id:"moreModelsSection",content:[]};p.content.push(e.jsxs(i.Sub,{children:[e.jsx(i.SubMenuTrigger,{"data-testid":"models-submenu",trailing:l&&e.jsx("div",{className:"truncate",children:l.label}),children:e.jsx(d,{id:"ilkdMh",defaultMessage:"Model"})}),e.jsx(i.Portal,{children:e.jsx(i.SubContent,{children:t.content})})]},""));const y=(l?.supportedModels?.length??0)>1;p.content.push(e.jsxs(i.Sub,{children:[e.jsx(i.SubMenuTrigger,{"data-testid":"models-submenu",arrowIcon:y?void 0:null,trailing:e.jsx("div",{className:"truncate",children:se(n.reasoningType??A.OFF)}),children:e.jsx(d,{id:"TAntLW",defaultMessage:"Reasoning"})}),y&&e.jsx(i.Portal,{children:e.jsx(i.SubContent,{children:e.jsx(Re,{selectedCategory:l,modelData:g,currentModel:n,modelSwitcherDenialsBySlug:m,clientThreadId:s})})})]},"models-submenu")),M.push(p)}else M.push(t)}const x={id:"otherOptionsSection",content:[]},{selectedCategory:_}=De(a,g);return U&&((z||H||W||X)&&x.content.push(e.jsx("div",{className:"px-4 py-2",children:e.jsx(Le,{inputClassName:"w-full",onKeyDown:t=>{t.stopPropagation()},onChange:t=>{ae(t.target.value)},value:b})})),b?x.content.push(e.jsxs("div",{className:"scrollbar-gutter-stable max-h-64 w-[min(320px,95vw)] overflow-y-scroll",children:[B.length===0&&e.jsx(i.Item,{className:"w-full",children:h.formatMessage({id:"model-switcher.no-results",defaultMessage:"No results found"})}),B.map(t=>e.jsxs(C,{currentModelId:a,value:t.value,modelSwitcherDenialsBySlug:m,displayInFull_INTERNAL_USE_ONLY:!0,clientThreadId:s,children:[t.name,t.badge&&e.jsx(te,{children:t.badge})]},t.value))]})):(z&&x.content.push(e.jsx(O,{isSelected:_===S.ALPHA,currentModel:n,option:N,modelSwitcherDenialsBySlug:m,displayInFull_INTERNAL_USE_ONLY:!0,clientThreadId:s},N.value)),H&&x.content.push(e.jsx(O,{isSelected:_===S.DATA_CAMPAIGNS,currentModel:n,option:L,modelSwitcherDenialsBySlug:m,displayInFull_INTERNAL_USE_ONLY:!0,clientThreadId:s},L.value)),W&&x.content.push(e.jsx(O,{currentModel:n,isSelected:_===S.EXPERIMENTS,option:T,modelSwitcherDenialsBySlug:m,displayInFull_INTERNAL_USE_ONLY:!0,clientThreadId:s},T.value)),X&&x.content.push(e.jsx(O,{isSelected:_===S.MAINLINE,currentModel:n,option:P,modelSwitcherDenialsBySlug:m,displayInFull_INTERNAL_USE_ONLY:!0,clientThreadId:s},P.value)))),x.content.length&&M.push(x),r&&M.push({id:V,content:[e.jsx(_e,{},V)]}),M}const K=Z({alpha:{id:"o5FsPB",defaultMessage:"Alpha"},beta:{id:"XZwFET",defaultMessage:"Beta"},gpt35ShortExplainer:{defaultMessage:"Great for everyday tasks",id:"ModelSwitcher.gpt35ShortExplainer"},modelTunerSmartSelectionTitle:{id:"czjW8I",defaultMessage:"Dynamic"},modelTunerSmartSelectionExplainer:{id:"gp/YH1",defaultMessage:"Optimized for speed and intelligence"},gpt4ShortExplainer:{defaultMessage:"With DALL·E, browsing and analysis",id:"ModelSwitcher.gpt4ShortExplainer"},gpt4ShortExplainerWithoutBrowse:{defaultMessage:"With DALL·E and analysis",id:"ModelSwitcher.gpt4ShortExplainerWithoutBrowse"},gpt4UpsellExplainer:{id:"ModelSwitcher.gpt4Upsell",defaultMessage:"Our smartest and most capable model. Includes DALL·E, browsing and more."},userUpgrade:{id:"ModelSwithcer.upgradeButton",defaultMessage:"Upgrade to Plus"},userUpgradeSignup:{id:"ModelSwitcher.signupUpgradeButton",defaultMessage:"Sign up for ChatGPT Plus"},temporaryChat:{id:"ModelSwitcher.temporaryChat",defaultMessage:"Temporary chat"},shareChat:{id:"ModelSwitcher.shareChat",defaultMessage:"Share chat"}});export{ze as T,De as g,He as u};
//# sourceMappingURL=c2d9eukr2hh7n3q0.js.map
