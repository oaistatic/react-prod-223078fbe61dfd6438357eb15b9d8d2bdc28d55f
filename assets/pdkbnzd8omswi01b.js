import{i,j as s}from"./b8ijctzpgh0s7wpx.js";import{ad as b,e as c,aQ as l,B as v,c as w}from"./citrwydz0bgriwlc.js";import{cF as W,cG as _,cH as k,aX as M,cI as x}from"./krbmwir12ubt4od1.js";import{u as E}from"./hn0x5zx87aemz5qt.js";import{u as C}from"./medeydz50cazqklc.js";import"./ew4qkwsudvfaa6ws.js";const y=e=>{const{requestMicrophonePermissions:t}=E(),o=i().formatMessage({id:"vONrv3",defaultMessage:"Enable mic access to dictate"}),n=b();return async()=>{if(c.logEvent("Whisper on Web/Windows: Clicked to start dictation"),l.logEvent("chatgpt_composer_whisper_button_clicked_start"),!await t())return n.danger(o);e()}},F=({size:e="medium",disabled:t,onExit:a,buttonClassName:o,invertColor:n,disableTooltip:p=!1,visualTreatment:r,...u})=>{const d=i(),g=C(f=>f.status),h=y(a);g==="error"&&(c.logEvent("Whisper on Web/Windows: Error"),l.logEvent("chatgpt_composer_whisper_button_error"));const m=s.jsx(x,{"aria-label":"",className:"icon",fontSize:"inherit"});return s.jsx(B,{disabled:p,children:r==="composer-btn"||r==="codex"?s.jsx("button",{...u,"aria-label":d.formatMessage({id:"QFVCwl",defaultMessage:"Dictate button"}),type:"button",onClick:h,disabled:t,className:"composer-btn",children:m}):s.jsx(v,{...u,"aria-label":d.formatMessage({id:"QFVCwl",defaultMessage:"Dictate button"}),size:e,type:"button",onClick:h,disabled:t,className:w(n?W:_,"[view-transition-name:var(--vt-composer-whisper-button)]",t?"opacity-30":!n&&k,"dark:hover:bg-transparent dark:hover:opacity-100",o),children:m})})};function B({children:e,disabled:t=!1}){const a=i();return s.jsx(M,{open:t?!1:void 0,label:a.formatMessage({id:"abw2XH",defaultMessage:"Dictate"}),side:"bottom",onOpenChange:o=>{o&&(c.logEvent("Whisper on Web/Windows: Button hover to see tooltip"),l.logEvent("chatgpt_composer_whisper_button_hovered"))},children:e})}export{F as WhisperIconButton,y as useWhisperHandleClick};
//# sourceMappingURL=pdkbnzd8omswi01b.js.map
