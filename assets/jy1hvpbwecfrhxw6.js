const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/gcji6npparneeh7f.js","assets/b8ijctzpgh0s7wpx.js","assets/krbmwir12ubt4od1.js","assets/citrwydz0bgriwlc.js","assets/root-gxczc0vy.css","assets/conversation-small-dfayqh3x.css","assets/grmx1v2b0e1c1pfw.js","assets/jy1u8exw8iz2slve.js","assets/m4qet7ipn6ha09it.js","assets/hbpbckirom363mgh.js","assets/by50z05oxjtbvc0n.js","assets/eq7m7kpdgo83dcz8.js","assets/hu7jamjectvubclw.js","assets/m27qwee0va0l7e3n.js","assets/eqsdgkbw87fpj3r7.js","assets/f76gy0b8ieo4s693.js","assets/gy64pge8qevmvg7e.js","assets/ku4zsoy6w4wkp690.js","assets/k1h56nx2kjoqc52m.js","assets/exvo283q5zxd2q6r.js","assets/jekpe1ukp5thtucq.js","assets/bhqc37jb73aufzkm.js","assets/n8y79r98tvk4ovf6.js","assets/noq8k3whf0dyc5h2.js","assets/fl25v7yedm9z0cyb.js","assets/n4e94a1v0wut7i04.js","assets/5l7gzqkfu3rktsj8.js","assets/h6aag2lelyp3pu40.js","assets/j2zbz2jpl151yhf4.js","assets/h3axfhhn58bmthc9.js","assets/eg629yaevviy8e7x.js","assets/hf1qeqo8wh44t1id.js","assets/nv8u6v964bkr3z82.js","assets/bt7o8eyltdx74vk0.js","assets/c23qlyb7rng4ydyc.js","assets/k00srulxk3kjmgxy.js","assets/iki1bxy2syl3zwuv.js","assets/b4v20hsjdnh8a64d.js","assets/dcml6fn13vfm1zv2.js","assets/nvghija6qp2cunds.js","assets/djd85tifm57yisqi.js","assets/h3krx8dg2s8o2yh5.js","assets/cfe0bfy5asp94vp2.js","assets/jkznwfhp8ahnvlot.js","assets/megablgldkh4lap1.js","assets/izdon3syh095bs23.js","assets/dweroubxngal4vlb.js","assets/i7jya7stlyvnzya0.js","assets/cb2t82g498wwhuc2.js","assets/ndwtlsjk3xm27wkq.js","assets/o0ebhsapkoy5qkg1.js","assets/k7nub2yuxq70se07.js","assets/k6ccgr4wxcppeg93.js","assets/dbalwdodzoo02ru2.js","assets/c2d9eukr2hh7n3q0.js","assets/k5qjx4jdow04k7d2.js","assets/ocq21rw37s5jtm4i.js","assets/kwgbehxqut2f64bk.js","assets/btagl6w1gub4aw61.js","assets/el64zv8jvjavdlzn.js","assets/gs2gd7npjkk979ej.js","assets/enswt24cmdi6maqa.js"])))=>i.map(i=>d[i]);
import{aq as D,e as C,aT as O,aM as N,c as b,gF as G,Q as T,_ as E,m as B,a6 as z,gG as V,k as W,j as q,dr as U,fq as Q,eU as K,gH as Y,n as $}from"./citrwydz0bgriwlc.js";import{j as e,M as J,r as S,c as X}from"./b8ijctzpgh0s7wpx.js";import{b as v,F as Z,C as ee,N as te,P as se,a as ae,c as re,d as ne}from"./otl51en3t0ec5n7s.js";import{I as oe,M as ie,T as P}from"./bzpm2hv3f3hhm416.js";import{d as ce,C as le}from"./nvghija6qp2cunds.js";import{j2 as de,j3 as me,j4 as H,j5 as ge,j6 as ue,j7 as pe,j8 as xe,j9 as he,ja as je,jb as fe,eQ as Ce,dp as be,jc as Se,jd as _e,je as ye,V as ve,cb as Pe,jf as we,jg as Ne,cc as Te,jh as Ee,ji as He,jj as w,jk as Me,jl as Ie,jm as Le,gu as Ae}from"./krbmwir12ubt4od1.js";import"./etmxhiuvgu79utu0.js";import"./hbpbckirom363mgh.js";import{P as M}from"./exvo283q5zxd2q6r.js";import{P as ke}from"./jkznwfhp8ahnvlot.js";import{d as Re}from"./ku4zsoy6w4wkp690.js";import{N as Fe,L as De}from"./b4v20hsjdnh8a64d.js";import{a as Oe}from"./cfe0bfy5asp94vp2.js";const Ge=()=>{const{transitionToNextPage:t}=de(),{updateSystemHint:s}=Re(),a=D();return()=>{C.logEventWithStatsig("chatgpt_web_image_library_create_image_clicked","chatgpt_web_image_library_create_image_clicked");const r=me(O(),a?.isWorkspaceAccount()??!1)?"/images":"/";t({path:r,nextPageType:{type:"home",value:void 0},update:()=>{s(N.PictureV2,{})}})}};function I({isMobile:t=!1,includeArchived:s,setIncludeArchived:a}){const{data:r}=H(),o=!!r?.archived_images_count;return e.jsxs("header",{"data-landing-page-load-target":!0,className:b("flex w-full items-center justify-between",t&&"ps-2",!t&&"h-header-height bg-token-main-surface-primary sticky top-0 z-20 px-3 py-3 max-md:hidden"),children:[e.jsxs("div",{className:"flex items-center gap-1",children:[!t&&e.jsx(Fe,{clientThreadId:G}),e.jsx("h1",{className:"px-2 text-lg font-normal select-none [text-box-trim:trim-both] [view-transition-name:var(--vt-tool-page-title)]",children:e.jsx(J,{id:"9yCu65",defaultMessage:"Library"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[o&&e.jsx(ge,{includeArchived:s,setIncludeArchived:a}),!t&&e.jsx(De,{})]})]})}function Be({includeArchived:t,setIncludeArchived:s}){const{images:a,hasNextPage:r,isLoading:o,isFetchingNextPage:n,fetchNextPage:c}=ue(t),{data:l,isLoading:i}=H(),d=Ge();S.useEffect(()=>{C.logEventWithStatsig("chatgpt_web_image_library_page_viewed","chatgpt_web_image_library_page_viewed")},[]);const x=i,g=l?.images_count??0,m=!x&&!g,{onRequestCompletion:u,clientThreadId:h,currentModelId:j}=ce(),f=pe();return e.jsxs("div",{className:"flex w-full flex-1 flex-col items-center justify-self-center",children:[e.jsx(I,{includeArchived:t,setIncludeArchived:s}),e.jsxs("div",{className:b("w-full max-w-[1800px]",m?"pt-8":"max-md:pt-0"),children:[m&&e.jsx(xe,{borderless:!0,onClick:d}),!m&&e.jsx(M,{clientThreadId:h,forcedSystemHintType:N.PictureV2,children:e.jsxs(he,{children:[e.jsx(oe,{count:g,images:a,includeArchived:t,hasMoreImages:r,isFetchingMore:n||o,onScrollToEnd:c}),e.jsx("div",{className:b("transition-width pointer-events-none fixed end-0 bottom-4 z-10 flex justify-center px-4",f?"w-[calc(100%-var(--sidebar-width))]":"w-full"),children:e.jsx("div",{className:"pointer-events-auto w-full max-w-[768px]",children:e.jsx(ke,{clientThreadId:h,isNewThread:!0,currentModelId:j,onContinueGenerating:p=>u(fe(p)),onRequestCompletion:async p=>{C.logEventWithStatsig("chatgpt_web_image_library_composer_submitted","chatgpt_web_image_library_composer_submitted"),u(await je(p))},hideHeader:!0})})})]})})]})]})}const ze=T(()=>E(()=>import("./gcji6npparneeh7f.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58])).then(t=>t.CanvasFocusedViewManager)),Ve=T(()=>E(()=>import("./el64zv8jvjavdlzn.js"),__vite__mapDeps([59,1,3,4,60,2,5,61])).then(t=>t.SearchResultsModal));function nt({clientThreadId:t,setClientThreadId:s,urlThreadId:a,threadContent:r}){"use forget";const o=Ce(),{createNewThread:n,resetThread:c}=be({clientThreadId:t,setClientThreadId:s}),{pageType:l}=Se(),i=_e(),d=l?.type==="library",[x,g]=S.useState(!1),m=!1,{shouldShowCenterGetPlusPill:u}=ye(t,!1),h=r??(d?e.jsx(Be,{includeArchived:x,setIncludeArchived:g}):null),j=B(t,F=>$.getGizmoId(F)),f=ve(j),p=S.useContext(z),_=V(p),L=W(q(),"3687420405").get("enable_sticky_signup_button",!1),A=o||_,k=_,R=!i&&(f||!j)?e.jsx(He,{children:u?e.jsx(w,{}):e.jsx(P,{clientThreadId:t,inMobileHeader:!0})}):u?e.jsx(w,{}):e.jsx(P,{clientThreadId:t,inMobileHeader:!0}),y=Pe();return e.jsxs(e.Fragment,{children:[e.jsx(We,{clientThreadId:t,resetThread:c}),e.jsx(we,{clientThreadId:t,urlThreadId:a}),e.jsx(M,{clientThreadId:t,children:e.jsx(le,{clientThreadId:t,children:e.jsxs(v,{hideNavigation:A,mobileHeaderRightContentExpanded:d||m,mobileHeaderContent:d||m||L?null:R,mobileHeaderBottomContent:e.jsx(Ee,{clientThreadId:t}),mobileHeaderLeftContent:e.jsx(ne,{onNewChatButtonClick:c}),mobileHeaderRightContent:d?e.jsx(I,{isMobile:!0,includeArchived:x,setIncludeArchived:g}):e.jsx(re,{clientThreadId:t,onNewChatButtonClick:c}),renderNavSidebar:()=>e.jsx(Te,{navHeader:e.jsx(ae,{onNewThread:n}),stickyActions:y==="new_chat_sticky"?e.jsx("div",{className:"mt-2",children:e.jsx(te,{onNewThread:n})}):y==="all_sticky"?e.jsx(se,{onNewThread:n}):null,children:e.jsx(ee,{clientThreadId:t,onNewThread:n})}),threadFlyout:e.jsx(Z,{clientThreadId:t}),children:[e.jsx(Ne,{}),h??e.jsx(ie,{clientThreadId:t,hideHeader:k},t),e.jsxs(v.Sidebars,{children:[e.jsx(ze,{clientThreadId:t}),!1,!1,!1,!1]})]})})}),e.jsx(qe,{clientThreadId:t})]})}function We(t){"use forget";const s=X.c(7),{clientThreadId:a,resetThread:r}=t;let o;s[0]!==a?(o={clientThreadId:a},s[0]=a,s[1]=o):o=s[1],Me(o),Ie(a);let n;s[2]!==a||s[3]!==r?(n={resetThreadAction:r,clientThreadId:a},s[2]=a,s[3]=r,s[4]=n):n=s[4],Oe(n);const c=U(a),l=Le(c);let i;return s[5]!==l?(i=e.jsx(e.Fragment,{children:l}),s[5]=l,s[6]=i):i=s[6],i}function qe({clientThreadId:t}){const s=Q(),a=K(),r=Ae();return!s||!a||r?null:e.jsxs(e.Fragment,{children:[Y(s,"searchSources")&&e.jsx(Ve,{clientThreadId:t}),!1]})}export{nt as C};
//# sourceMappingURL=jy1hvpbwecfrhxw6.js.map
