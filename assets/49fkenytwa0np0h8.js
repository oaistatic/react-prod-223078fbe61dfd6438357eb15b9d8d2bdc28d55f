import{j as s,r as p,M as y,e as de,L as ye,O as qe,a5 as Ve,f as me,a as Ye,c as X,i as te,v as we,af as Xe}from"./b8ijctzpgh0s7wpx.js";import{B as q,e as M,l as Re,c as T,a8 as Je,F as Pe,j as ve,b1 as Ge,aq as je,O as Me,eq as K,aI as Ze,aF as es,f as Te,gF as ss,ar as ts,at as rs,g_ as os,g3 as as}from"./citrwydz0bgriwlc.js";import{m4 as is,c5 as Le,ko as ns,aX as ue,m5 as ls,aK as Ee,m6 as cs,m7 as ds,m8 as ms,Y,m9 as us,ld as he,cm as ee,fv as gs,fs as be,ft as _e,dY as ce,bY as fs,f8 as hs,ad as ps,cr as J,ma as xs,jw as ke,gx as ys,fo as vs,aN as js,cW as bs,fq as ks,mb as Ae,mc as Ss,md as ws,hW as De,kn as Ns,me as zs,mf as Cs,hX as Rs,mg as Ps,hY as Gs,dH as Ms,f3 as le,mh as Ne,cn as Oe,aY as Ts,aZ as Ls,dJ as We,aI as V,j7 as Es}from"./krbmwir12ubt4od1.js";import{c as _s,G as Ie,a as Ue,d as As,N as Ds}from"./b4v20hsjdnh8a64d.js";import{a as Os}from"./hfh0vi3mkklync1y.js";import{G as Se}from"./dcml6fn13vfm1zv2.js";import{G as Ws}from"./f1me09ge0a4pvkug.js";function Is({href:t,children:e,onClickTrackingEventName:r,onClick:o}){function a(){r&&M.logEvent(r),o?.()}return t?s.jsx(q,{as:"link",to:t,onClick:a,size:"large",children:e}):s.jsx(q,{onClick:a,size:"large",children:e})}function Mt({gizmo:t}){const e=is(t),[r,o]=p.useState(!1),a=Re("1855896025")?.value,i=Le();return s.jsxs("div",{className:"flex h-full flex-col",children:[s.jsx(pe,{redirectUrl:e}),s.jsxs("div",{className:"flex grow flex-col items-center justify-center p-2",children:[s.jsx(_s,{gizmo:t,isAnon:!0,children:s.jsxs("div",{className:"mt-7 flex flex-col items-center gap-4",children:[s.jsx(Is,{onClick:()=>i({callbackUrl:e}),children:s.jsx(y,{id:"gizmo.anonLandingPage.login",defaultMessage:"Sign up to chat"})}),s.jsxs("div",{className:"text-token-text-tertiary flex gap-2 text-sm whitespace-nowrap",children:[s.jsx("div",{children:s.jsx(y,{id:"gizmo.anonLandingPage.loginSubtext",defaultMessage:"Sign up or Log in to chat"})}),a&&s.jsxs(s.Fragment,{children:["|",s.jsx("div",{onClick:()=>o(!0),className:"cursor-pointer",children:s.jsx(y,{id:"gizmo.anonLandingPage.report",defaultMessage:"Report illegal content"})})]})]})]})}),r&&s.jsx(Os,{onClose:()=>o(!1),gizmoId:t.gizmo.id})]})]})}function pe({redirectUrl:t,className:e}){const r=Le(),o=ns(Fs.signUpCta);return s.jsxs("div",{className:T("flex items-center justify-between px-7 py-4",e),children:[s.jsx(Us,{}),s.jsx(q,{color:"primary",onClick:()=>r({callbackUrl:t}),children:s.jsx(y,{...o})})]})}function Us(){return s.jsx(ye,{to:"/",children:s.jsx(Je,{className:"h-8 w-8"})})}const Fs=de({signUpCta:{id:"gizmo.anonLandingPage.signup",defaultMessage:"Sign up"}});let Z=null;function Bs(){return Z||(Z=document.createElement("div"),Z.setAttribute("portal-container",""),document.body.append(Z)),Z||null}function Hs(t){const{children:e}=t,r=Bs();return r&&qe.createPortal(e,r)}function se({delay:t,animateTap:e=!0,children:r}){return s.jsx(Ve.div,{whileTap:{scale:e?.98:void 0},initial:{opacity:0,translateY:5},animate:{opacity:1,translateY:0,transition:{duration:.3,ease:"easeIn",delay:t??0}},children:r})}var $s=(t=>(t.Enabled="enabled",t.ComingSoon="coming-soon",t))($s||{});function Qs({gizmoResource:t}){const e=t.gizmo.vanity_metrics?.num_conversations_str,r=t.gizmo.share_recipient??J.Private,o=xs(r);return s.jsxs("div",{children:[t.gizmo.share_recipient!==J.Private&&e!=null?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ke,{className:"icon-sm"}),s.jsx("span",{children:s.jsx(y,{...Vs.conversationCountStrLabel,values:{numConvos:e}})})]}):void 0,s.jsxs("div",{className:"flex items-center gap-1",children:[r===J.Link||r===J.Marketplace?s.jsx(ys,{className:"icon-sm shrink-0"}):r===J.Workspace?s.jsx(vs,{className:"icon-sm shrink-0"}):s.jsx(js,{className:"icon-sm shrink-0"}),s.jsx("span",{className:"line-clamp-1",children:o})]})]})}function Tt({gizmoResource:t,canRemoveRecent:e}){const r=ve(),o=me(),a=cs(t),i=ds(t),d=ms(t),l=!!t.gizmo.tags?.includes(Y.FirstParty);return s.jsx(Fe,{href:d?he(t.gizmo.id):ee(r,t),icon:s.jsx(Se,{isFirstParty:l,src:t?.gizmo.display.profile_picture_url??void 0,className:"h-[42px] w-[42px] shrink-0"}),title:t.gizmo.display.name||us,isDraft:d,description:t.gizmo.display.description??"",byline:a?s.jsx(Qs,{gizmoResource:t}):s.jsx(be,{gizmo:t}),buttons:s.jsxs(s.Fragment,{children:[a&&s.jsx(ue,{label:s.jsx(y,{id:"gizmo.gpt.grid.EditGPT",defaultMessage:"Edit GPT"}),className:"flex justify-center",side:"top",children:s.jsx("button",{className:"text-token-text-primary rounded-lg px-3 py-2 transition-transform duration-100 ease-in hover:bg-white active:scale-[0.9] dark:bg-transparent dark:hover:bg-gray-700",onClick:()=>{o(he(t.gizmo.id))},children:s.jsx(gs,{className:"icon-sm"})})}),s.jsx(qs,{gizmoResource:t,canDelete:i,canRemoveRecent:e})]})})}const Ks=Pe.div`flex h-[42px] w-[42px] shrink-0 items-center justify-center rounded-full border border-dashed
${({$disabled:t})=>t?"":"border-token-border-default bg-token-main-surface-secondary"}`;function Lt({type:t}){const e=ls(),r=t==="coming-soon";return s.jsxs(ue,{disabled:!r,label:s.jsx(y,{id:"gizmo.gpt.grid.CreateGPTComingSoon",defaultMessage:"GPT creation will be available in the coming weeks"}),triggerAs:null,children:[s.jsx(Fe,{href:e,disabled:r,icon:s.jsx(Ks,{$disabled:r,children:s.jsx(Ee,{className:T("icon-sm",r&&"opacity-30")})}),title:s.jsx("div",{className:"flex items-center gap-1",children:s.jsx(y,{id:"gizmo.gpt.grid.CreateGPT",defaultMessage:"Create a GPT"})}),description:"Customize a version of ChatGPT for a specific purpose",byline:r?s.jsx("div",{className:"flex items-center justify-end",children:s.jsx("div",{className:"flex items-center",children:s.jsx(y,{id:"gizmo.gpt.grid.ComingSoon",defaultMessage:"Coming soon"})})}):void 0}),s.jsx("div",{className:"h-px bg-gray-100 dark:bg-gray-700"})]})}function Fe({href:t,icon:e,title:r,isDraft:o=!1,description:a,byline:i,buttons:d,disabled:l,className:g}){const f=T("flex items-center px-2 py-4 rounded-xl",l?"":"hover:bg-token-main-surface-secondary",g),v=s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex grow items-center overflow-hidden md:w-3/5 md:grow-0",children:[e,s.jsxs("div",{className:T("grow overflow-hidden ps-4 pe-9 leading-tight",l?"opacity-50":"hover:cursor-pointer"),children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-semibold",children:r}),o&&s.jsx(ue,{label:s.jsx(y,{id:"gizmo.gpt.grid.Draft",defaultMessage:"Draft"}),className:"flex justify-center",side:"top",children:s.jsx("div",{className:"m-1.5 inline-block h-1.5 w-1.5 rounded-full bg-gray-200 dark:bg-gray-600"})})]}),s.jsx("div",{className:"line-clamp-2 overflow-hidden text-sm break-words text-ellipsis",children:a}),i!=null&&s.jsx("div",{className:"text-token-text-tertiary text-sm text-ellipsis md:hidden",children:i})]})]}),i!=null&&s.jsx("div",{className:"text-token-text-tertiary hidden flex-1 text-sm text-ellipsis md:block",children:i}),d!=null&&s.jsx("div",{onClick:j=>{j.preventDefault()},onPointerDownCapture:j=>{j.stopPropagation()},className:"flex h-9 shrink-0 justify-end gap-2 font-semibold md:w-[100px]",children:d})]});return l?s.jsx(se,{children:s.jsx("span",{className:f,children:v})}):s.jsx(se,{children:s.jsx(ye,{className:f,to:t,children:v})})}function qs({gizmoResource:t,canDelete:e,canRemoveRecent:r}){const[o,a]=p.useState(!1),[i,d]=p.useState(!1),l=Ye();return!e&&!r?null:s.jsxs(s.Fragment,{children:[s.jsxs(_e,{side:"top",contentAlign:"end",sideOffset:8,open:i,onOpenChange:g=>d(g),triggerButton:s.jsx("button",{color:"secondary",className:"text-token-text-primary rounded-lg bg-transparent px-3 py-2 duration-100 ease-in hover:bg-white active:scale-[0.9] dark:bg-transparent dark:hover:bg-gray-700",onClick:()=>{d(g=>!g)},children:s.jsx(ps,{className:"icon-md"})}),children:[e&&s.jsx(ce.Item,{color:"danger",onClick:()=>{a(!0)},icon:fs,children:s.jsx(y,{id:"gizmo.gpt.grid.DeleteGPT",defaultMessage:"Delete GPT"})}),r&&s.jsx(ce.Item,{onClick:()=>{hs.removeFromRecent(l,t.gizmo.id)},children:s.jsx(y,{id:"gizmo.gpt.grid.RemoveFromRecent",defaultMessage:"Remove from Recent"})})]}),o&&s.jsx(Hs,{children:s.jsx(Ws,{gizmoId:t.gizmo.id,onSuccess:()=>{a(!1)},onClose:()=>{a(!1)}})})]})}const Vs=de({conversationCountStrLabel:{id:"gizmo.gpt.grid.conversationCountStrLabel",defaultMessage:"{numConvos} Chats"}});function Be({gizmo:t,children:e,onClick:r,onModalOpen:o,onModalClose:a,selectOnly:i,className:d}){const l=ve(),g=Ge(l,"1825130190"),[f,v]=p.useState(!1);return i?s.jsx("a",{className:T("gizmo-link cursor-pointer",d),href:"#",onClick:j=>{j.preventDefault(),r?.(j)},children:e}):g?s.jsxs(s.Fragment,{children:[f&&s.jsx(Ie,{gizmoId:t.gizmo.id,creatorId:t.gizmo.author.user_id,onClose:()=>{v(!1),a?.()},children:s.jsx(Ue,{as:"link",to:ee(l,t)})}),s.jsx("a",{className:T("gizmo-link cursor-pointer",d),href:"#",onClick:j=>{j.preventDefault(),r?.(j),v(!0),o?.()},children:e})]}):s.jsx(ye,{to:ee(l,t),className:T("gizmo-link",d),target:"_blank",onClick:r,children:e})}function Ys(t){"use forget";const e=X.c(27),{placeholder:r,effectiveRole:o,onSelect:a,popoverClassName:i}=t,d=te(),[l,g]=p.useState("ALL"),[f,v]=p.useState(""),[j,x]=p.useState(""),[n,h]=p.useState(null),b=je()?.isWorkspaceAccount();let N;e[0]===Symbol.for("react.memo_cache_sentinel")?(N="3054422710",e[0]=N):N=e[0];const u=Re(N).value,P=b!==void 0&&b&&u;let S,z;e[1]!==f?(S=()=>{const _=setTimeout(()=>{x(f)},250);return()=>{clearTimeout(_)}},z=[f],e[1]=f,e[2]=S,e[3]=z):(S=e[2],z=e[3]),p.useEffect(S,z);const m=ve(),w=me();let C;e[4]!==a||e[5]!==w||e[6]!==m?(C=_=>{if(a){a(_);return}if(!Ge(m,"1825130190")){const A=ee(m,_);w(A);return}h(_)},e[4]=a,e[5]=w,e[6]=m,e[7]=C):C=e[7];const F=C;let L;e[8]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(bs,{className:"text-token-text-tertiary icon-md absolute start-5 top-1/2 z-30 -translate-y-1/2"}),e[8]=L):L=e[8];let E;e[9]!==d||e[10]!==r||e[11]!==i||e[12]!==f?(E=(_,O)=>s.jsxs(ks,{label:r??d.formatMessage(U.discoverySearch),inputClassName:"bg-token-main-surface-primary! py-4 px-3 rounded-xl font-normal text-base! ps-12",popoverClassName:T("-top-3! border-token-border-default! rounded-xl",i??"bg-token-main-surface-primary!"),className:"border-token-border-default! rounded-xl! p-0! ring-0!",name:"search",inputValue:f,onInputChange:v,onTabChange:A=>g(A==="WORKSPACE"?"WORKSPACE":"ALL"),suggestions:_,RenderTab:Js,children:[O,O==null&&s.jsx("div",{className:"w-full py-4",children:s.jsx(Zs,{})})]}),e[9]=d,e[10]=r,e[11]=i,e[12]=f,e[13]=E):E=e[13];let W;e[14]!==l||e[15]!==j||e[16]!==o||e[17]!==F||e[18]!==P||e[19]!==E?(W=s.jsx(et,{activeTab:l,query:j,effectiveRole:o,setPopoverForceOpen:Xs,onSelect:F,showWorkspaceResults:P,renderCombobox:E}),e[14]=l,e[15]=j,e[16]=o,e[17]=F,e[18]=P,e[19]=E,e[20]=W):W=e[20];let R;e[21]!==n||e[22]!==m?(R=n&&s.jsx(Ie,{gizmoId:n.gizmo.id,creatorId:n.gizmo.author.user_id,onClose:()=>{h(null)},children:s.jsx(Ue,{as:"link",to:ee(m,n)})}),e[21]=n,e[22]=m,e[23]=R):R=e[23];let H;return e[24]!==W||e[25]!==R?(H=s.jsxs("div",{className:"relative z-0",children:[L,W,R]}),e[24]=W,e[25]=R,e[26]=H):H=e[26],H}function Xs(){}function Js(t){"use forget";const e=X.c(4),{tab:r}=t,o=Ae();if(r==="ALL"){let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(y,{...U.discoveryAllResultsHeader}),e[0]=a):a=e[0],a}if(r==="WORKSPACE"){let a;return e[1]!==o?(a=s.jsx(y,{...U.discoveryWorkspaceResultsHeader,values:{workspaceName:o}}),e[1]=o,e[2]=a):a=e[2],a}if(r==="discoverySearchRecentlyUsed"){let a;return e[3]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(y,{...U.discoverySearchRecentlyUsed}),e[3]=a):a=e[3],a}return r}function Zs(){return s.jsx("div",{className:"flex items-center justify-center py-1",children:s.jsx(Me,{})})}function et(t){"use forget";const e=X.c(20),{activeTab:r,query:o,effectiveRole:a,setPopoverForceOpen:i,showWorkspaceResults:d,onSelect:l,renderCombobox:g}=t;let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=[],e[0]=f):f=e[0],p.useEffect(rt,f);const{data:v,isLoading:j}=Ss(o),{data:x,isLoading:n}=ws(o,d);let h;e[1]===Symbol.for("react.memo_cache_sentinel")?(h={cutId:"recent",limit:3},e[1]=h):h=e[1];const{data:b,isLoading:N}=De(h),u=v?.items,P=v?.cursor,S=x?.items,z=x?.cursor;let m;e[2]!==b?.pages?(m=b?.pages.flatMap(st)??[],e[2]=b?.pages,e[3]=m):m=e[3];let w;return e[4]!==r||e[5]!==a||e[6]!==N||e[7]!==j||e[8]!==n||e[9]!==l||e[10]!==o||e[11]!==g||e[12]!==i||e[13]!==d||e[14]!==u||e[15]!==P||e[16]!==S||e[17]!==z||e[18]!==m?(w=s.jsx(ot,{debouncedQuery:o,searchResults:u,isLoadingSearch:j,searchResultsCursor:P,showWorkspaceResults:d,workspaceSearchResults:S,workspaceSearchResultsCursor:z,isLoadingWorkspaceSearch:n,isLoadingRecent:N,recent:m,effectiveRole:a,setPopoverForceOpen:i,onSelect:l,activeTab:r,renderCombobox:g}),e[4]=r,e[5]=a,e[6]=N,e[7]=j,e[8]=n,e[9]=l,e[10]=o,e[11]=g,e[12]=i,e[13]=d,e[14]=u,e[15]=P,e[16]=S,e[17]=z,e[18]=m,e[19]=w):w=e[19],w}function st(t){return t.list.items.map(tt)}function tt(t){return t.resource}function rt(){M.logEvent("Search Start")}function ot(t){"use forget";const e=X.c(25),{activeTab:r,debouncedQuery:o,searchResults:a,isLoadingSearch:i,searchResultsCursor:d,showWorkspaceResults:l,workspaceSearchResults:g,workspaceSearchResultsCursor:f,isLoadingWorkspaceSearch:v,recent:j,isLoadingRecent:x,effectiveRole:n,setPopoverForceOpen:h,onSelect:b,renderCombobox:N}=t;let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=we(),e[0]=u):u=e[0];const P=p.useRef(u);let S;e[1]===Symbol.for("react.memo_cache_sentinel")?(S=[],e[1]=S):S=e[1],p.useEffect(at,S);let z,m;e[2]!==o||e[3]!==i||e[4]!==a?(z=()=>{!i&&a&&(P.current=we(),a.length>0?Promise.all(a.map((F,L)=>{M.logEvent("Search Display Result",{search_id:P.current,gizmo_id:F.gizmo.id,position:L,query:o})})):M.logEvent("Search No Results",{query:o}))},m=[a,i,o],e[2]=o,e[3]=i,e[4]=a,e[5]=z,e[6]=m):(z=e[5],m=e[6]),p.useEffect(z,m);let w;e[7]!==j?(w=j??[],e[7]=j,e[8]=w):w=e[8];let C;return e[9]!==r||e[10]!==o||e[11]!==n||e[12]!==x||e[13]!==i||e[14]!==v||e[15]!==b||e[16]!==N||e[17]!==a||e[18]!==d||e[19]!==h||e[20]!==l||e[21]!==w||e[22]!==g||e[23]!==f?(C=s.jsx(it,{query:o,activeTab:r,searchIdRef:P,searchResults:a,searchResultsCursor:d,isLoadingSearch:i,showWorkspaceResults:l,workspaceSearchResults:g,workspaceSearchResultsCursor:f,isLoadingWorkspaceSearch:v,isLoadingRecent:x,recentSearchResults:w,setPopoverForceOpen:h,effectiveRole:n,onSelect:b,renderCombobox:N}),e[9]=r,e[10]=o,e[11]=n,e[12]=x,e[13]=i,e[14]=v,e[15]=b,e[16]=N,e[17]=a,e[18]=d,e[19]=h,e[20]=l,e[21]=w,e[22]=g,e[23]=f,e[24]=C):C=e[24],C}function at(){M.logEvent("Search Start")}function fe(t){"use forget";const e=X.c(6),{children:r,onClick:o,isSelected:a,isClickable:i}=t,d=`text-token-text-tertiary px-3 pb-2 text-xs ${a?"border-b-2 font-bold":"font-semibold"} ${i?"cursor-pointer":""}`;let l;e[0]!==o?(l=()=>{o?.()},e[0]=o,e[1]=l):l=e[1];let g;return e[2]!==r||e[3]!==d||e[4]!==l?(g=s.jsx("div",{className:d,onClick:l,children:r}),e[2]=r,e[3]=d,e[4]=l,e[5]=g):g=e[5],g}function it(t){"use forget";const e=X.c(74),{query:r,searchIdRef:o,isLoadingRecent:a,searchResults:i,searchResultsCursor:d,isLoadingSearch:l,showWorkspaceResults:g,workspaceSearchResults:f,workspaceSearchResultsCursor:v,isLoadingWorkspaceSearch:j,recentSearchResults:x,setPopoverForceOpen:n,activeTab:h,effectiveRole:b,onSelect:N,renderCombobox:u}=t;let P;e[0]!==i?(P=i===void 0?[]:i,e[0]=i,e[1]=P):P=e[1];const S=P;let z;e[2]!==f?(z=f===void 0?[]:f,e[2]=f,e[3]=z):z=e[3];const m=z,w=Ns(),[C,F]=p.useState(!1),L=zs(r,C,h==="WORKSPACE",h==="WORKSPACE"?v:d);let E;e[4]!==L.data?.pages?(E=L.data?.pages.flatMap(ct)??[],e[4]=L.data?.pages,e[5]=E):E=e[5];let W;e[6]!==L||e[7]!==E?(W={...L,data:E},e[6]=L,e[7]=E,e[8]=W):W=e[8];const{data:R,hasNextPage:H,fetchNextPage:_,isFetchingNextPage:O,isError:A}=W,[re,Qe]=p.useState(R.length),Ke=p.useRef(null);let oe,ae;e[9]!==re||e[10]!==R.length?(oe=()=>{R.length>re&&(Qe(R.length),Ke.current?.scrollIntoView({behavior:"smooth",block:"nearest"}))},ae=[R.length,re],e[9]=re,e[10]=R.length,e[11]=oe,e[12]=ae):(oe=e[11],ae=e[12]),p.useEffect(oe,ae);let ie;e[13]!==b||e[14]!==w||e[15]!==N||e[16]!==r||e[17]!==o?(ie=(c,k)=>{const G=c.gizmo.vanity_metrics?.num_conversations_str,B=c.gizmo.tags?.includes(Y.WorkspaceDisabled)&&b!==K.OWNER;return{id:c.gizmo.id,className:T("group flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-gray-50 dark:hover:bg-white/10",B&&"opacity-50 hover:opacity-100"),focusedClassName:"bg-gray-50 dark:bg-white/10",onClick:()=>{N?N(c):M.logEvent("Store Click Gizmo",{search_id:o.current,gizmo_id:c.gizmo.id,position:k,query:r,section:"search"})},children:s.jsx(mt,{resource:c,grayedOut:B??!1,isScreenSm:w,numConvos:G})}},e[13]=b,e[14]=w,e[15]=N,e[16]=r,e[17]=o,e[18]=ie):ie=e[18];const $=ie;if(r===""&&x&&x.length>0){let c;return e[19]!==$||e[20]!==x||e[21]!==u?(c=u({discoverySearchRecentlyUsed:x.map($)},null),e[19]=$,e[20]=x,e[21]=u,e[22]=c):c=e[22],c}if(r===""&&a){let c;return e[23]!==u?(c=u([],null),e[23]=u,e[24]=c):c=e[24],c}if(r===""){let c;if(e[25]!==u){let k;e[27]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(fe,{onClick:void 0,isSelected:void 0,isClickable:!1,children:s.jsx(y,{...U.discoverySearchRecentlyUsedEmpty})}),e[27]=k):k=e[27],c=u([],k),e[25]=u,e[26]=c}else c=e[26];return c}if(r!==""&&!l&&h==="ALL"&&(S==null||S.length===0)){let c;if(e[28]!==u){let k;e[30]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx("div",{className:"text-token-text-tertiary mt-4 px-3 pb-2 text-xs font-semibold",children:s.jsx(y,{...U.discoveryNoResultsSearch})}),e[30]=k):k=e[30],c=u([],k),e[28]=u,e[29]=c}else c=e[29];return c}if(r!==""&&!j&&h==="WORKSPACE"&&(m==null||m.length===0)){let c;if(e[31]!==u){let k;e[33]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx("div",{className:"text-token-text-tertiary mt-4 px-3 pb-2 text-xs font-semibold",children:s.jsx(y,{...U.discoveryNoResultsSearch})}),e[33]=k):k=e[33],c=u([],k),e[31]=u,e[32]=c}else c=e[32];return c}if(g){if(r!==""&&!l&&!j&&(!S||S.length===0)&&(!m||m.length===0)){let c;if(e[34]!==u){let k;e[36]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx("div",{className:"mx-2",children:s.jsx(fe,{onClick:void 0,isSelected:void 0,isClickable:!1,children:s.jsx(y,{...U.discoveryNoResultsSearch})})}),e[36]=k):k=e[36],c=u([],k),e[34]=u,e[35]=c}else c=e[35];return c}}else{if(l){let c;return e[37]!==u?(c=u([],null),e[37]=u,e[38]=c):c=e[38],c}if(r!==""&&!l&&(!S||S.length===0)){let c;if(e[39]!==u){let k;e[41]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx("div",{className:"mx-2",children:s.jsx(fe,{onClick:void 0,isSelected:void 0,isClickable:!1,children:s.jsx(y,{...U.discoveryNoResultsSearch})})}),e[41]=k):k=e[41],c=u([],k),e[39]=u,e[40]=c}else c=e[40];return c}}let ne;if(e[42]!==_||e[43]!==H||e[44]!==A||e[45]!==O||e[46]!==C||e[47]!==R||e[48]!==$||e[49]!==u||e[50]!==S||e[51]!==d||e[52]!==n||e[53]!==m||e[54]!==v){let c=[];if(S){const G=S.map($);c=[...c,...G]}if(S&&R){const G=R.map($);c=[...c,...G]}if((!C&&R.length===0||H||O||A)&&d!=null){let G;e[56]!==_||e[57]!==n?(G=()=>{F(!0),_(),n?.(!0)},e[56]=_,e[57]=n,e[58]=G):G=e[58];const B=A?"danger-outline":"secondary";let I;e[59]!==A?(I=A?s.jsx(y,{...U.discoveryLoadMoreError}):s.jsx(y,{...U.discoveryLoadMore}),e[59]=A,e[60]=I):I=e[60];let Q;e[61]!==O||e[62]!==B||e[63]!==I?(Q=s.jsx(q,{color:B,onClick:lt,loading:O,fullWidth:!0,className:"mt-2 md:mt-3",children:I}),e[61]=O,e[62]=B,e[63]=I,e[64]=Q):Q=e[64];const ge={id:"all-load-more-button",className:"",onClick:G,children:Q};c=[...c,ge]}const k={ALL:c};if(m){const G=m.map($);k.WORKSPACE=G}if(m&&R){const G=R.map($);k.WORKSPACE=[...k.WORKSPACE,...G]}if((!C&&R.length===0||H||O||A)&&v!=null){let G;e[65]!==_||e[66]!==n?(G=()=>{F(!0),_(),n?.(!0)},e[65]=_,e[66]=n,e[67]=G):G=e[67];const B=A?"danger-outline":"secondary";let I;e[68]!==A?(I=A?s.jsx(y,{...U.discoveryLoadMoreError}):s.jsx(y,{...U.discoveryLoadMore}),e[68]=A,e[69]=I):I=e[69];let Q;e[70]!==O||e[71]!==B||e[72]!==I?(Q=s.jsx(q,{color:B,onClick:nt,fullWidth:!0,className:"mt-2 md:mt-3",loading:O,children:I}),e[70]=O,e[71]=B,e[72]=I,e[73]=Q):Q=e[73];const ge={id:"workspace-load-more-button",className:"",onClick:G,children:Q};k.WORKSPACE=[...k.WORKSPACE,ge]}ne=u(k,null),e[42]=_,e[43]=H,e[44]=A,e[45]=O,e[46]=C,e[47]=R,e[48]=$,e[49]=u,e[50]=S,e[51]=d,e[52]=n,e[53]=m,e[54]=v,e[55]=ne}else ne=e[55];return ne}function nt(){}function lt(){}function ct(t){return t.items.map(dt)}function dt(t){return t}function mt(t){"use forget";const e=X.c(25),{resource:r,grayedOut:o,isScreenSm:a,numConvos:i}=t,d=!!r.gizmo.tags?.includes(Y.FirstParty),l=r.gizmo.display.profile_picture_url??void 0,g=o&&"grayscale group-hover:grayscale-0";let f;e[0]!==g?(f=T("h-8 w-8 shrink-0",g),e[0]=g,e[1]=f):f=e[1];let v;e[2]!==d||e[3]!==l||e[4]!==f?(v=s.jsx(Se,{isFirstParty:d,src:l,className:f}),e[2]=d,e[3]=l,e[4]=f,e[5]=v):v=e[5];let j;e[6]!==r.gizmo.display.name?(j=s.jsx("div",{className:"flex flex-row items-end space-x-2",children:s.jsx("span",{className:"shrink-0 truncate text-sm font-semibold",children:r.gizmo.display.name})}),e[6]=r.gizmo.display.name,e[7]=j):j=e[7];let x;e[8]!==a||e[9]!==r.gizmo.display.description?(x=a&&s.jsx("span",{className:"text-token-text-tertiary max-w-md truncate text-xs",children:r.gizmo.display.description}),e[8]=a,e[9]=r.gizmo.display.description,e[10]=x):x=e[10];let n;e[11]!==r?(n=s.jsx("div",{className:"-mt-1",children:s.jsx(be,{gizmo:r,className:"text-token-text-tertiary truncate text-xs",hideLink:!0})}),e[11]=r,e[12]=n):n=e[12];let h;e[13]!==i?(h=i&&s.jsxs("div",{className:"text-token-text-tertiary flex items-center gap-1 font-semibold",style:{marginTop:"-2px"},children:[s.jsx(ke,{className:"icon-xs"}),s.jsx("span",{className:"line-clamp-1 text-xs",children:i})]}),e[13]=i,e[14]=h):h=e[14];let b;e[15]!==n||e[16]!==h?(b=s.jsxs("div",{className:"flex items-center gap-2",children:[n,h]}),e[15]=n,e[16]=h,e[17]=b):b=e[17];let N;e[18]!==b||e[19]!==j||e[20]!==x?(N=s.jsxs("div",{className:"flex flex-col space-y-1 truncate",children:[j,x,b]}),e[18]=b,e[19]=j,e[20]=x,e[21]=N):N=e[21];let u;return e[22]!==N||e[23]!==v?(u=s.jsxs(s.Fragment,{children:[v,N]}),e[22]=N,e[23]=v,e[24]=u):u=e[24],u}const U=de({discoveryAllResultsHeader:{id:"gizmo.discovery.AllResultsHeader",defaultMessage:"All"},discoveryWorkspaceResultsHeader:{id:"gizmo.discovery.workspaceResultsHeaderName",defaultMessage:"{workspaceName} workspace"},discoveryNoResultsSearch:{id:"gizmo.discovery.search.empty",defaultMessage:"No results found"},discoverySearch:{id:"gizmo.discovery.search",defaultMessage:"Search GPTs"},discoverySearchRecentlyUsed:{id:"gizmo.discovery.search.recentlyUsed",defaultMessage:"Recently Used"},discoverySearchRecentlyUsedEmpty:{id:"gizmo.discovery.search.recentlyUsedEmpty",defaultMessage:"No recently used GPTs"},discoveryLoadMore:{id:"gizmo.discovery.loadMore",defaultMessage:"See more"},discoveryLoadMoreError:{id:"gizmo.discovery.loadMoreError",defaultMessage:"Error loading more"}}),He=Pe.div`grid grid-cols-1 gap-x-1.5 gap-y-1 md:gap-x-2 md:gap-y-1.5 lg:grid-cols-2 lg:gap-x-3 lg:gap-y-2.5`,xe="gpt_store";function ut(t,e){e.scrollLeft>t.offsetLeft?e.scrollBy({left:t.offsetLeft-e.scrollLeft-20,behavior:"smooth"}):e.scrollLeft+e.clientWidth<t.offsetLeft+t.clientWidth&&e.scrollBy({left:t.offsetLeft+t.clientWidth-e.clientWidth-e.scrollLeft+20,behavior:"smooth"})}function Et({anon:t}){const[e]=p.useState(()=>Ze.getItem(es.GizmoDiscoveryLocale)),r=Te(),[o,a]=p.useState(!1),i=r?.isOwnerOfAccount()&&!o?K.OWNER:K.STANDARD;return s.jsx(gt,{anon:t,currAccount:r,requestedLocale:e,effectiveRole:i,setPretendStandardUser:a})}function gt({anon:t,currAccount:e,requestedLocale:r,effectiveRole:o,setPretendStandardUser:a}){const[i,d]=p.useState(void 0),l=!!t||e?.isPersonalAccount()&&!0,{data:g,isLoading:f,isError:v}=Cs(r,l);p.useEffect(()=>{g&&d({locale:g.locale,workspace_filtered:g.workspace_filtered,cuts:g.cuts.map(x=>({info:x.info,list:{items:x.list.items.map(n=>n.resource),cursor:x.list.cursor}}))})},[g]);const j=(...x)=>{const n=De(...x);return{...n,data:n.data?.pages.flatMap(h=>h.list.items.map(b=>b.resource))??[]}};return s.jsx(ht,{anon:t,discoveryLanding:i,isLoading:f,isError:v,effectiveRole:o,setPretendStandardUser:a,useFetchMoreQuery:j})}function ft(t,e){if(t)return s.jsx(le,{type:"info",children:s.jsx(y,{...D.discoveryResidencyRestriction})});switch(e){case"allow_none":return s.jsx(le,{type:"info",children:s.jsx(y,{...D.discoveryThirdPartyDisabled})});case"allow_specific":return s.jsx(le,{type:"info",children:s.jsx(y,{...D.discoveryThirdPartySpecific})});default:return null}}function ht({anon:t,discoveryLanding:e,isLoading:r,isError:o,effectiveRole:a,setPretendStandardUser:i,useFetchMoreQuery:d}){const l=Te(),g=ts(l?.getWorkspaceId()),f=p.useRef({}),[v,j]=p.useState({}),x=p.useMemo(()=>Ms(rs(e?.cuts.map(m=>({id:m.info.id,name:m.info.display_group}))),"name"),[e]),n=p.useRef(null),h=x.find(m=>v[m.id])??x[0];p.useEffect(()=>{const m=f.current,w=new IntersectionObserver(C=>{C.forEach(F=>{for(const L of x){const E=m[L.id];E!=null&&F.target===E&&j(W=>({...W,[L.id]:F.isIntersecting}))}})},{root:null,rootMargin:"-96px",threshold:.1});return Object.values(m).forEach(C=>{C!=null&&w.observe(C)}),()=>{Object.values(m).forEach(C=>{C!=null&&w.unobserve(C)})}},[f,x]);const b=p.useRef(null),N=s.jsx("div",{className:"flex h-full w-full items-center justify-center",children:o?s.jsx(le,{type:"danger",children:s.jsx(y,{...D.discoveryError})}):s.jsx(Me,{})}),u=l?.data.residencyRegion!=null&&l.data.residencyRegion!=="no_constraint"&&l.data.residencyRegion!=="us",P=g.data?.allow_third_party_gpts,S=ft(u,P),z=s.jsxs("div",{className:"screen-arch:w-full mx-auto max-w-3xl overflow-x-clip px-4",children:[s.jsx(pt,{}),s.jsxs("div",{className:"bg-token-bg-primary sticky top-14 z-30 -mt-2 mb-12 flex flex-col gap-6 pt-2 [@media(min-width:1560px)]:top-0",children:[!t&&s.jsx(Ys,{}),s.jsx("div",{ref:n,className:"scroll-mt-28"}),S,x.length>0&&s.jsx(xt,{displayGroups:x,currentDisplayGroup:h,scrollToDisplayGroup:m=>{(f.current[m.id]??n.current).scrollIntoView({behavior:"smooth",block:"start"})}})]}),e?.cuts.map(m=>m.info.display_type==="featured"?s.jsx(bt,{info:m.info,items:m.list.items,ref:w=>{w!=null&&(f.current[m.info.id]=w)},effectiveRole:a},m.info.id):s.jsx(St,{info:m.info,items:m.list.items,cursor:m.list.cursor??void 0,ref:w=>{w!=null&&(f.current[m.info.id]=w)},anon:t,effectiveRole:a,useFetchMoreQuery:d},m.info.id))??[]]});return r||o?s.jsxs(s.Fragment,{children:[t?s.jsx(pe,{redirectUrl:Ne(),className:"bg-token-main-surface-primary sticky top-0 z-30 h-14"}):s.jsx(ze,{currAccount:l}),N]}):s.jsxs("div",{ref:b,className:"h-full overflow-y-auto",children:[t?s.jsx(pe,{redirectUrl:Ne(),className:"bg-token-main-surface-primary sticky top-0 z-30 h-14"}):s.jsxs(s.Fragment,{children:[l?.isWorkspaceAccount()&&s.jsx(vt,{role:a,onPretendStandardUser:m=>{i(m)}}),s.jsx(ze,{currAccount:l})]}),z,e?.workspace_filtered&&!l?.isOwnerOfAccount()&&s.jsx(yt,{})]})}function pt(){return s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"my-2 text-center text-3xl font-bold md:my-4 md:text-5xl",children:s.jsx(y,{...D.discoverySplashHeader})}),s.jsx("div",{className:"text-token-text-secondary mx-auto w-full text-center text-sm md:text-lg md:leading-tight",children:s.jsx(y,{...D.discoverySplashDescription})})]})}function xt({displayGroups:t,currentDisplayGroup:e,scrollToDisplayGroup:r}){const o=p.useRef(null),a=te(),i=(...n)=>a.formatMessage(...n),d=p.useRef({}),[l,g]=p.useState(!1);p.useEffect(()=>{if(l||e==null)return;const h=d.current[e.id];if(h==null)return;const b=o.current;b!=null&&ut(h,b)},[e,l]);const[f,v]=p.useState(!1),[j,x]=p.useState(!1);return p.useEffect(()=>{const n=o.current,h=()=>{n!=null&&(v(n.scrollLeft>0),x(n.scrollLeft+n.clientWidth<n.scrollWidth))};return n?.addEventListener("scroll",h),window.addEventListener("resize",h),h(),()=>{n?.removeEventListener("scroll",h),window.removeEventListener("resize",h)}},[o]),s.jsxs("div",{className:"bg-token-main-surface-primary sticky top-14 z-10 -ms-4 w-screen py-2 text-sm md:ms-0 md:w-full md:pb-0",children:[f&&s.jsx("div",{className:"absolute start-0 top-2 hidden h-full items-end bg-linear-to-r from-white from-50% to-transparent pe-8 md:block dark:from-gray-800",children:s.jsx("button",{className:"mt-2 rounded-full bg-gray-100 p-1 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-white/20",onClick:()=>{o.current!=null&&o.current.scrollBy({left:-400,behavior:"smooth"})},children:s.jsx(Ts,{className:"icon-sm"})})}),s.jsx("div",{className:"no-scrollbar flex scroll-m-5 gap-1.5 overflow-x-auto md:overflow-hidden",ref:o,children:t.map(n=>s.jsx("div",{className:T("md:text-token-text-primary cursor-pointer scroll-mx-5 rounded-3xl px-3 py-2 whitespace-nowrap select-none first:ms-4 last:me-4 md:bg-transparent md:px-2 md:first:ms-0 md:last:me-0",n.id===e?.id?"border-token-text-primary text-token-main-surface-primary bg-black md:rounded-none md:border-b-2 dark:bg-gray-100 dark:md:bg-transparent":"bg-token-main-surface-secondary hover:text-token-text-primary md:text-token-text-tertiary hover:bg-gray-100 md:rounded-lg md:hover:bg-gray-50 dark:hover:bg-white/20 dark:md:bg-transparent dark:md:hover:bg-gray-700"),onClick:()=>{g(!0),r(n),setTimeout(()=>{g(!1)},1e3),M.logEvent("Store Click Category",{category:n.id})},ref:h=>{h!=null&&(d.current[n.id]=h)},children:i({id:`gizmo.categoryName.${n.name}`,defaultMessage:n.name,description:"store category"})},n.id))}),j&&s.jsx("div",{className:"absolute end-0 top-2 hidden h-full bg-linear-to-l from-white from-50% to-transparent ps-8 md:block dark:from-gray-800",children:s.jsx("button",{className:"mt-2 rounded-full bg-gray-100 p-1 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-white/10",onClick:()=>{o.current!=null&&o.current.scrollBy({left:400,behavior:"smooth"})},children:s.jsx(Ls,{className:"icon-sm"})})})]})}function yt(){const t=te(),e=Ae(),r=Es();return s.jsxs("div",{className:T("bg-token-main-surface-secondary text-token-text-secondary screen-arch:static fixed bottom-0 flex w-full items-center justify-center gap-2 p-3 text-sm",r&&"md:w-[calc(100%-16rem)]"),children:[s.jsx(We,{className:"icon-sm"}),t.formatMessage(D.discoveryThirdPartyGPTsDisabled,{workspaceName:e})]})}function vt({role:t,onPretendStandardUser:e}){const r=te();return as()?s.jsxs("div",{className:"h-52px flex w-full items-center justify-center gap-2 bg-gray-100 p-3 text-sm dark:bg-gray-700",children:[s.jsx(We,{className:"icon-sm"}),s.jsx(y,{id:"gizmo.discovery.browsingAsOwner",defaultMessage:"You're viewing as a <b>workspace member</b>",values:{b:a=>s.jsxs(V.Root,{defaultValue:t,onValueChange:i=>{e(i===K.STANDARD)},children:[s.jsxs(V.Trigger,{className:"-mx-2 -my-2 bg-transparent px-1 font-semibold",children:[s.jsx(ue,{disabled:t!==K.OWNER,label:r.formatMessage({id:"gizmo.discovery.browsingAsOwnerTooltip",defaultMessage:"Owners can access all third-party GPTs, even if they haven’t been approved."}),side:"bottom",triggerAs:null,children:s.jsx(V.Value,{})}),s.jsx(V.Icon,{})]}),s.jsx(V.Portal,{children:s.jsxs(V.Content,{children:[s.jsx(V.Item,{value:K.OWNER,children:s.jsx(y,{id:"gizmo.discovery.browsingOwnerRole",defaultMessage:"workspace owner"})}),s.jsx(V.Item,{value:K.STANDARD,children:s.jsx(y,{id:"gizmo.discovery.browsingMemberRole",defaultMessage:"workspace member"})})]})})]})}})]}):null}function ze({currAccount:t,isMobile:e=!1}){const r=he(),o=me(),a=te(),i=t?.hasPlusFeatures(),l=je()?.planType??"unknown",g=()=>{i?(M.logEvent("Store Create Gizmo"),o(r)):(M.logUpsellGetPlusButtonClicked({location:xe,type:"create_gpt",plan_type:l}),Oe(o,"Gizmo Discovery page upsell"))};return s.jsx(s.Fragment,{children:s.jsxs(Rs,{className:T("z-30 flex w-full items-center justify-between whitespace-nowrap",e&&"ps-2 pe-0",!e&&"max-md:hidden"),children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"hidden md:flex",children:s.jsx(Ds,{clientThreadId:ss})}),s.jsx("h1",{className:"px-2 text-lg font-normal select-none [text-box-trim:trim-both] [view-transition-name:var(--vt-tool-page-title)]",children:s.jsx(y,{id:"h8AzQb",defaultMessage:"Explore GPTs"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"hidden items-center gap-2 md:flex",children:[i&&s.jsx(q,{color:"ghost",onClick:()=>{o("/gpts/mine"),M.logEvent("Store My Gizmos")},children:s.jsx(y,{...D.discoveryMyGPTs})}),s.jsx(jt,{canCreateGPTs:i,createUrl:r})]}),s.jsx("div",{className:"md:hidden",children:s.jsxs(_e,{contentAlign:"end",triggerButton:s.jsx(Ps,{"aria-label":a.formatMessage({id:"pdxBIm",defaultMessage:"Open actions menu"})}),children:[i&&s.jsx(ce.Item,{onClick:()=>{o("/gpts/mine"),M.logEvent("Store My Gizmos")},children:s.jsx(y,{...D.discoveryMyGPTs})}),s.jsx(ce.Item,{onClick:g,children:s.jsx(y,{...D.discoveryCreateGPT})})]})}),s.jsx("div",{className:"hidden md:block",children:s.jsx(Gs,{})})]})]})})}const jt=({canCreateGPTs:t,createUrl:e})=>{const[r,o]=p.useState(!1),a=p.useRef(void 0),i=os(),l=je()?.planType??"unknown",g="create_gpt",f=()=>{t||(M.logPopoverHover({location:xe,type:g,plan_type:l}),clearTimeout(a.current),o(!0))},v=()=>{t||(a.current=i(function(){o(!1)},300))},j=me(),x=()=>{M.logUpsellGetPlusButtonClicked({location:xe,type:g,plan_type:l}),Oe(j,"Gizmo Discovery page upsell")},n=t?()=>M.logEvent("Store Create Gizmo"):h=>h.preventDefault();return s.jsxs("div",{onMouseEnter:f,onMouseLeave:v,className:"screen-arch:flex screen-arch:items-center relative",children:[s.jsx(q,{color:"secondary",disabled:!t,visuallyDisabled:!t,onClick:n,as:"link",to:e,icon:Ee,"data-testid":"create-gpt-discovery-button",children:s.jsx(y,{...D.discoveryCreateGPT})}),!t&&r&&s.jsxs("div",{className:"border-token-border-default bg-token-main-surface-primary screen-arch:top-12 absolute end-0 z-10 mt-2 w-64 rounded-lg border p-3 text-sm shadow-lg",children:[s.jsx("p",{className:"from-token-text-tertiary mb-2 text-start font-normal break-words whitespace-normal",children:s.jsx(y,{...D.createGPTUpsell})}),s.jsx(q,{color:"secondary",onClick:x,size:"small",children:s.jsx(y,{...D.createGPTUpsellButtonLabel})})]})]})},bt=p.forwardRef(function({info:e,items:r,effectiveRole:o},a){return s.jsx($e,{title:e.title,description:e.description,ref:a,children:s.jsx(He,{children:r.map((i,d)=>s.jsx(kt,{resource:i,effectiveRole:o},`${d}-${i.gizmo.id}`))})})});function kt({resource:t,effectiveRole:e}){const r=t.gizmo.vanity_metrics?.num_conversations_str,o=t.gizmo.tags?.includes(Y.WorkspaceDisabled)&&e!==K.OWNER;return s.jsx(se,{children:s.jsxs(Be,{gizmo:t,className:T("group flex h-24 items-center gap-5 overflow-hidden rounded-xl bg-gray-50 px-7 py-8 hover:bg-gray-100 md:h-32 lg:h-36 dark:bg-gray-700 dark:hover:bg-white/10",o&&"opacity-50 hover:opacity-100"),onClick:()=>{M.logEvent("Store Click Gizmo",{gizmo_id:t.gizmo.id,section:"featured"})},children:[s.jsx(Se,{isFirstParty:!!t.gizmo.tags?.includes(Y.FirstParty),src:t.gizmo.display.profile_picture_url??void 0,className:T("h-16 w-16 shrink-0 md:h-24 md:w-24",o&&"grayscale group-hover:grayscale-0")}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"line-clamp-2 font-semibold md:text-lg",children:t.gizmo.display.name}),s.jsx("span",{className:"line-clamp-2 text-xs md:line-clamp-3",children:t.gizmo.display.description}),s.jsxs("div",{className:"text-token-text-tertiary mt-1 line-clamp-1 flex justify-start gap-1 text-xs",children:[s.jsx(be,{gizmo:t,className:"text-xs",hideLink:!0}),r&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-[10px]",children:"•"}),s.jsx(ke,{className:"mt-0.5 h-3 w-3"}),r]})]})]})]})})}const St=p.forwardRef(function({info:e,items:r,cursor:o,anon:a,effectiveRole:i,useFetchMoreQuery:d},l){const[g,f]=p.useState(r.length===0),{data:v,hasNextPage:j,fetchNextPage:x,isFetchingNextPage:n,isError:h}=d({cutId:e.id,locale:e.locale,limit:6,cursor:o,enabled:g});p.useEffect(()=>{r.length===0&&x()},[x,r.length]);const[b,N]=p.useState(v.length),u=p.useRef(null),P=Xe(.1);return p.useEffect(()=>{v.length>b&&(N(v.length),u.current?.scrollIntoView({behavior:"smooth",block:"nearest"}))},[v.length,b]),s.jsxs($e,{title:e.title,description:e.description,ref:l,children:[s.jsxs(He,{children:[r.map((S,z)=>s.jsx(Ce,{resource:S,rank:z+1,cutId:e.id,effectiveRole:i},z)),v.map((S,z)=>s.jsx(Ce,{resource:S,rank:r.length+z+1,cutId:e.id,delay:P(z-b,v.length-b),effectiveRole:i},z))]}),(!g||j||n||h)&&!a&&o!=null&&s.jsx(q,{color:h?"danger-outline":"secondary",onClick:()=>{f(!0),M.logEvent("Store Load More",{section:e.id}),x()},fullWidth:!0,className:"mt-2 md:mt-3",loading:n,children:h?s.jsx(y,{...D.discoveryLoadMoreError}):s.jsx(y,{...D.discoveryLoadMore})}),s.jsx("div",{ref:u})]})});function Ce({resource:t,rank:e,cutId:r,delay:o,effectiveRole:a}){const i=t.gizmo.tags?.includes(Y.WorkspaceDisabled)&&a!==K.OWNER,d=t.gizmo.tags?.includes(Y.FirstParty);return s.jsx(se,{delay:o,children:s.jsxs(Be,{gizmo:t,className:T("group hover:bg-token-main-surface-secondary flex h-[104px] items-center gap-2.5 overflow-hidden rounded-xl px-1 py-4 md:px-3 md:py-4 lg:px-3",i&&"opacity-50 hover:opacity-100"),onClick:()=>{M.logEvent("Store Click Gizmo",{gizmo_id:t.gizmo.id,position:e,section:d?"first_party":r})},children:[s.jsx("div",{className:"text-md flex w-8 shrink-0 items-center justify-center font-semibold",children:e}),s.jsx(As,{resource:t,grayedOut:i})]},t.gizmo.id)})}const $e=p.forwardRef(function({title:e,description:r,className:o,children:a},i){return s.jsxs("div",{ref:i,className:"h-fit scroll-mt-28 last:min-h-[calc(100vh-8rem)]",children:[s.jsxs(se,{animateTap:!1,children:[s.jsx("div",{className:"text-xl font-semibold md:text-2xl",children:e}),r&&s.jsx("div",{className:"text-token-text-tertiary text-sm md:text-base",children:r})]}),s.jsx("div",{className:T("mt-4 mb-10",o),children:a})]})}),D=de({discoveryAllResultsHeader:{id:"gizmo.discovery.AllResultsHeader",defaultMessage:"All"},discoveryWorkspaceResultsHeader:{id:"gizmo.discovery.workspaceResultsHeaderName",defaultMessage:"{workspaceName} workspace"},discoveryEmpty:{id:"gizmo.discovery.empty",defaultMessage:"Nothing to discover"},discoveryNoResultsSearch:{id:"gizmo.discovery.search.empty",defaultMessage:"No results found"},discoveryError:{id:"gizmo.discovery.error",defaultMessage:"Error loading GPTs"},discoverySearch:{id:"gizmo.discovery.search",defaultMessage:"Search GPTs"},discoverySearchSmall:{id:"gizmo.discovery.searchSmall",defaultMessage:"Search"},discoverySearchRecentlyUsed:{id:"gizmo.discovery.search.recentlyUsed",defaultMessage:"Recently Used"},discoverySearchRecentlyUsedEmpty:{id:"gizmo.discovery.search.recentlyUsedEmpty",defaultMessage:"No recently used GPTs"},discoverySearchResults:{id:"gizmo.discovery.search.results",defaultMessage:"Search Results"},discoveryLoadMore:{id:"gizmo.discovery.loadMore",defaultMessage:"See more"},discoveryLoadMoreError:{id:"gizmo.discovery.loadMoreError",defaultMessage:"Error loading more"},discoveryMyGPTs:{id:"gizmo.discovery.myGPTs",defaultMessage:"My GPTs"},discoveryCreateGPT:{id:"gizmo.discovery.createGPT",defaultMessage:"Create"},discoveryThirdPartyGPTsDisabled:{id:"gizmo.discovery.thirdPartyGPTsDisabled",defaultMessage:"Your admin has blocked GPTs created outside {workspaceName}."},discoverySplashHeader:{id:"gizmo.discovery.splashHeader",defaultMessage:"GPTs"},discoverySplashDescription:{id:"gizmo.discovery.splashDescription",defaultMessage:"Discover and create custom versions of ChatGPT that combine instructions, extra knowledge, and any combination of skills."},discoveryGlobalViewOn:{id:"gizmo.discovery.globalViewOn",defaultMessage:"Global View On"},discoveryGlobalViewOff:{id:"gizmo.discovery.globalViewOff",defaultMessage:"Global View Off"},createdAgoLabel:{id:"gizmo.discovery.createdAgoLabel",defaultMessage:"Created {createdAgo}"},createGPTUpsell:{id:"gizmo.discovery.createGPTUpsell",defaultMessage:"Get ChatGPT Plus to create and share your own GPTs"},createGPTUpsellButtonLabel:{id:"gizmo.discovery.createGPTUpsellButtonLabel",defaultMessage:"Get Plus"},discoveryResidencyRestriction:{id:"gizmo.discovery.residencyRestriction",defaultMessage:"To comply with data residency requirements, only GPTs created within your workspace are accessible. All third-party GPTs are not available."},discoveryThirdPartyDisabled:{id:"gizmo.discovery.thirdPartyDisabled",defaultMessage:"Your admin has disabled all third-party GPTs. Only workspace GPTs are available."},discoveryThirdPartySpecific:{id:"gizmo.discovery.thirdPartySpecific",defaultMessage:"Your admin has disabled most third-party GPTs, except for specific ones that have been explicitly approved. Workspace GPTs are available."}});export{Lt as C,ze as G,Ys as a,Et as b,$s as c,Tt as d,Mt as e,Is as f};
//# sourceMappingURL=49fkenytwa0np0h8.js.map
