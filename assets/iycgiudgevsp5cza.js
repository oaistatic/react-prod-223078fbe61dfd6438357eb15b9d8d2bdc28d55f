const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/c9ri1ap1wvh593dt.js","assets/b8ijctzpgh0s7wpx.js","assets/vxbrxstfboz9dcoe.js","assets/krbmwir12ubt4od1.js","assets/citrwydz0bgriwlc.js","assets/root-gxczc0vy.css","assets/conversation-small-dfayqh3x.css","assets/i8vywrro9brl1v2z.js","assets/d3y72ugnrmac5z1v.js","assets/c3pyruu10yojvm55.js","assets/fcih4bwve8pyqvvh.js","assets/j2zbz2jpl151yhf4.js"])))=>i.map(i=>d[i]);
import{ad as w,b as R,Q,_ as $,aD as de,O as me,ab as ue,ac as Z,eq as N,B as T,f as ae,aQ as ge,eP as xe}from"./citrwydz0bgriwlc.js";import{u as te,i as M,a as V,b as S,e as b,r as x,j as e,M as u,f as he,p as pe}from"./b8ijctzpgh0s7wpx.js";import{e as Me,mM as L,mX as K,fp as fe,lq as ee,bX as i,mi as G,mY as B,fe as ve,mZ as je,m_ as be,dY as h,aX as ne,ad as P,bY as ye,d as z,ea as J,aK as Re,U as se,P as Ne,ft as Ce,dS as Ie,m$ as Ue,b_ as ke,lf as Pe}from"./krbmwir12ubt4od1.js";import{m as re}from"./nhimtm9k3553f3om.js";import{a as _e,b as we}from"./ck3bszc4vkmfqkbp.js";import{a as Se,b as qe,u as De}from"./e8gr7b7eez1onpam.js";import"./otl51en3t0ec5n7s.js";import"./b4v20hsjdnh8a64d.js";import"./ku4zsoy6w4wkp690.js";import"./k1h56nx2kjoqc52m.js";import"./exvo283q5zxd2q6r.js";import"./jekpe1ukp5thtucq.js";import"./dcml6fn13vfm1zv2.js";import"./nvghija6qp2cunds.js";import"./djd85tifm57yisqi.js";import"./h3krx8dg2s8o2yh5.js";import"./cfe0bfy5asp94vp2.js";import"./jkznwfhp8ahnvlot.js";import"./megablgldkh4lap1.js";import"./hbpbckirom363mgh.js";import"./izdon3syh095bs23.js";import"./dweroubxngal4vlb.js";import"./i7jya7stlyvnzya0.js";import"./cb2t82g498wwhuc2.js";import"./ndwtlsjk3xm27wkq.js";import"./o0ebhsapkoy5qkg1.js";import"./k7nub2yuxq70se07.js";import"./k6ccgr4wxcppeg93.js";import"./dbalwdodzoo02ru2.js";import"./c2d9eukr2hh7n3q0.js";import"./eigi8l95ddhoqirr.js";import"./etmxhiuvgu79utu0.js";import"./ct6yhczwft8t5t9k.js";import"./nvnp6g5g3fqgfhec.js";import"./g64reurtt3avubtb.js";import"./cn2bawepofyjgkxo.js";import"./iki1bxy2syl3zwuv.js";const U=25;function Te(s,a,t){return te({queryKey:["workspace",s,"invites",a,t],queryFn:async()=>await R.safeGet("/accounts/{account_id}/invites",{parameters:{path:{account_id:s},query:{offset:a,limit:U,query:t}}})})}function Ae(s,a,t){return te({queryKey:["workspace",s,"invites","requests",a,t],queryFn:()=>R.safeGet("/accounts/{account_id}/invites",{parameters:{path:{account_id:s},query:{include_pending:!1,include_requests:!0,offset:a,limit:U,query:t}}})})}function ie(s){const a=M(),t=w(),n=V();return S({mutationFn:({inviteId:r,role:c,acceptRequest:l})=>R.safePatch("/accounts/{account_id}/invites/{invite_id}",{parameters:{path:{account_id:s,invite_id:r}},requestBody:{role:c,accept_request:l}}).catch(o=>{t.danger(a.formatMessage(A.updateInviteError,{error:o.message}))}),onSuccess:()=>{n.invalidateQueries({queryKey:["workspace",s,"invites"]}),n.invalidateQueries({queryKey:["workspace",s,"invites","requests"]}),n.invalidateQueries({queryKey:["workspace",s]})}})}function oe(s){const a=M(),t=w(),n=V();return S({mutationFn:({email:r})=>R.safeDelete("/accounts/{account_id}/invites",{parameters:{path:{account_id:s}},requestBody:{email_address:r}}).catch(c=>{t.danger(a.formatMessage(A.deleteInviteError,{email:r,error:c.message}))}),onSuccess:()=>{n.invalidateQueries({queryKey:["workspace",s,"invites"]}),n.invalidateQueries({queryKey:["workspace",s,"invites","requests"]})}})}function Ee(s){const a=M(),t=w(),n=V();return S({mutationFn:({role:r,email:c})=>R.safePost("/accounts/{account_id}/invites",{parameters:{path:{account_id:s}},requestBody:{email_addresses:[c],role:r,resend_emails:!0}}).then(({account_invites:l,errored_emails:o})=>{if(o.length>0)throw new Error(o[0].error);l.length>0&&t.success(a.formatMessage(A.resendInviteSuccess,{email:c}))}).catch(l=>{t.danger(a.formatMessage(A.resendInviteError,{email:c,error:l.message}))}),onSuccess:()=>{n.invalidateQueries({queryKey:["workspace",s,"invites"]}),n.invalidateQueries({queryKey:["workspace",s,"invites","requests"]})}})}const A=b({updateInviteError:{id:"WorkspaceInvites.updateInviteError",defaultMessage:"Unable to update invite from workspace: {error}"},deleteInviteError:{id:"WorkspaceInvites.deleteInviteError",defaultMessage:"Unable to remove user ({email}) from workspace: {error}"},resendInviteSuccess:{id:"WorkspaceInvites.resendInviteSuccess",defaultMessage:"Sent a new invite to {email}"},resendInviteError:{id:"WorkspaceInvites.resendInviteError",defaultMessage:"Unable to resend invite to ({email}) from workspace: {error}"}}),Ve=Q(()=>$(()=>import("./c9ri1ap1wvh593dt.js"),__vite__mapDeps([0,1])).then(s=>s.DirectorySyncResourceManagedIndication)),_=de(()=>({confirmModalUserData:null})),E={openModalForUser:s=>{_.setState({confirmModalUserData:s})},closeModal:()=>{_.setState({confirmModalUserData:null})}};function Be({workspaceId:s,filterInputValue:a}){const[t,n]=x.useState(0),c=Me()?.id,l=L(s),o=K(s),d=l||o,m=Oe(),g=Qe(s),{data:f}=fe(s,t*ee,a),k=x.useCallback(p=>{E.openModalForUser(p)},[]),q=x.useCallback(()=>{const p=_.getState().confirmModalUserData?.id;p!==void 0&&g.mutate({userId:p}),E.closeModal()},[g]),F=x.useCallback((p,ce)=>{m.mutate({userId:p,value:ce,workspaceId:s})},[m,s]);if(f===void 0)return e.jsx(X,{});const D=f.items,v=Math.ceil((f.total??0)/ee);return t>=v&&v!==0&&n(Math.max(v-1,0)),e.jsxs(e.Fragment,{children:[e.jsxs(i.Root,{fixed:!0,size:"normal",children:[e.jsxs("colgroup",{children:[e.jsx("col",{className:"w-[60%]"}),e.jsx("col",{className:"w-[20%]"}),e.jsx("col",{className:"w-[20%]"}),d&&e.jsx("col",{className:"w-16"})]}),e.jsxs(i.Header,{children:[e.jsx(i.HeaderCell,{className:"bg-token-primary font-medium",children:e.jsx(u,{...j.name})}),e.jsx(i.HeaderCell,{className:"bg-token-primary font-medium",children:e.jsx("span",{className:l?"ps-3":"",children:e.jsx(u,{...j.accountType})})}),e.jsx(i.HeaderCell,{className:"bg-token-primary font-medium",children:e.jsx(u,{...j.dateAdded})}),d&&e.jsx(i.HeaderCell,{className:"bg-token-primary w-16 font-medium"})]}),e.jsxs(i.Body,{children:[D.map(p=>e.jsx(We,{isCurrentUser:c!==void 0&&p.id===c,user:p,currentUserHasAdminRights:d,isCurrentUserOwner:l,onRemoveUserClick:()=>k({id:p.id,name:p.name??"",email:p.email??"",created_time:p.created_time}),onUpdateUserRole:F},p.id)),D.length===0&&e.jsx(i.Row,{children:e.jsx(i.Cell,{children:e.jsx("div",{className:"text-token-text-tertiary",children:e.jsx(u,{...j.noResults})})})})]})]}),e.jsx("div",{className:"relative mt-4 mb-8 min-h-[20px]",children:v>1&&e.jsx("div",{className:"absolute start-1/2 top-1/2 flex -translate-x-1/2 -translate-y-1/2 justify-center",children:e.jsx(G,{currentPage:t,onChangeIndex:n,length:v})})}),e.jsx(Fe,{onDeleteConfirm:q})]})}function Fe({onDeleteConfirm:s}){const a=M(),t=_(r=>r.confirmModalUserData!==null),n=_(r=>r.confirmModalUserData===null?{}:{userId:r.confirmModalUserData.id,email:r.confirmModalUserData.email,name:r.confirmModalUserData.name,dateAdded:je(r.confirmModalUserData.created_time)});return e.jsx(ue,{testId:"modal-remove-member",isOpen:t,title:a.formatMessage(j.removeMemberModalTitle),onClose:()=>E.closeModal(),type:"success",primaryButton:e.jsx(Z.Button,{title:a.formatMessage(j.removeMemberModalConfirm),color:"danger",onClick:s}),secondaryButton:e.jsx(Z.Button,{title:a.formatMessage(j.removeMemberModalCancel),color:"secondary",onClick:()=>E.closeModal()}),children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.name??n.email,e.jsx("div",{className:"text-token-text-tertiary",children:e.jsx(u,{...j.dateJoined,values:{dateAdded:a.formatDate(n.dateAdded,{year:"numeric",month:"long",day:"numeric"})}})})]})})}function We({user:s,currentUserHasAdminRights:a,isCurrentUserOwner:t,isCurrentUser:n,onRemoveUserClick:r,onUpdateUserRole:c}){const o=B()[s.role],d=M(),m=s.name??d.formatMessage(j.missingName);return e.jsxs(i.Row,{className:"[&>td]:py-2",children:[e.jsxs(i.Cell,{children:[e.jsxs("div",{className:"relative pe-3",children:[e.jsx(ve,{user:{name:m,picture:null},size:"medium"}),s.is_scim_managed&&e.jsx("div",{className:"absolute end-0 bottom-0",children:e.jsx(Ve,{})})]}),e.jsxs("div",{children:[e.jsxs("div",{children:[m,n&&e.jsx("span",{className:"ms-1",children:e.jsx(u,{...j.youSpecifier})})]}),e.jsx("div",{className:"text-body-small-regular text-token-text-secondary",children:s.email})]})]}),e.jsx(i.Cell,{children:t?e.jsx(Y,{currentRole:s.role,onUpdateUserRole:g=>{c(s.id,g)},disabled:n}):o}),e.jsx(i.Cell,{children:d.formatDate(s.created_time,{month:"short",day:"numeric",year:"numeric"})}),a&&e.jsx(i.Cell,{children:e.jsx(He,{userId:s.id,onRemoveUserClick:r,disabled:n,isScimManaged:s.is_scim_managed})})]})}function Y({currentRole:s,onUpdateUserRole:a,disabled:t=!1}){const n=B();return e.jsx(be,{disabled:t,defaultValue:s,onValueChange:r=>{a(r)},options:[{label:n[N.STANDARD],value:N.STANDARD},{label:n[N.ADMIN],value:N.ADMIN},{label:n[N.OWNER],value:N.OWNER}]})}function He({disabled:s,onRemoveUserClick:a,userId:t,isScimManaged:n}){const r=M();return s?null:n?e.jsx(h.Root,{children:e.jsx(h.Trigger,{disabled:!0,children:e.jsx(ne,{label:r.formatMessage(re.managedViaSCIMTooltip),className:"flex",side:"right",children:e.jsx(P,{className:"icon-sm"})})})}):e.jsxs(h.Root,{children:[e.jsx(h.Trigger,{className:"-my-2",children:e.jsx(P,{className:"icon-sm"})}),e.jsx(h.Portal,{children:e.jsx(h.Content,{size:"small",children:e.jsx(h.Item,{onClick:()=>{a(t)},icon:e.jsx(ye,{className:"text-token-text-status-error"}),className:"text-token-text-status-error",children:e.jsx(u,{...j.removeMemberModalTitle})})})})]})}function Oe(){const s=w();return S({mutationFn:({userId:a,workspaceId:t,value:n})=>R.safePatch("/accounts/{account_id}/users/{user_id}",{parameters:{path:{account_id:t,user_id:a}},requestBody:{role:n}}).catch(r=>{s.danger(`Unable to update user (${a}) role: ${r.message}`)})})}function Qe(s){const a=V(),t=w();return S({mutationFn:({userId:n})=>R.safeDelete("/accounts/{account_id}/users/{user_id}",{parameters:{path:{account_id:s,user_id:n}}}).catch(r=>{t.danger(`Unable to remove user (${n}) from workspace: ${r.message}`)}),onSuccess:()=>{a.invalidateQueries({queryKey:["workspace",s]})}})}function X(){return e.jsx("div",{className:"flex w-full items-center justify-center",children:e.jsx(me,{})})}const j=b({name:{id:"UserManager.name",defaultMessage:"Name"},email:{id:"UserManager.email",defaultMessage:"Email"},accountType:{id:"UserManager.accountType",defaultMessage:"Account type"},dateAdded:{id:"UserManager.dateAdded",defaultMessage:"Date added"},role:{id:"UserManager.role",defaultMessage:"Role"},missingName:{id:"UserManager.missingName",defaultMessage:"No name provided"},youSpecifier:{id:"UserManager.youSpecifier",defaultMessage:"(You)"},removeUser:{id:"UserManager.removeUser",defaultMessage:"Remove user from workspace"},removeMemberModalTitle:{id:"UserManager.removeMemberModalTitle",defaultMessage:"Remove member"},removeMemberModalConfirm:{id:"UserManager.removeMemberModalConfirm",defaultMessage:"Delete"},removeMemberModalCancel:{id:"UserManager.removeMemberModalCancel",defaultMessage:"Cancel"},dateJoined:{id:"UserManager.dateJoined",defaultMessage:"Joined workspace on {dateAdded}"},inviteMemberButton:{id:"UserManager.inviteMemberButton",defaultMessage:"Invite member"},noResults:{id:"UserManager.noResults",defaultMessage:"No results"},leaveWorkspace:{id:"adminPage.leaveWorkspace",defaultMessage:"Leave workspace"}}),$e=Q(()=>$(()=>import("./c9ri1ap1wvh593dt.js"),__vite__mapDeps([0,1])).then(s=>s.DirectorySyncResourceManagedIndication));function Le({workspaceId:s,filterInputValue:a}){const[t,n]=x.useState(0),r=L(s),c=K(s),l=r||c,{data:o}=Te(s,t*U,a);if(o===void 0)return e.jsx(X,{});const d=o.items,m=Math.ceil((o.total??0)/U);return t>=m&&m!==0&&n(Math.max(m-1,0)),e.jsxs("div",{children:[e.jsxs(i.Root,{fixed:!0,size:"normal",children:[e.jsxs("colgroup",{children:[e.jsx("col",{className:"w-[60%]"}),e.jsx("col",{className:"w-[20%]"}),e.jsx("col",{className:"w-[20%]"}),l&&e.jsx("col",{className:"w-16"})]}),e.jsxs(i.Header,{children:[e.jsx(i.HeaderCell,{className:"bg-token-bg-primary",children:e.jsx(u,{...C.email})}),e.jsx(i.HeaderCell,{className:"bg-token-bg-primary",children:e.jsx(u,{...C.invitedDate})}),e.jsx(i.HeaderCell,{className:"bg-token-bg-primary w-28",children:e.jsx("span",{className:l?"ps-3":"",children:e.jsx(u,{...C.role})})}),l&&e.jsx(i.HeaderCell,{className:"bg-token-bg-primary w-16"})]}),e.jsxs(i.Body,{children:[d.map(g=>e.jsx(Ke,{workspaceId:s,invite:g,isCurrentUserOwner:r,currentUserHasAdminRights:l},g.id)),d.length===0&&e.jsx(i.Row,{children:e.jsx(i.Cell,{children:e.jsx("div",{className:"text-token-text-tertiary",children:e.jsx(u,{...C.noResults})})})})]})]}),m>1&&e.jsx("div",{className:"mt-2 flex justify-center",children:e.jsx(G,{currentPage:t,onChangeIndex:n,length:m})})]})}function Ke({workspaceId:s,invite:a,isCurrentUserOwner:t,currentUserHasAdminRights:n}){const r=M(),c=B(),l=ie(s),o=oe(s),d=Ee(s);return e.jsxs(i.Row,{disabled:l.isPending||o.isPending||o.isSuccess||d.isPending,children:[e.jsx(i.Cell,{children:e.jsxs("span",{className:"flex grow justify-between",children:[e.jsx("span",{children:a.email_address}),a.is_scim_managed&&e.jsx($e,{})]})}),e.jsx(i.Cell,{children:r.formatDate(a.created_time,{month:"short",day:"numeric",year:"numeric"})}),e.jsx(i.Cell,{children:t?e.jsx(Y,{currentRole:a.role,onUpdateUserRole:m=>{l.mutate({inviteId:a.id,role:m})}}):c[a.role]}),n&&e.jsx(e.Fragment,{children:e.jsx(i.Cell,{children:e.jsx(Ge,{onDeleteUser:()=>{o.mutate({email:a.email_address??""})},onResendInvite:()=>{d.mutate({email:a.email_address??"",role:a.role??""})},disabled:a.is_scim_managed})})})]})}function Ge({onDeleteUser:s,onResendInvite:a,disabled:t}){const n=M();return e.jsx(e.Fragment,{children:t?e.jsx(h.Root,{children:e.jsx(h.Trigger,{disabled:!0,children:e.jsx(ne,{label:n.formatMessage(re.managedViaSCIMTooltip),className:"flex",side:"right",children:e.jsx(P,{className:"icon-sm"})})})}):e.jsxs(h.Root,{children:[e.jsx(h.Trigger,{children:e.jsx(P,{className:"icon-sm"})}),e.jsx(h.Portal,{children:e.jsxs(h.Content,{children:[e.jsx(h.Item,{onClick:a,children:e.jsx(u,{...C.resendInvite})}),e.jsx(h.Item,{onClick:s,children:e.jsx(u,{...C.revokeInvite})})]})})]})})}const C=b({email:{id:"InviteManager.email",defaultMessage:"Email"},role:{id:"InviteManager.role",defaultMessage:"Role"},invitedDate:{id:"InviteManager.invitedDate",defaultMessage:"Date invited"},resendInvite:{id:"InviteManager.resendInvite",defaultMessage:"Resend invite"},revokeInvite:{id:"InviteManager.revokeInvite",defaultMessage:"Revoke invite"},noResults:{id:"InviteManager.noResults",defaultMessage:"No results"}}),le=({title:s,subTitle:a})=>e.jsxs("div",{className:"py-4",children:[e.jsx("div",{className:"mb-1 font-medium",children:s}),e.jsx("div",{className:"text-body-small-regular text-token-text-secondary",children:a})]}),ze=({workspaceId:s})=>{const a=M(),[t,n]=x.useState(""),[r,c]=x.useState(""),l=x.useMemo(()=>z(o=>c(o),300,{leading:!1,trailing:!0}),[]);return e.jsxs("div",{children:[e.jsx(le,{title:a.formatMessage(W.pendingInvites),subTitle:a.formatMessage(W.pendingInvitesSubtitle)}),e.jsx(J,{value:t,onChange:o=>{n(o.target.value),l(o.target.value)},placeholder:a.formatMessage(W.searchInvitesPlaceholder),className:"mb-2"}),e.jsx(Le,{workspaceId:s,filterInputValue:r})]})},W=b({pendingInvites:{id:"admin.workspace.members.pendingInvites",defaultMessage:"Pending Invites"},pendingInvitesSubtitle:{id:"admin.workspace.members.pendingInvitesSubtitle",defaultMessage:"View the pending invitations for new members."},searchInvitesPlaceholder:{id:"admin.workspace.members.searchInvitesPlaceholder",defaultMessage:"Search for invites"}});function Je({workspaceId:s,filterInputValue:a}){const[t,n]=x.useState(0),{data:r}=Ae(s,t*U,a),c=L(s),l=K(s),o=M(),d=c||l;if(r===void 0)return e.jsx(X,{});const m=r.items,g=Math.ceil((r.total??0)/U);return t>=g&&g!==0&&n(Math.max(g-1,0)),e.jsxs("div",{children:[e.jsxs(i.Root,{fixed:!0,size:"normal",children:[e.jsxs(i.Header,{children:[e.jsx(i.HeaderCell,{className:"bg-token-main-surface-primary",children:e.jsx(u,{...I.email})}),e.jsx(i.HeaderCell,{className:"bg-token-main-surface-primary w-28",children:e.jsx("span",{className:d?"ps-3":"",children:e.jsx(u,{...I.role})})}),d&&e.jsx(i.HeaderCell,{className:"bg-token-main-surface-primary w-40",children:o.formatMessage(I.actions)})]}),e.jsxs(i.Body,{children:[m.map(f=>e.jsx(Ye,{workspaceId:s,invite:f,isCurrentUserOwner:c,currentUserHasAdminRights:d},f.id)),m.length===0&&e.jsx(i.Row,{children:e.jsx(i.Cell,{children:e.jsx("div",{className:"text-token-text-tertiary",children:e.jsx(u,{...I.noResults})})})})]})]}),g>1&&e.jsx("div",{className:"mt-2 flex justify-center",children:e.jsx(G,{currentPage:t,onChangeIndex:n,length:g})})]})}function Ye({workspaceId:s,invite:a,isCurrentUserOwner:t,currentUserHasAdminRights:n}){const r=B(),c=ie(s),l=oe(s),o=M();return e.jsxs(i.Row,{disabled:c.isPending||l.isPending||l.isPending,children:[e.jsx(i.Cell,{children:a.email_address}),e.jsx(i.Cell,{children:t?e.jsx(Y,{currentRole:a.role,onUpdateUserRole:d=>{c.mutate({inviteId:a.id,role:d})}}):r[a.role]}),n&&e.jsx(e.Fragment,{children:e.jsx(i.Cell,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{onClick:()=>c.mutate({inviteId:a.id,acceptRequest:!0}),children:o.formatMessage(I.accept)}),e.jsx(T,{color:"secondary",onClick:()=>l.mutate({email:a.email_address??""}),children:o.formatMessage(I.reject)})]})})})]})}const I=b({email:{id:"RequestInviteManager.email",defaultMessage:"Email"},role:{id:"RequestInviteManager.role",defaultMessage:"Role"},actions:{id:"RequestInviteManager.actions",defaultMessage:"Actions"},accept:{id:"RequestInviteManager.accept",defaultMessage:"Accept"},reject:{id:"RequestInviteManager.reject",defaultMessage:"Reject"},noResults:{id:"RequestInviteManager.noResults",defaultMessage:"No results"}}),Xe=({workspaceId:s})=>{const a=M(),[t,n]=x.useState(""),[r,c]=x.useState(""),l=x.useMemo(()=>z(o=>c(o),300,{leading:!1,trailing:!0}),[]);return e.jsxs("div",{children:[e.jsx(le,{title:a.formatMessage(H.pendingRequests),subTitle:a.formatMessage(H.pendingRequestsSubtitle)}),e.jsx(J,{value:t,onChange:o=>{n(o.target.value),l(o.target.value)},placeholder:a.formatMessage(H.searchRequestPlaceholder),className:"mb-2"}),e.jsx(Je,{workspaceId:s,filterInputValue:r})]})},H=b({pendingRequests:{id:"admin.workspace.members.pendingRequests",defaultMessage:"Pending Requests"},pendingRequestsSubtitle:{id:"admin.workspace.members.pendingRequestsSubtitle",defaultMessage:"Accept or reject the incoming requests for access."},searchRequestPlaceholder:{id:"admin.workspace.members.searchRequestPlaceholder",defaultMessage:"Search for requests"}});function Ze({workspaceId:s}){const a=M(),t=ae(),[n,r]=x.useState(""),[c,l]=x.useState(""),o=x.useMemo(()=>z(f=>l(f),300,{leading:!1,trailing:!0}),[]);if(!t)return null;const d=t?.isTeam(),m=t.isAdminOfAccount(),g=t.isOwnerOfAccount();return e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"mb-4.5 flex items-center justify-between",children:[e.jsx(J,{value:n,onChange:f=>{r(f.target.value),o(f.target.value)},placeholder:a.formatMessage(O.searchMembersPlaceholder)}),e.jsxs("div",{className:"flex items-center gap-2",children:[(m||g||d)&&e.jsx(T,{onClick:()=>{se.openModal(Ne.InviteUsersToWorkspace),ge.logEvent("chatgpt_invite_users_to_workspace",0,{action:"OpenAdminInviteModal",location:"workspace-admin-click",text:"InviteMember",step:"OpenModal"})},icon:Re,children:e.jsx(u,{...O.inviteMemberButton})}),d?e.jsx(Ce,{triggerButton:e.jsx(T,{color:"secondary",icon:P}),children:e.jsx(h.Item,{onClick:()=>{t&&se.setLeaveWorkspaceData(t)},children:e.jsx(u,{...O.leaveWorkspace})})}):null]})]}),e.jsx(Be,{workspaceId:s,filterInputValue:c})]})}const O=b({inviteMemberButton:{id:"InviteManager.inviteMemberButton",defaultMessage:"Invite member"},leaveWorkspace:{id:"WorkspaceMembers.leaveWorkspace",defaultMessage:"Leave workspace"},searchMembersPlaceholder:{id:"WorkspaceMembers.searchMembersPlaceholder",defaultMessage:"Filter by name"}}),es=Q(()=>$(()=>import("./vxbrxstfboz9dcoe.js"),__vite__mapDeps([2,1,3,4,5,6,7,8,9,10,11]))),ss=s=>s==="members"||s==="invites"||s==="requests";function as({currentWorkspaceId:s}){const a=M(),t=ae(),n=Ie(s)??"?",r=Ue(t),l=(ke()?.length??0)>0,d=!t?.isTeam()&&l,m=x.useMemo(()=>{const v=[{key:"members",label:a.formatMessage(y.allMembers),children:e.jsx(Ze,{workspaceId:s})},{key:"invites",label:a.formatMessage(y.pendingInvites),children:e.jsx(ze,{workspaceId:s})}];return d?[...v,{key:"requests",label:a.formatMessage(y.pendingRequests),children:e.jsx(Xe,{workspaceId:s})}]:v},[s,a,d]),g=he(),[f]=pe(),k=f.get("tab"),[q,F]=x.useState(k&&ss(k)?k:m[0].key),D=v=>{F(v),g({pathname:window.location.pathname,search:new URLSearchParams({tab:v}).toString()})};return t?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{children:e.jsx("title",{children:a.formatMessage(y.adminBrowserPageTitle)})}),e.jsx(Se,{title:a.formatMessage(y.adminPageTitle),subtitle:e.jsx(u,{values:{totalMembers:n,planName:r},...y.totalMembers}),tabsHeader:e.jsx(_e,{items:m,activeTab:q,onTabChange:D})}),e.jsxs(qe,{children:[e.jsx(we,{items:m,activeTab:q}),e.jsx("p",{className:"text-token-text-secondary mt-4 text-sm",children:e.jsx(u,{...y.memberListUpdateDelayNote})})]}),t!=null?e.jsx(es,{workspace:t}):null]}):null}const y=b({adminBrowserPageTitle:{id:"adminPage.adminBrowserPageTitle",defaultMessage:"ChatGPT - Admin | Members"},adminPageTitle:{id:"adminPage.adminPageTitle.0",defaultMessage:"Members"},workspaceNotFound:{id:"adminPage.workspaceNotFound",defaultMessage:"Workspace not found"},totalMembers:{id:"adminPage.totalMembers",defaultMessage:"{planName} · {totalMembers} {totalMembers, plural, one {member} other {members}}"},backToChat:{id:"adminPage.backToChat",defaultMessage:"Back to chat"},allMembers:{id:"adminPage.allMembers",defaultMessage:"Users"},pendingInvites:{id:"adminPage.pendingInvites",defaultMessage:"Pending invites"},pendingRequests:{id:"adminPage.pendingRequests",defaultMessage:"Pending requests"},memberListUpdateDelayNote:{id:"adminPage.memberListUpdateDelayNote",defaultMessage:"Note: Although new workspace members can access ChatGPT immediately, it may take up to 24 hours to show them in this list."}}),Fs=xe(function(){const a=De();return e.jsx(as,{...a})});export{Fs as default};
//# sourceMappingURL=iycgiudgevsp5cza.js.map
