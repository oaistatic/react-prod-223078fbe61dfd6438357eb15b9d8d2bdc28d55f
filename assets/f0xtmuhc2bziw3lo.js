import{ad as R,O as _,c as g,s as M,N as k,eP as F,cZ as L}from"./citrwydz0bgriwlc.js";import{r as l,j as e,i as b,M as f,o as O,f as y,l as a}from"./b8ijctzpgh0s7wpx.js";import{C as D}from"./jy1hvpbwecfrhxw6.js";import{C as H}from"./bzpm2hv3f3hhm416.js";import{bY as I,jJ as G,fv as U,gm as B,ad as W,o1 as z,d3 as w,cx as V,cC as p,d4 as Y,d5 as q,a6 as K,ds as Q,bR as X,o2 as Z,d2 as N,iB as $,aA as ee,o3 as S,o4 as C,o5 as te,nP as A,j9 as se,o6 as ae,hX as ne,F as oe}from"./krbmwir12ubt4od1.js";import{N as re}from"./b4v20hsjdnh8a64d.js";import{S as ie}from"./gvs1s366o5iglka3.js";import{c as x,S as le,d as ce,J as de,a as me}from"./daid7veon13s2bqn.js";import{S as ue,A as fe,a as xe}from"./hyoix286427rgsrp.js";import{P as ge}from"./exvo283q5zxd2q6r.js";import{a as pe}from"./nvghija6qp2cunds.js";import"./otl51en3t0ec5n7s.js";import"./eigi8l95ddhoqirr.js";import"./h3krx8dg2s8o2yh5.js";import"./cfe0bfy5asp94vp2.js";import"./ku4zsoy6w4wkp690.js";import"./k1h56nx2kjoqc52m.js";import"./etmxhiuvgu79utu0.js";import"./ct6yhczwft8t5t9k.js";import"./hbpbckirom363mgh.js";import"./jkznwfhp8ahnvlot.js";import"./megablgldkh4lap1.js";import"./jekpe1ukp5thtucq.js";import"./izdon3syh095bs23.js";import"./dweroubxngal4vlb.js";import"./i7jya7stlyvnzya0.js";import"./cb2t82g498wwhuc2.js";import"./ndwtlsjk3xm27wkq.js";import"./dcml6fn13vfm1zv2.js";import"./o0ebhsapkoy5qkg1.js";import"./k7nub2yuxq70se07.js";import"./k6ccgr4wxcppeg93.js";import"./dbalwdodzoo02ru2.js";import"./oyzab3j7hun2568h.js";import"./dera5bljhpg5ja89.js";import"./hs2fsda156wfk7fz.js";import"./pfex3j43xcablmav.js";import"./pc9qsszhmtx9pu7o.js";import"./m4qet7ipn6ha09it.js";import"./h3axfhhn58bmthc9.js";import"./eg629yaevviy8e7x.js";import"./be0n9593bbjhdouz.js";import"./gbxx25eoj7wtyna0.js";import"./bzsolvz1ulyrc61b.js";import"./pc2givv05uuq8g6l.js";import"./c2d9eukr2hh7n3q0.js";import"./nhujhl3wh6ze4xx0.js";import"./djd85tifm57yisqi.js";const he=t=>l.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496ZM7.91699 7.29199C7.57181 7.29199 7.29199 7.57181 7.29199 7.91699V12.083C7.29199 12.4282 7.57181 12.708 7.91699 12.708H8.75C9.09518 12.708 9.375 12.4282 9.375 12.083V7.91699C9.375 7.57181 9.09518 7.29199 8.75 7.29199H7.91699ZM11.25 7.29199C10.9049 7.29204 10.625 7.57184 10.625 7.91699V12.083C10.625 12.4282 10.9049 12.708 11.25 12.708H12.083C12.4282 12.708 12.708 12.4282 12.708 12.083V7.91699C12.708 7.57181 12.4282 7.29199 12.083 7.29199H11.25Z"}));function P({label:t,icon:s,disabled:n=!1,onClick:o}){return e.jsxs("button",{className:"hover:bg-token-main-surface-secondary flex w-full items-center gap-2 rounded-sm p-2",disabled:n,onClick:o,children:[e.jsx("div",{className:"flex h-7 w-7 items-center justify-center",children:s}),e.jsx("div",{className:"text-sm",children:t})]})}function ye({automation:t,updateForceShowActions:s,onClickEdit:n,onClickDelete:o}){return t.next_run_times.length===0?e.jsx(je,{onClickDelete:o}):e.jsx(ve,{automation:t,updateForceShowActions:s,onClickEdit:n,onClickDelete:o})}function je({onClickDelete:t}){return e.jsx("div",{children:e.jsx(E,{onClick:t,children:e.jsx(I,{className:"icon-md"})})})}function ve({automation:t,updateForceShowActions:s,onClickEdit:n,onClickDelete:o}){const r=b(),i=R(),[c,d]=l.useState(t.is_enabled);l.useEffect(()=>d(t.is_enabled),[t.is_enabled]);const{mutate:m}=G({automation_id:t.id,onError:u=>{i.danger(r.formatMessage(u?x.messages.enableFailure:x.messages.pauseFailure)),d(!u)}}),[j,h]=l.useState(!1);return e.jsxs("div",{className:"flex",children:[e.jsx(E,{onClick:n,children:e.jsx(U,{className:"icon-sidebar"})}),e.jsx(B,{alignAgainstAnchor:"start",sideOffset:4,triggerButton:e.jsx("button",{className:"hover:bg-token-main-surface-secondary rounded-md p-2",children:e.jsx(W,{className:"icon-sidebar"})}),open:j,onOpenChange:u=>{s(u),h(u)},children:e.jsxs("div",{children:[e.jsx(P,{label:c?e.jsx(f,{...x.messages.pause}):e.jsx(f,{...x.messages.resume}),icon:c?e.jsx(le,{className:"icon-md"}):e.jsx(ue,{className:"icon-md"}),onClick:()=>{d(!c),m({is_enabled:!c}),h(!1)}}),e.jsx(P,{label:e.jsx(f,{...x.messages.delete}),icon:e.jsx(I,{className:"icon-md"}),onClick:o})]})})]})}function E({children:t,...s}){return e.jsx("button",{className:"hover:bg-token-main-surface-secondary rounded-md p-2",...s,children:t})}function we({automation:t}){return t.next_run_times.length===0?t.last_run_time?e.jsx("div",{className:"text-token-text-secondary text-sm",children:e.jsx(fe,{dateString:t.last_run_time})}):null:t.schedule_components?e.jsx(be,{automation:t}):null}function be({automation:t}){return e.jsxs("div",{className:"text-token-text-secondary flex items-center gap-1 text-sm",children:[Me(t)&&e.jsx(z,{className:"icon-sm"}),e.jsx(xe,{item:t,useShortForm:!0})]})}function Me(t){return t.schedule_components?.frequency!=="once"}function ke({filter:t}){const{isLoading:s,isFetchingNextPage:n,hasNextPage:o,fetchNextPage:r}=O({queryKey:["automations",t],queryFn:async({pageParam:i})=>{const c=await Y.getAutomations(i,t);return q.initJawbonesFromServerData(c.items,c.cursor,t),c},initialPageParam:w.getCursor(t),getNextPageParam:i=>i.cursor??void 0});return s||n?e.jsx(_,{}):o?e.jsxs("button",{className:"flex cursor-pointer items-center gap-1",onClick:()=>{r()},children:[e.jsx(V,{className:"icon-sidebar text-token-text-secondary"}),e.jsx("div",{className:"text-token-text-secondary text-sm",children:e.jsx(f,{...p.seeMore})})]}):null}function Ne({icon:t,title:s,onClickTitle:n,details:o,actions:r,showActions:i}){return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-token-text-tertiary",children:t}),e.jsx("div",{className:g("flex-1 py-4 text-sm",n&&"cursor-pointer"),onClick:n,children:s}),e.jsx("div",{children:i?r:o})]})}function Se({label:t,activeIndex:s}){return e.jsx("div",{className:g("border-token-border-default mx-4 border-b pb-4 text-base font-medium",s===0&&"border-transparent"),children:t})}function Ce({automation:t}){return t.is_enabled?t.target_time_utc?e.jsx(X,{className:"icon-sidebar text-token-text-secondary"}):e.jsx(Q,{className:"icon-sidebar text-token-text-tertiary"}):e.jsx(he,{className:"icon-sidebar text-token-text-tertiary"})}function Pe({automation:t,filter:s,index:n,activeIndex:o}){const r=y(),[i,c]=l.useState(!1),d=l.useCallback(T=>{c(T)},[]),m=n===o,j=n+1===o,[h,u]=l.useState(!1),[J,v]=l.useState(!1);return e.jsxs("div",{className:g("rounded-2xl",m&&"dark:bg-token-main-surface-secondary bg-[#f4f4f4]"),children:[e.jsx("div",{className:g("border-token-border-default mx-4 border-b",m&&"border-transparent",j&&"border-transparent"),children:e.jsx(Ne,{icon:e.jsx(Ce,{automation:t}),title:e.jsx("span",{className:g(s==="scheduled"?"text-token-text-primary":"text-token-text-secondary"),children:t.title}),onClickTitle:()=>{t.conversation_id&&r(K(t.conversation_id))},details:e.jsx(we,{automation:t}),actions:e.jsx(ye,{automation:t,updateForceShowActions:d,onClickEdit:()=>u(!0),onClickDelete:()=>v(!0)}),showActions:m||i})}),J&&e.jsx(ce,{item:t,closeModal:()=>v(!1),onConfirm:()=>v(!1)}),h&&e.jsx(de,{initialScheduleComponents:t.schedule_components,nextRunTimes:t.next_run_times,children:e.jsx(me,{item:t,source:"tasks",onClose:()=>u(!1)})})]})}function _e({label:t,filter:s,automations:n,isActiveSection:o}){const[r,i]=l.useState(void 0);l.useEffect(()=>{o||i(void 0)},[o]);const c=l.useMemo(()=>s==="scheduled"?Ie(n):n,[n,s]);return e.jsxs("div",{children:[e.jsx(Se,{label:t,activeIndex:r}),e.jsxs("div",{className:"flex flex-col",children:[c.map((d,m)=>e.jsx("div",{onMouseEnter:()=>i(m),onMouseLeave:()=>i(void 0),children:e.jsx(Pe,{automation:d,filter:s,activeIndex:o?r:void 0,index:m})},d.id)),e.jsx("div",{className:"p-4",children:e.jsx(ke,{filter:s})})]})]})}function Ie(t){return[...t].sort((s,n)=>{const o=s.next_run_times&&s.next_run_times.length?new Date(s.next_run_times[0]).getTime():NaN,r=n.next_run_times&&n.next_run_times.length?new Date(n.next_run_times[0]).getTime():NaN;return!isNaN(o)&&!isNaN(r)?o-r:isNaN(o)?1:-1})}const Ae=[{title:a({id:"px0KEi",defaultMessage:"Summarize AI news every week"}),prompt:a({id:"YTP/VT",defaultMessage:"On Fridays at 2 PM, send me a summary of the latest news in AI. Keep it brief, and keep an eye out for especially-surprising stories."}),category:"news"},{title:a({id:"qnUdUt",defaultMessage:"Practice French with me daily"}),prompt:a({id:"zNE69X",defaultMessage:"Let’s do a daily French lesson — remind me each day, in the afternoon, and then help me practice."}),category:"teach-or-explain"},{title:a({id:"eiy5Ij",defaultMessage:"Remind me about mom’s birthday"}),prompt:a({id:"aZA3OR",defaultMessage:"I don’t want to forget Mom’s birthday. It’s on..."}),category:"misc"},{title:a({id:"GC/Co1",defaultMessage:"Each evening, check the next day’s weather"}),prompt:a({id:"aSUv3a",defaultMessage:"Every evening, sometime after 8 PM, check the next day’s weather and let me know if it’s going to rain."}),category:"weather"},{title:a({id:"meGwc1",defaultMessage:"Send me a daily horoscope"}),prompt:a({id:"6VmLLW",defaultMessage:"Send me a daily horoscope, sometime before breakfast — just a quick summary. My sign is..."}),category:"misc"},{title:a({id:"HL4R0g",defaultMessage:"Make sure I relax this weekend"}),prompt:a({id:"ju8rN+",defaultMessage:"On Friday night, send me a short list of ways to relax — based on everything you know about my interests."}),category:"idea"},{title:a({id:"Q1bJy8",defaultMessage:"Check for cheap flights to Tokyo"}),prompt:a({id:"QohXcp",defaultMessage:"Once a week, check for cheap (below ~$400) flights from SFO to Tokyo — and let me know if you find any."}),category:"travel"},{title:a({id:"+kI94E",defaultMessage:"Don’t let me forget to stretch every day"}),prompt:a({id:"NW0Zk3",defaultMessage:"Don’t let me forget to stretch — send me a reminder every weekday afternoon."}),category:"misc"},{title:a({id:"rHJEnj",defaultMessage:"Suggest a morning mindfulness exercise"}),prompt:a({id:"ah43oC",defaultMessage:"Early each weekday morning, suggest a 5-minute mindfulness exercise for me. It could be guided breathing, a short body scan, or whatever."}),category:"idea"},{title:a({id:"IbEosX",defaultMessage:"Find a fresh, healthy recipe each Monday"}),prompt:a({id:"GRTGDW",defaultMessage:"Every Monday afternoon, suggest one new, simple, and wholesome recipe I can try that week. Include ingredients, instructions, and a little note on why this particular recipe is special."}),category:"teach-or-explain"},{title:a({id:"J/AIWp",defaultMessage:"Give me a tip for using ChatGPT every Tuesday"}),prompt:a({id:"5KLHO8",defaultMessage:"Every Tuesday afternoon, send me a tip about how to get the most out of ChatGPT. Call them ”Tuesday Tips,” because I’ve always been a fan of alliteration."}),category:"genius"},{title:a({id:"Y/bfH8",defaultMessage:"Keep an eye out for CRJ tour dates"}),prompt:a({id:"HwHQzy",defaultMessage:"Check for Carly Rae Jepsen tour dates around me — let me know when she announces any!"}),category:"local"},{title:a({id:"VfFpl5",defaultMessage:"Send me a daily workout plan"}),prompt:a({id:"ystKC5",defaultMessage:"Every day, send me a workout plan — and take into account what we did the previous day."}),category:"work"},{title:a({id:"fSkvJe",defaultMessage:"Ask how my New Year’s resolutions are going"}),prompt:a({id:"9b5IwU",defaultMessage:"Every month, ask about my New Year’s resolutions — make sure I’m staying on top of them!"}),category:"misc"},{title:a({id:"mYtv9W",defaultMessage:"Remind me to journal every night"}),prompt:a({id:"7SI5Sz",defaultMessage:"Remind me to write in my journal, every night after 7 PM."}),category:"teach-or-explain"},{title:a({id:"f8jyRA",defaultMessage:"Once a month, check for cool local events"}),prompt:a({id:"03RCfs",defaultMessage:"Once a month, check for cool local events — like art show openings, music performances, and the like — and summarize them for me."}),category:"local"},{title:a({id:"a7JMfM",defaultMessage:"Pull together a few date ideas, every Thursday"}),prompt:a({id:"bIMHpo",defaultMessage:"Pull together a few date ideas for me, and send them every Thursday. (What can I say, I’m a romantic!)"}),category:"local"},{title:a({id:"YXkXqR",defaultMessage:"Tell me an ongoing bedtime story"}),prompt:a({id:"h6sw9I",defaultMessage:"Every night, before 9 PM, I want you to write the next (brief) chapter in an ongoing sci-fi story for me."}),category:"write"}];function Ee(){const{isLoadingScheduled:t,isLoadingPaused:s,isLoadingFinished:n}=Z(),o=N(w.getAllJawbonesGrouped),r=N(w.getHasJawbones);return!r&&(t||s||n)?e.jsx(Je,{}):r?e.jsx(Te,{groupedAutomations:o}):e.jsx(Re,{})}function Je(){return e.jsx("div",{className:"my-16 h-full",children:e.jsx("div",{className:"mx-auto h-full max-w-(--breakpoint-md)",children:e.jsx("div",{className:"flex w-full justify-center",children:e.jsx(_,{})})})})}function Te({groupedAutomations:t}){const s=b(),[n,o]=l.useState(void 0);return e.jsx("div",{className:"my-16 h-full",children:e.jsx("div",{className:"mx-auto h-full max-w-(--breakpoint-md)",children:e.jsx("div",{className:"flex flex-col gap-10",children:Object.entries(t).map(([r,{label:i,filter:c,automations:d}],m)=>d.length>0&&e.jsx("div",{onMouseEnter:()=>o(m),onMouseLeave:()=>o(void 0),children:e.jsx(_e,{filter:c,label:s.formatMessage(i),automations:d,isActiveSection:n===m})},r))})})})}function Re(){const t=b(),s=$(!0),n=y(),o=l.useMemo(()=>[...Ae].sort(()=>.5-Math.random()).slice(0,3),[]);return e.jsxs("div",{className:"mx-auto flex h-full max-w-2xl flex-col items-center justify-center gap-8",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[e.jsx(ee,{className:"icon-2xl"}),e.jsxs("div",{className:"flex flex-col items-center justify-center gap-1",children:[e.jsx("div",{className:"text-base font-medium",children:e.jsx(f,{...p.emptyStateTitle})}),e.jsx("div",{className:"text-token-text-secondary text-sm",children:e.jsx(f,{...p.emptyStateDescription})})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[o.map((r,i)=>e.jsx(S,{label:t.formatMessage(r.title),icon:e.jsx(te,{category:r.category,useV2Colors:!0}),onClick:()=>{M.count(k.JAWBONE,"jawbone_null_state.click_prompt"),n({pathname:"/",search:`?prompt=${encodeURIComponent(t.formatMessage(r.prompt))}&model=${C}`})}},i)),e.jsx(S,{label:t.formatMessage(p.emptyStateTryYourOwn),rightIcon:e.jsx(ie,{className:"icon text-token-text-secondary"}),onClick:()=>{M.count(k.JAWBONE,"jawbone_null_state.click_empty_prompt"),s({location:"tasks-page",modelId:C})}})]})]})}const Fe={},Et=F(function(){const s=A(),n=y();return l.useEffect(()=>{s||n("/")},[s,n]),s?e.jsx(Le,{}):null});function Le(){const[t,s]=l.useState(()=>L()),n=A(),o=y();l.useEffect(()=>{n||o("/")},[n,o]);const r=e.jsx(se,{children:e.jsx(ae,{anchor:"vertical",className:Fe.screen,leading:e.jsxs(ne,{children:[e.jsxs("div",{className:"flex items-center overflow-hidden",children:[e.jsx(re,{clientThreadId:t}),e.jsx("div",{className:"text-token-text-secondary px-3 text-xl font-medium",children:e.jsx(f,{...p.pageTitle})})]}),e.jsx(H,{clientThreadId:t})]}),children:e.jsx(Ee,{})})});return e.jsx(oe,{children:e.jsx(ge,{clientThreadId:t,children:e.jsx(pe,{clientThreadId:t,setClientThreadId:s,children:e.jsx(D,{clientThreadId:t,setClientThreadId:s,threadContent:r})})})})}export{Et as default};
//# sourceMappingURL=f0xtmuhc2bziw3lo.js.map
